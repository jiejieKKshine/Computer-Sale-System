{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _typeof } from '../_chunks/dep-4659d73b.mjs';\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { isVNode, h, defineComponent, toRefs, ref, computed, reactive, onMounted, nextTick, onUpdated, createVNode, mergeProps } from 'vue';\nimport { i as isFunction_1 } from '../_chunks/dep-06dcbf4c.mjs';\nimport { u as upperFirst_1 } from '../_chunks/dep-03ad9cda.mjs';\nimport { i as isString_1 } from '../_chunks/dep-03a7fb6c.mjs';\nimport { p as pick_1 } from '../_chunks/dep-4de7e2ca.mjs';\nimport { g as get_1 } from '../_chunks/dep-ae202bc0.mjs';\nimport { formatRowAttributes, formatRowClassNames, formatClassNames } from './utils.mjs';\nimport { getRowFixedStyles, getColumnFixedStyles } from './hooks/useFixed.mjs';\nimport useClassName from './hooks/useClassName.mjs';\nimport TEllipsis from './ellipsis.mjs';\nimport baseTableProps from './base-table-props.mjs';\nimport useLazyLoad from './hooks/useLazyLoad.mjs';\nimport { getCellKey } from './hooks/useRowspanAndColspan.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-aeaef131.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-0e581ac0.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-69e0f6fc.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-4ec29b23.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-5efe53d1.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '../_chunks/dep-5993931e.mjs';\nimport '../_chunks/dep-8dfc9324.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-6a7115de.mjs';\nimport '../_chunks/dep-4d4e2af1.mjs';\nimport '../_chunks/dep-3c4e4325.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-fbd4eddb.mjs';\nimport '../_chunks/dep-88c8d9ed.mjs';\nimport '../_common/js/log/index.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../_common/js/utils/getScrollbarWidth.mjs';\nimport '../_common/js/utils/helper.mjs';\nimport '../_chunks/dep-4a990ea3.mjs';\nimport '../_chunks/dep-5d3f7c0e.mjs';\nimport '../_chunks/dep-73384992.mjs';\nimport '../_chunks/dep-58a62202.mjs';\nimport '../_chunks/dep-889e457b.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../hooks/useConfig.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/type.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../tooltip/index.mjs';\nimport '../tooltip/tooltip.mjs';\nimport '../_chunks/dep-88ae49da.mjs';\nimport '../tooltip/props.mjs';\nimport '../popup/props.mjs';\nimport '../popup/index.mjs';\nimport '../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/tnode.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../popup/container.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../popup/type.mjs';\nimport '../tooltip/util.mjs';\nimport '../tooltip/type.mjs';\nimport '../_common/js/utils/observe.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar TABLE_PROPS = [\"rowKey\", \"rowClassName\", \"columns\", \"fixedRows\", \"footData\", \"rowAttributes\", \"rowspanAndColspan\", \"scroll\", \"cellEmptyContent\", \"pagination\", \"attach\", \"onCellClick\", \"onRowClick\", \"onRowDblclick\", \"onRowMouseover\", \"onRowMousedown\", \"onRowMouseenter\", \"onRowMouseleave\", \"onRowMouseup\"];\nvar ROW_LISTENERS = [\"click\", \"dblclick\", \"mouseover\", \"mousedown\", \"mouseenter\", \"mouseleave\", \"mouseup\"];\nfunction renderCell(params, slots, extra) {\n  var col = params.col,\n    row = params.row,\n    rowIndex = params.rowIndex;\n  if (col.colKey === \"serial-number\") {\n    var _ref = (extra === null || extra === void 0 ? void 0 : extra.pagination) || {},\n      current = _ref.current,\n      pageSize = _ref.pageSize,\n      defaultCurrent = _ref.defaultCurrent,\n      defaultPageSize = _ref.defaultPageSize;\n    var tCurrent = current || defaultCurrent;\n    var tPageSize = pageSize || defaultPageSize;\n    if (tPageSize && tCurrent) {\n      return tPageSize * (tCurrent - 1) + rowIndex + 1;\n    }\n    return rowIndex + 1;\n  }\n  if (isFunction_1(col.cell)) {\n    return col.cell(h, params);\n  }\n  if (slots[col.colKey]) {\n    return slots[col.colKey](params);\n  }\n  if (isString_1(col.cell) && slots[col.cell]) {\n    return slots[col.cell](params);\n  }\n  if (isFunction_1(col.render)) {\n    return col.render(h, _objectSpread(_objectSpread({}, params), {}, {\n      type: \"cell\"\n    }));\n  }\n  var r = get_1(row, col.colKey);\n  if (![void 0, \"\", null].includes(r)) return r;\n  if (extra !== null && extra !== void 0 && extra.cellEmptyContent) {\n    return isFunction_1(extra.cellEmptyContent) ? extra.cellEmptyContent(h, params) : extra.cellEmptyContent;\n  }\n  if (slots.cellEmptyContent) return slots.cellEmptyContent(params);\n  if (slots[\"cell-empty-content\"]) return slots[\"cell-empty-content\"](params);\n  return r;\n}\nvar TrElement = defineComponent({\n  name: \"TR\",\n  props: _objectSpread(_objectSpread({\n    row: Object,\n    rowIndex: Number,\n    dataLength: Number,\n    ellipsisOverlayClassName: String,\n    classPrefix: String,\n    rowAndColFixedPosition: Map,\n    skipSpansMap: Map,\n    virtualConfig: Object,\n    active: Boolean,\n    isHover: Boolean\n  }, pick_1(baseTableProps, TABLE_PROPS)), {}, {\n    tableElm: {},\n    tableContentElm: {}\n  }),\n  emits: [\"row-mounted\"],\n  setup: function setup(props, context) {\n    var _toRefs = toRefs(props),\n      tableContentElm = _toRefs.tableContentElm,\n      active = _toRefs.active,\n      isHover = _toRefs.isHover;\n    var trRef = ref(null);\n    var _useClassName = useClassName(),\n      tdEllipsisClass = _useClassName.tdEllipsisClass,\n      tableBaseClass = _useClassName.tableBaseClass,\n      tableColFixedClasses = _useClassName.tableColFixedClasses,\n      tableRowFixedClasses = _useClassName.tableRowFixedClasses,\n      tdAlignClasses = _useClassName.tdAlignClasses,\n      tableDraggableClasses = _useClassName.tableDraggableClasses;\n    var trStyles = computed(function () {\n      return getRowFixedStyles(get_1(props.row, props.rowKey || \"id\"), props.rowIndex, props.dataLength, props.fixedRows, props.rowAndColFixedPosition, tableRowFixedClasses, props.virtualConfig.isVirtualScroll.value ? props.virtualConfig.translateY.value : 0);\n    });\n    var trAttributes = computed(function () {\n      return formatRowAttributes(props.rowAttributes, {\n        row: props.row,\n        rowIndex: props.rowIndex,\n        type: \"body\"\n      }) || {};\n    });\n    var classes = computed(function () {\n      var _trStyles$value;\n      var customClasses = formatRowClassNames(props.rowClassName, {\n        row: props.row,\n        rowKey: props.rowKey,\n        rowIndex: props.rowIndex,\n        type: \"body\"\n      }, props.rowKey || \"id\");\n      return [(_trStyles$value = trStyles.value) === null || _trStyles$value === void 0 ? void 0 : _trStyles$value.classes, customClasses, _defineProperty(_defineProperty({}, \"\".concat(props.classPrefix, \"-table__row--active\"), active.value), \"\".concat(props.classPrefix, \"-table__row--hover\"), isHover.value)].filter(function (v) {\n        return v;\n      });\n    });\n    var _useLazyLoad = useLazyLoad(tableContentElm, trRef, reactive(_objectSpread(_objectSpread({}, props.scroll), {}, {\n        rowIndex: props.rowIndex\n      }))),\n      hasLazyLoadHolder = _useLazyLoad.hasLazyLoadHolder,\n      tRowHeight = _useLazyLoad.tRowHeight;\n    var getTrListeners = function getTrListeners(row, rowIndex) {\n      var trListeners = {};\n      ROW_LISTENERS.forEach(function (eventName) {\n        trListeners[\"on\".concat(upperFirst_1(eventName))] = function (e) {\n          var _props;\n          var p = {\n            e: e,\n            row: row,\n            index: rowIndex\n          };\n          (_props = props[\"onRow\".concat(upperFirst_1(eventName))]) === null || _props === void 0 || _props.call(props, p);\n        };\n      });\n      return trListeners;\n    };\n    var notifyVirtualSizeUpdate = function notifyVirtualSizeUpdate() {\n      var _props$virtualConfig;\n      if ((_props$virtualConfig = props.virtualConfig) !== null && _props$virtualConfig !== void 0 && _props$virtualConfig.isVirtualScroll.value) {\n        context.emit(\"row-mounted\", {\n          ref: trRef,\n          data: props.row\n        });\n      }\n    };\n    onMounted(function () {\n      nextTick(function () {\n        notifyVirtualSizeUpdate();\n      });\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        notifyVirtualSizeUpdate();\n      });\n    });\n    function renderEllipsisCell(cellParams, params) {\n      var cellNode = params.cellNode;\n      var col = cellParams.col,\n        colIndex = cellParams.colIndex;\n      var content;\n      if (isFunction_1(col.ellipsis)) {\n        content = col.ellipsis(h, cellParams);\n      } else if (_typeof(col.ellipsis) === \"object\" && isFunction_1(col.ellipsis.content)) {\n        content = col.ellipsis.content(h, cellParams);\n      } else if (context.slots[\"ellipsis-\".concat(col.colKey)]) {\n        content = context.slots[\"ellipsis-\".concat(col.colKey)](cellParams);\n      } else if (context.slots.ellipsis) {\n        content = context.slots.ellipsis(cellParams);\n      }\n      var tooltipProps = {};\n      if (_typeof(col.ellipsis) === \"object\") {\n        tooltipProps = \"props\" in col.ellipsis ? col.ellipsis.props : col.ellipsis || void 0;\n      }\n      var tableElement = props.tableElm;\n      var placement = colIndex === 0 ? \"top-left\" : \"top\";\n      placement = colIndex === props.columns.length - 1 ? \"top-right\" : placement;\n      return createVNode(TEllipsis, {\n        \"placement\": placement,\n        \"attach\": tableElement ? function () {\n          return tableElement;\n        } : void 0,\n        \"tooltipContent\": content && function () {\n          return content;\n        },\n        \"tooltipProps\": tooltipProps,\n        \"overlayClassName\": props.ellipsisOverlayClassName,\n        \"classPrefix\": props.classPrefix\n      }, _isSlot(cellNode) ? cellNode : {\n        \"default\": function _default() {\n          return [cellNode];\n        }\n      });\n    }\n    function renderTd(params, extra) {\n      var col = params.col,\n        colIndex = params.colIndex,\n        rowIndex = params.rowIndex;\n      var cellSpans = extra.cellSpans,\n        dataLength = extra.dataLength,\n        rowAndColFixedPosition = extra.rowAndColFixedPosition;\n      var cellNode = renderCell(params, context.slots, {\n        cellEmptyContent: extra.cellEmptyContent,\n        pagination: props.pagination\n      });\n      var tdStyles = getColumnFixedStyles(col, colIndex, rowAndColFixedPosition, tableColFixedClasses);\n      var customClasses = formatClassNames(col.className, _objectSpread(_objectSpread({}, params), {}, {\n        type: \"td\"\n      }));\n      var classes2 = [tdStyles.classes, customClasses, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, tdEllipsisClass, col.ellipsis), tableBaseClass.tdLastRow, rowIndex + cellSpans.rowspan === dataLength), tableBaseClass.tdFirstCol, colIndex === 0 && props.rowspanAndColspan), tdAlignClasses[col.align], col.align && col.align !== \"left\"), tableDraggableClasses.handle, col.colKey === \"drag\")];\n      var onClick = function onClick(e) {\n        var _props$onCellClick;\n        var p = _objectSpread(_objectSpread({}, params), {}, {\n          e: e\n        });\n        if (col.stopPropagation) {\n          e.stopPropagation();\n        }\n        (_props$onCellClick = props.onCellClick) === null || _props$onCellClick === void 0 || _props$onCellClick.call(props, p);\n      };\n      var normalAttrs = isFunction_1(col.attrs) ? col.attrs(_objectSpread(_objectSpread({}, params), {}, {\n        type: \"td\"\n      })) : col.attrs;\n      var attrs = _objectSpread(_objectSpread({}, normalAttrs), cellSpans);\n      return createVNode(\"td\", mergeProps({\n        \"key\": col.colKey || colIndex,\n        \"class\": classes2,\n        \"style\": tdStyles.style\n      }, attrs, {\n        \"onClick\": onClick\n      }), [col.ellipsis ? renderEllipsisCell(params, {\n        cellNode: cellNode\n      }) : cellNode]);\n    }\n    return function () {\n      var _trStyles$value2;\n      var columns = props.columns,\n        skipSpansMap = props.skipSpansMap,\n        row = props.row,\n        dataLength = props.dataLength,\n        rowAndColFixedPosition = props.rowAndColFixedPosition;\n      var columVNodeList = columns === null || columns === void 0 ? void 0 : columns.map(function (col, colIndex) {\n        var cellSpans = {};\n        var params = {\n          row: row,\n          col: col,\n          rowIndex: props.rowIndex,\n          colIndex: colIndex\n        };\n        var spanState = null;\n        if (props.skipSpansMap.size) {\n          var _spanState, _spanState2;\n          var cellKey = getCellKey(row, props.rowKey, col.colKey, colIndex);\n          spanState = skipSpansMap.get(cellKey) || {};\n          ((_spanState = spanState) === null || _spanState === void 0 ? void 0 : _spanState.rowspan) > 1 && (cellSpans.rowspan = spanState.rowspan);\n          ((_spanState2 = spanState) === null || _spanState2 === void 0 ? void 0 : _spanState2.colspan) > 1 && (cellSpans.colspan = spanState.colspan);\n          if (spanState.skipped) return null;\n        }\n        return renderTd(params, {\n          dataLength: dataLength,\n          rowAndColFixedPosition: rowAndColFixedPosition,\n          columnLength: columns.length,\n          cellSpans: cellSpans,\n          cellEmptyContent: props.cellEmptyContent\n        });\n      });\n      return createVNode(\"tr\", mergeProps({\n        \"ref\": trRef\n      }, trAttributes.value, {\n        \"style\": (_trStyles$value2 = trStyles.value) === null || _trStyles$value2 === void 0 ? void 0 : _trStyles$value2.style,\n        \"class\": classes.value\n      }, getTrListeners(row, props.rowIndex)), [hasLazyLoadHolder.value ? [createVNode(\"td\", {\n        \"style\": {\n          height: \"\".concat(tRowHeight.value, \"px\"),\n          border: \"none\"\n        }\n      }, null)] : columVNodeList]);\n    };\n  }\n});\nexport { ROW_LISTENERS, TABLE_PROPS, TrElement as default, renderCell };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","TABLE_PROPS","ROW_LISTENERS","renderCell","params","slots","extra","col","row","rowIndex","colKey","_ref","pagination","current","pageSize","defaultCurrent","defaultPageSize","tCurrent","tPageSize","isFunction_1","cell","h","isString_1","render","_objectSpread","type","r","get_1","includes","cellEmptyContent","TrElement","defineComponent","name","props","Number","dataLength","ellipsisOverlayClassName","String","classPrefix","rowAndColFixedPosition","Map","skipSpansMap","virtualConfig","active","Boolean","isHover","pick_1","baseTableProps","tableElm","tableContentElm","emits","setup","context","_toRefs","toRefs","trRef","ref","_useClassName","useClassName","tdEllipsisClass","tableBaseClass","tableColFixedClasses","tableRowFixedClasses","tdAlignClasses","tableDraggableClasses","trStyles","computed","getRowFixedStyles","rowKey","fixedRows","isVirtualScroll","value","translateY","trAttributes","formatRowAttributes","rowAttributes","classes","_trStyles$value","customClasses","formatRowClassNames","rowClassName","_defineProperty","concat","filter","v","_useLazyLoad","useLazyLoad","reactive","scroll","hasLazyLoadHolder","tRowHeight","getTrListeners","trListeners","forEach","eventName","upperFirst_1","e","_props","p","index","notifyVirtualSizeUpdate","_props$virtualConfig","emit","data","onMounted","nextTick","onUpdated","renderEllipsisCell","cellParams","cellNode","colIndex","content","ellipsis","_typeof","tooltipProps","tableElement","placement","columns","length","createVNode","TEllipsis","_default","renderTd","cellSpans","tdStyles","getColumnFixedStyles","formatClassNames","className","classes2","tdLastRow","rowspan","tdFirstCol","rowspanAndColspan","align","handle","onClick","_props$onCellClick","stopPropagation","onCellClick","normalAttrs","attrs","mergeProps","style","_trStyles$value2","columVNodeList","map","spanState","size","_spanState","_spanState2","cellKey","getCellKey","get","colspan","skipped","columnLength","height","border"],"sources":["../../src/table/tr.tsx"],"sourcesContent":["import {\n  defineComponent,\n  PropType,\n  SetupContext,\n  h,\n  computed,\n  ref,\n  reactive,\n  toRefs,\n  onUpdated,\n  nextTick,\n  onMounted,\n} from 'vue';\nimport isFunction from 'lodash/isFunction';\nimport upperFirst from 'lodash/upperFirst';\nimport isString from 'lodash/isString';\nimport pick from 'lodash/pick';\nimport get from 'lodash/get';\nimport { formatClassNames, formatRowAttributes, formatRowClassNames } from './utils';\nimport { getRowFixedStyles, getColumnFixedStyles } from './hooks/useFixed';\nimport useClassName from './hooks/useClassName';\nimport TEllipsis from './ellipsis';\nimport { BaseTableCellParams, TableRowData, RowspanColspan, TdPrimaryTableProps, TdBaseTableProps } from './type';\nimport baseTableProps from './base-table-props';\nimport useLazyLoad from './hooks/useLazyLoad';\nimport { RowAndColFixedPosition } from './interface';\nimport { getCellKey, SkipSpansValue } from './hooks/useRowspanAndColspan';\nimport { TooltipProps } from '../tooltip';\nimport { PaginationProps } from '..';\nimport { VirtualScrollConfig } from '../hooks/useVirtualScrollNew';\nimport { AttachNode, SlotReturnValue } from '../common';\n\nexport interface RenderTdExtra {\n  rowAndColFixedPosition: RowAndColFixedPosition;\n  columnLength: number;\n  dataLength: number;\n  cellSpans: RowspanColspan;\n  cellEmptyContent: TdBaseTableProps['cellEmptyContent'];\n}\n\nexport interface RenderEllipsisCellParams {\n  cellNode: any;\n}\n\nexport type TrCommonProps = Pick<TdPrimaryTableProps, TrPropsKeys>;\n\nexport const TABLE_PROPS = [\n  'rowKey',\n  'rowClassName',\n  'columns',\n  'fixedRows',\n  'footData',\n  'rowAttributes',\n  'rowspanAndColspan',\n  'scroll',\n  'cellEmptyContent',\n  'pagination',\n  'attach',\n  'onCellClick',\n  'onRowClick',\n  'onRowDblclick',\n  'onRowMouseover',\n  'onRowMousedown',\n  'onRowMouseenter',\n  'onRowMouseleave',\n  'onRowMouseup',\n] as const;\n\nexport type TrPropsKeys = typeof TABLE_PROPS[number];\n\nexport interface TrProps extends TrCommonProps {\n  rowKey: string;\n  row: TableRowData;\n  rowIndex: number;\n  ellipsisOverlayClassName: string;\n  classPrefix: string;\n  dataLength: number;\n  rowAndColFixedPosition?: RowAndColFixedPosition;\n  skipSpansMap?: Map<string, SkipSpansValue>;\n  tableElm?: any;\n  // HTMLDivElement\n  tableContentElm?: any;\n  cellEmptyContent: TdBaseTableProps['cellEmptyContent'];\n  virtualConfig: VirtualScrollConfig;\n  attach?: AttachNode;\n  active?: boolean;\n  isHover?: boolean;\n}\n\nexport const ROW_LISTENERS = ['click', 'dblclick', 'mouseover', 'mousedown', 'mouseenter', 'mouseleave', 'mouseup'];\n\nexport function renderCell(\n  params: BaseTableCellParams<TableRowData>,\n  slots: SetupContext['slots'],\n  extra?: {\n    cellEmptyContent?: TdBaseTableProps['cellEmptyContent'];\n    pagination?: PaginationProps;\n  },\n) {\n  const { col, row, rowIndex } = params;\n  // support serial number column\n  if (col.colKey === 'serial-number') {\n    const { current, pageSize, defaultCurrent, defaultPageSize } = extra?.pagination || {};\n    const tCurrent = current || defaultCurrent;\n    const tPageSize = pageSize || defaultPageSize;\n    if (tPageSize && tCurrent) {\n      return tPageSize * (tCurrent - 1) + rowIndex + 1;\n    }\n    return rowIndex + 1;\n  }\n  if (isFunction(col.cell)) {\n    return col.cell(h, params);\n  }\n  if (slots[col.colKey]) {\n    return slots[col.colKey](params);\n  }\n  if (isString(col.cell) && slots[col.cell]) {\n    return slots[col.cell](params);\n  }\n  if (isFunction(col.render)) {\n    return col.render(h, { ...params, type: 'cell' });\n  }\n  const r = get(row, col.colKey);\n  // 0 和 false 属于正常可用之，不能使用兜底逻辑 cellEmptyContent\n  if (![undefined, '', null].includes(r)) return r;\n  // cellEmptyContent 作为空数据兜底显示，用户可自定义\n  if (extra?.cellEmptyContent) {\n    return isFunction(extra.cellEmptyContent) ? extra.cellEmptyContent(h, params) : extra.cellEmptyContent;\n  }\n  if (slots.cellEmptyContent) return slots.cellEmptyContent(params);\n  if (slots['cell-empty-content']) return slots['cell-empty-content'](params);\n  return r;\n}\n\n// 表格行组件\nexport default defineComponent({\n  name: 'TR',\n\n  props: {\n    row: Object as PropType<TableRowData>,\n    rowIndex: Number,\n    dataLength: Number,\n    ellipsisOverlayClassName: String,\n    classPrefix: String,\n    rowAndColFixedPosition: Map as PropType<RowAndColFixedPosition>,\n    // 合并单元格，是否跳过渲染\n    skipSpansMap: Map as PropType<TrProps['skipSpansMap']>,\n    virtualConfig: Object as PropType<TrProps['virtualConfig']>,\n    active: Boolean,\n    isHover: Boolean,\n    ...pick(baseTableProps, TABLE_PROPS),\n    // eslint-disable-next-line\n    tableElm: {},\n    // eslint-disable-next-line\n    tableContentElm: {},\n  },\n\n  emits: ['row-mounted'],\n\n  setup(props: TrProps, context: SetupContext) {\n    const { tableContentElm, active, isHover } = toRefs(props);\n    const trRef = ref(null);\n    const {\n      tdEllipsisClass,\n      tableBaseClass,\n      tableColFixedClasses,\n      tableRowFixedClasses,\n      tdAlignClasses,\n      tableDraggableClasses,\n    } = useClassName();\n    const trStyles = computed(() =>\n      getRowFixedStyles(\n        get(props.row, props.rowKey || 'id'),\n        props.rowIndex,\n        props.dataLength,\n        props.fixedRows,\n        props.rowAndColFixedPosition,\n        tableRowFixedClasses,\n        props.virtualConfig.isVirtualScroll.value ? props.virtualConfig.translateY.value : 0,\n      ),\n    );\n\n    const trAttributes = computed(\n      () => formatRowAttributes(props.rowAttributes, { row: props.row, rowIndex: props.rowIndex, type: 'body' }) || {},\n    );\n\n    const classes = computed(() => {\n      const customClasses = formatRowClassNames(\n        props.rowClassName,\n        { row: props.row, rowKey: props.rowKey, rowIndex: props.rowIndex, type: 'body' },\n        props.rowKey || 'id',\n      );\n      return [\n        trStyles.value?.classes,\n        customClasses,\n        {\n          [`${props.classPrefix}-table__row--active`]: active.value,\n          [`${props.classPrefix}-table__row--hover`]: isHover.value,\n        },\n      ].filter((v) => v);\n    });\n\n    const { hasLazyLoadHolder, tRowHeight } = useLazyLoad(\n      tableContentElm,\n      trRef,\n      reactive({ ...props.scroll, rowIndex: props.rowIndex }),\n    );\n\n    const getTrListeners = (row: TableRowData, rowIndex: number) => {\n      const trListeners: { [eventName: string]: (e: MouseEvent) => void } = {};\n      // add events to row\n      ROW_LISTENERS.forEach((eventName) => {\n        trListeners[`on${upperFirst(eventName)}`] = (e: MouseEvent) => {\n          const p = { e, row, index: rowIndex };\n          props[`onRow${upperFirst(eventName)}`]?.(p);\n        };\n      });\n      return trListeners;\n    };\n\n    // 触发 row 的更新行高事件，通知虚拟滚动相关逻辑\n    const notifyVirtualSizeUpdate = () => {\n      if (props.virtualConfig?.isVirtualScroll.value) {\n        context.emit('row-mounted', {\n          ref: trRef,\n          data: props.row,\n        });\n      }\n    };\n\n    onMounted(() => {\n      nextTick(() => {\n        notifyVirtualSizeUpdate();\n      });\n    });\n\n    // 有可能因为 row-key 带来组件复用，这时候通过 update 进行更新\n    onUpdated(() => {\n      nextTick(() => {\n        notifyVirtualSizeUpdate();\n      });\n    });\n\n    function renderEllipsisCell(cellParams: BaseTableCellParams<TableRowData>, params: RenderEllipsisCellParams) {\n      const { cellNode } = params;\n      const { col, colIndex } = cellParams;\n\n      let content: SlotReturnValue;\n      if (isFunction(col.ellipsis)) {\n        content = col.ellipsis(h, cellParams);\n      } else if (typeof col.ellipsis === 'object' && isFunction(col.ellipsis.content)) {\n        content = col.ellipsis.content(h, cellParams);\n      } else if (context.slots[`ellipsis-${col.colKey}`]) {\n        // support ellipsis-<colKey> to define one column cell ellipsis-content\n        content = context.slots[`ellipsis-${col.colKey}`](cellParams);\n      } else if (context.slots.ellipsis) {\n        // support ellipsis slot to define all table cell ellipsis-content\n        content = context.slots.ellipsis(cellParams);\n      }\n\n      let tooltipProps = {};\n      if (typeof col.ellipsis === 'object') {\n        tooltipProps = 'props' in col.ellipsis ? col.ellipsis.props : col.ellipsis || undefined;\n      }\n      const tableElement = props.tableElm as HTMLDivElement;\n      let placement: TooltipProps['placement'] = colIndex === 0 ? 'top-left' : 'top';\n      placement = colIndex === props.columns.length - 1 ? 'top-right' : placement;\n      return (\n        <TEllipsis\n          placement={placement}\n          attach={tableElement ? () => tableElement : undefined}\n          tooltipContent={content && (() => content)}\n          tooltipProps={tooltipProps}\n          overlayClassName={props.ellipsisOverlayClassName}\n          classPrefix={props.classPrefix}\n        >\n          {cellNode}\n        </TEllipsis>\n      );\n    }\n\n    function renderTd(params: BaseTableCellParams<TableRowData>, extra: RenderTdExtra) {\n      const { col, colIndex, rowIndex } = params;\n      const { cellSpans, dataLength, rowAndColFixedPosition } = extra;\n      const cellNode = renderCell(params, context.slots, {\n        cellEmptyContent: extra.cellEmptyContent,\n        pagination: props.pagination,\n      });\n      const tdStyles = getColumnFixedStyles(col, colIndex, rowAndColFixedPosition, tableColFixedClasses);\n      const customClasses = formatClassNames(col.className, { ...params, type: 'td' });\n      const classes = [\n        tdStyles.classes,\n        customClasses,\n        {\n          [tdEllipsisClass]: col.ellipsis,\n          [tableBaseClass.tdLastRow]: rowIndex + cellSpans.rowspan === dataLength,\n          [tableBaseClass.tdFirstCol]: colIndex === 0 && props.rowspanAndColspan,\n          [tdAlignClasses[col.align]]: col.align && col.align !== 'left',\n          // 标记可拖拽列\n          [tableDraggableClasses.handle]: col.colKey === 'drag',\n        },\n      ];\n      const onClick = (e: MouseEvent) => {\n        const p = { ...params, e };\n        if (col.stopPropagation) {\n          e.stopPropagation();\n        }\n        props.onCellClick?.(p);\n      };\n      const normalAttrs = isFunction(col.attrs) ? col.attrs({ ...params, type: 'td' }) : col.attrs;\n      const attrs = { ...normalAttrs, ...cellSpans };\n      return (\n        <td key={col.colKey || colIndex} class={classes} style={tdStyles.style} {...attrs} onClick={onClick}>\n          {col.ellipsis ? renderEllipsisCell(params, { cellNode }) : cellNode}\n        </td>\n      );\n    }\n\n    return () => {\n      const { columns, skipSpansMap, row, dataLength, rowAndColFixedPosition } = props;\n      const columVNodeList = columns?.map((col, colIndex) => {\n        const cellSpans: RowspanColspan = {};\n        const params = {\n          row,\n          col,\n          rowIndex: props.rowIndex,\n          colIndex,\n        };\n        let spanState = null;\n        if (props.skipSpansMap.size) {\n          const cellKey = getCellKey(row, props.rowKey, col.colKey, colIndex);\n          spanState = skipSpansMap.get(cellKey) || {};\n          spanState?.rowspan > 1 && (cellSpans.rowspan = spanState.rowspan);\n          spanState?.colspan > 1 && (cellSpans.colspan = spanState.colspan);\n          if (spanState.skipped) return null;\n        }\n        return renderTd(params, {\n          dataLength,\n          rowAndColFixedPosition,\n          columnLength: columns.length,\n          cellSpans,\n          cellEmptyContent: props.cellEmptyContent,\n        });\n      });\n\n      return (\n        <tr\n          ref={trRef}\n          {...trAttributes.value}\n          style={trStyles.value?.style}\n          class={classes.value}\n          {...getTrListeners(row, props.rowIndex)}\n        >\n          {hasLazyLoadHolder.value\n            ? [<td style={{ height: `${tRowHeight.value}px`, border: 'none' }} />]\n            : columVNodeList}\n        </tr>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}