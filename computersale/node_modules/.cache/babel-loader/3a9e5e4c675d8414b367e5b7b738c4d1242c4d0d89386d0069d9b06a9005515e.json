{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, ref, h, createVNode, onBeforeMount, onMounted } from 'vue';\nimport { InfoCircleFilledIcon, CheckCircleFilledIcon, CloseIcon } from 'tdesign-icons-vue-next';\nimport { i as isFunction_1 } from '../_chunks/dep-06dcbf4c.mjs';\nimport { useTNodeJSX, useContent } from '../hooks/tnode.mjs';\nimport props from './props.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon.mjs';\nimport { fadeOut, fadeIn } from './animate.mjs';\nimport { useConfig } from '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport './const.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/type.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar _Notification = defineComponent({\n  name: \"TNotification\",\n  props: _objectSpread(_objectSpread({}, props), {}, {\n    placement: String\n  }),\n  setup: function setup(props2, _ref) {\n    var slots = _ref.slots,\n      expose = _ref.expose;\n    var COMPONENT_NAME = usePrefixClass(\"notification\");\n    var _useConfig = useConfig(\"classPrefix\"),\n      classPrefix = _useConfig.classPrefix;\n    var _useGlobalIcon = useGlobalIcon({\n        InfoCircleFilledIcon: InfoCircleFilledIcon,\n        CheckCircleFilledIcon: CheckCircleFilledIcon,\n        CloseIcon: CloseIcon\n      }),\n      InfoCircleFilledIcon$1 = _useGlobalIcon.InfoCircleFilledIcon,\n      CheckCircleFilledIcon$1 = _useGlobalIcon.CheckCircleFilledIcon,\n      CloseIcon$1 = _useGlobalIcon.CloseIcon;\n    var renderTNode = useTNodeJSX();\n    var renderContent = useContent();\n    var timer = ref(null);\n    var notificationRef = ref(null);\n    var close = function close(e) {\n      var dom = notificationRef.value;\n      fadeOut(dom, props2.placement, function () {\n        var _props2$onCloseBtnCli;\n        (_props2$onCloseBtnCli = props2.onCloseBtnClick) === null || _props2$onCloseBtnCli === void 0 || _props2$onCloseBtnCli.call(props2, {\n          e: e\n        });\n      });\n    };\n    var renderIcon = function renderIcon() {\n      var iconContent;\n      if (props2.icon === false) return null;\n      if (isFunction_1(props2.icon)) {\n        iconContent = props2.icon(h);\n      } else if (slots.icon) {\n        iconContent = slots.icon(null);\n      } else if (props2.theme) {\n        var iconType = props2.theme === \"success\" ? createVNode(CheckCircleFilledIcon$1, {\n          \"class\": \"\".concat(classPrefix.value, \"-is-\").concat(props2.theme)\n        }, null) : createVNode(InfoCircleFilledIcon$1, {\n          \"class\": \"\".concat(classPrefix.value, \"-is-\").concat(props2.theme)\n        }, null);\n        iconContent = createVNode(\"div\", {\n          \"class\": \"\".concat(classPrefix.value, \"-notification__icon\")\n        }, [iconType]);\n      }\n      return iconContent;\n    };\n    var renderClose = function renderClose() {\n      var defaultClose = createVNode(CloseIcon$1, null, null);\n      return createVNode(\"span\", {\n        \"class\": \"\".concat(classPrefix.value, \"-message__close\"),\n        \"onClick\": close\n      }, [renderTNode(\"closeBtn\", defaultClose)]);\n    };\n    var renderMainContent = function renderMainContent() {\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__content\")\n      }, [renderContent(\"default\", \"content\")]);\n    };\n    var clearTimer = function clearTimer() {\n      props2.duration && clearTimeout(timer.value);\n    };\n    var setTimer = function setTimer() {\n      if (!props2.duration) {\n        return;\n      }\n      timer.value = Number(setTimeout(function () {\n        clearTimer();\n        var dom = notificationRef.value;\n        fadeOut(dom, props2.placement, function () {\n          var _props2$onDurationEnd;\n          (_props2$onDurationEnd = props2.onDurationEnd) === null || _props2$onDurationEnd === void 0 || _props2$onDurationEnd.call(props2);\n        });\n      }, props2.duration));\n    };\n    onBeforeMount(function () {\n      props2.duration && setTimer();\n    });\n    onMounted(function () {\n      var dom = notificationRef.value;\n      fadeIn(dom, props2.placement);\n    });\n    expose({\n      close: close\n    });\n    return function () {\n      return createVNode(\"div\", {\n        \"ref\": notificationRef,\n        \"class\": \"\".concat(COMPONENT_NAME.value),\n        \"onMouseenter\": clearTimer,\n        \"onMouseleave\": setTimer\n      }, [renderIcon(), createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__main\")\n      }, [createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__title__wrap\")\n      }, [createVNode(\"span\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__title\")\n      }, [renderTNode(\"title\")]), renderClose()]), renderMainContent(), renderTNode(\"footer\")])]);\n    };\n  }\n});\nexport { _Notification as default };","map":{"version":3,"names":["_Notification","defineComponent","name","props","_objectSpread","placement","String","setup","props2","_ref","slots","expose","COMPONENT_NAME","usePrefixClass","_useConfig","useConfig","classPrefix","_useGlobalIcon","useGlobalIcon","InfoCircleFilledIcon","CheckCircleFilledIcon","CloseIcon","InfoCircleFilledIcon$1","CheckCircleFilledIcon$1","CloseIcon$1","renderTNode","useTNodeJSX","renderContent","useContent","timer","ref","notificationRef","close","e","dom","value","fadeOut","_props2$onCloseBtnCli","onCloseBtnClick","call","renderIcon","iconContent","icon","isFunction_1","h","theme","iconType","createVNode","concat","renderClose","defaultClose","renderMainContent","clearTimer","duration","clearTimeout","setTimer","Number","setTimeout","_props2$onDurationEnd","onDurationEnd","onBeforeMount","onMounted","fadeIn"],"sources":["../../src/notification/notification.tsx"],"sourcesContent":["import { defineComponent, h, onBeforeMount, onMounted, ref } from 'vue';\nimport {\n  InfoCircleFilledIcon as TdInfoCircleFilledIcon,\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  CloseIcon as TdCloseIcon,\n} from 'tdesign-icons-vue-next';\nimport isFunction from 'lodash/isFunction';\n\nimport { useTNodeJSX, useContent } from '../hooks/tnode';\nimport props from './props';\nimport { useConfig, usePrefixClass } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport { fadeIn, fadeOut } from './animate';\n\nexport default defineComponent({\n  name: 'TNotification',\n  props: {\n    ...props,\n    placement: String, // just for animation\n  },\n  setup(props, { slots, expose }) {\n    const COMPONENT_NAME = usePrefixClass('notification');\n    const { classPrefix } = useConfig('classPrefix');\n    const { InfoCircleFilledIcon, CheckCircleFilledIcon, CloseIcon } = useGlobalIcon({\n      InfoCircleFilledIcon: TdInfoCircleFilledIcon,\n      CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n      CloseIcon: TdCloseIcon,\n    });\n    const renderTNode = useTNodeJSX();\n    const renderContent = useContent();\n    const timer = ref(null);\n    const notificationRef = ref(null);\n\n    const close = (e?: MouseEvent) => {\n      const dom = notificationRef.value as HTMLElement;\n      fadeOut(dom, props.placement, () => {\n        props.onCloseBtnClick?.({ e });\n      });\n    };\n\n    const renderIcon = () => {\n      let iconContent;\n      if (props.icon === false) return null;\n      if (isFunction(props.icon)) {\n        iconContent = props.icon(h);\n      } else if (slots.icon) {\n        iconContent = slots.icon(null);\n      } else if (props.theme) {\n        const iconType =\n          props.theme === 'success' ? (\n            <CheckCircleFilledIcon class={`${classPrefix.value}-is-${props.theme}`} />\n          ) : (\n            <InfoCircleFilledIcon class={`${classPrefix.value}-is-${props.theme}`} />\n          );\n        iconContent = <div class={`${classPrefix.value}-notification__icon`}>{iconType}</div>;\n      }\n      return iconContent;\n    };\n\n    const renderClose = () => {\n      const defaultClose = <CloseIcon />;\n      return (\n        <span class={`${classPrefix.value}-message__close`} onClick={close}>\n          {renderTNode('closeBtn', defaultClose)}\n        </span>\n      );\n    };\n\n    const renderMainContent = () => {\n      return <div class={`${COMPONENT_NAME.value}__content`}>{renderContent('default', 'content')}</div>;\n    };\n\n    const clearTimer = () => {\n      props.duration && clearTimeout(timer.value);\n    };\n\n    const setTimer = () => {\n      if (!props.duration) {\n        return;\n      }\n      timer.value = Number(\n        setTimeout(() => {\n          clearTimer();\n          const dom = notificationRef.value as HTMLElement;\n          fadeOut(dom, props.placement, () => {\n            props.onDurationEnd?.();\n          });\n        }, props.duration),\n      );\n    };\n\n    onBeforeMount(() => {\n      props.duration && setTimer();\n    });\n\n    onMounted(() => {\n      const dom = notificationRef.value;\n      fadeIn(dom, props.placement);\n    });\n\n    expose({ close });\n    return () => (\n      <div ref={notificationRef} class={`${COMPONENT_NAME.value}`} onMouseenter={clearTimer} onMouseleave={setTimer}>\n        {renderIcon()}\n        <div class={`${COMPONENT_NAME.value}__main`}>\n          <div class={`${COMPONENT_NAME.value}__title__wrap`}>\n            <span class={`${COMPONENT_NAME.value}__title`}>{renderTNode('title')}</span>\n            {renderClose()}\n          </div>\n          {renderMainContent()}\n          {renderTNode('footer')}\n        </div>\n      </div>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}