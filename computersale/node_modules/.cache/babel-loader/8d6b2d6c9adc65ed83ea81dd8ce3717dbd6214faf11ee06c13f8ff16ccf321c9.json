{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, computed, createVNode, mergeProps, Fragment } from 'vue';\nimport { o as omit_1 } from '../_chunks/dep-88ae49da.mjs';\nimport Panel from './components/Panel.mjs';\nimport { SelectInput } from '../select-input/index.mjs';\nimport FakeArrow from '../common-components/fake-arrow.mjs';\nimport props from './props.mjs';\nimport { handleRemoveTagEffect, closeIconClickEffect } from './core/effect.mjs';\nimport { getMultipleContent, getSingleContent, getPanels } from './core/helper.mjs';\nimport { getFakeArrowIconClass } from './core/className.mjs';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig.mjs';\nimport { useCascaderContext } from './hooks.mjs';\nimport { useTNodeJSX } from '../hooks/tnode.mjs';\nimport { useDisabled } from '../hooks/useDisabled.mjs';\nimport { useReadonly } from '../hooks/useReadonly.mjs';\nimport { useConfig } from '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-aeaef131.mjs';\nimport '../_chunks/dep-88c8d9ed.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-4ec29b23.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport './components/Item.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../checkbox/index.mjs';\nimport '../checkbox/checkbox.mjs';\nimport '../_chunks/dep-5efe53d1.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../checkbox/props.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../utils/set-style.mjs';\nimport '../checkbox/constants.mjs';\nimport '../checkbox/hooks/useCheckboxLazyLoad.mjs';\nimport '../_common/js/utils/observe.mjs';\nimport '../checkbox/hooks/useKeyboardEvent.mjs';\nimport '../_common/js/common.mjs';\nimport '../checkbox/group.mjs';\nimport '../_chunks/dep-4a990ea3.mjs';\nimport '../_chunks/dep-64c2053b.mjs';\nimport '../_chunks/dep-4d4e2af1.mjs';\nimport '../_chunks/dep-3c4e4325.mjs';\nimport '../_chunks/dep-58a62202.mjs';\nimport '../checkbox/checkbox-group-props.mjs';\nimport '../hooks/slot.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../checkbox/type.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../config-provider/type.mjs';\nimport '../_chunks/dep-df472119.mjs';\nimport '../loading/index.mjs';\nimport '../_chunks/dep-bff7e93a.mjs';\nimport '../_chunks/dep-0b414bea.mjs';\nimport '../_chunks/dep-fbd4eddb.mjs';\nimport '../_chunks/dep-ae202bc0.mjs';\nimport '../_chunks/dep-69e0f6fc.mjs';\nimport '../_chunks/dep-ea20409b.mjs';\nimport '../loading/plugin.mjs';\nimport '../loading/loading.mjs';\nimport '../loading/icon/gradient.mjs';\nimport '../_common/js/loading/circle-adapter.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../_common/js/utils/helper.mjs';\nimport '../_chunks/dep-5d3f7c0e.mjs';\nimport '../_chunks/dep-73384992.mjs';\nimport '../_chunks/dep-889e457b.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../loading/props.mjs';\nimport '../hooks/useTeleport.mjs';\nimport '../loading/type.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nimport '../select-input/select-input.mjs';\nimport '../popup/index.mjs';\nimport '../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../_chunks/dep-5993931e.mjs';\nimport '../_chunks/dep-8dfc9324.mjs';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../popup/container.mjs';\nimport '../popup/props.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../popup/type.mjs';\nimport '../select-input/props.mjs';\nimport '../select-input/useSingle.mjs';\nimport '../_chunks/dep-4de7e2ca.mjs';\nimport '../_chunks/dep-0e581ac0.mjs';\nimport '../input/index.mjs';\nimport '../input/input.mjs';\nimport '../input/props.mjs';\nimport '../input/useInput.mjs';\nimport '../form/const.mjs';\nimport '../input/useLengthLimit.mjs';\nimport '../_common/js/log/index.mjs';\nimport '../input/useInputEventHandler.mjs';\nimport '../input/useInputWidth.mjs';\nimport '../input/input-group.mjs';\nimport '../input/input-group-props.mjs';\nimport '../input/type.mjs';\nimport '../select-input/useMultiple.mjs';\nimport '../tag-input/index.mjs';\nimport '../tag-input/tag-input.mjs';\nimport '../tag-input/props.mjs';\nimport '../tag-input/hooks/useTagScroll.mjs';\nimport '../tag-input/useTagList.mjs';\nimport '../tag/index.mjs';\nimport '../tag/tag.mjs';\nimport '../_chunks/dep-9ac991f3.mjs';\nimport '../tag/props.mjs';\nimport '../tag/check-tag.mjs';\nimport '../tag/check-tag-props.mjs';\nimport '../tag/check-tag-group.mjs';\nimport '../tag/check-tag-group-props.mjs';\nimport '../tag/type.mjs';\nimport '../tag-input/hooks/useHover.mjs';\nimport '../tag-input/hooks/useDragSorter.mjs';\nimport '../tag-input/type.mjs';\nimport '../select-input/useOverlayInnerStyle.mjs';\nimport '../select-input/type.mjs';\nimport '../_common/js/tree/tree-store.mjs';\nimport '../_chunks/dep-f909a041.mjs';\nimport '../_chunks/dep-33c61f2b.mjs';\nimport '../_chunks/dep-6a7115de.mjs';\nimport 'mitt';\nimport '../_common/js/tree/tree-node.mjs';\nimport '../_chunks/dep-0d047dce.mjs';\nimport '../_chunks/dep-e4a8ef7d.mjs';\nimport '../_chunks/dep-d2f4e062.mjs';\nimport '../_common/js/tree/tree-node-model.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar _Cascader = defineComponent({\n  name: \"TCascader\",\n  props: _objectSpread({}, props),\n  setup: function setup(props2, _ref) {\n    var slots = _ref.slots;\n    var COMPONENT_NAME = usePrefixClass(\"cascader\");\n    var classPrefix = usePrefixClass();\n    var _useCommonClassName = useCommonClassName(),\n      STATUS = _useCommonClassName.STATUS;\n    var overlayClassName = usePrefixClass(\"cascader__popup\");\n    var _useConfig = useConfig(\"cascader\"),\n      globalConfig = _useConfig.globalConfig;\n    var isDisabled = useDisabled();\n    var isReadonly = useReadonly();\n    var renderTNodeJSX = useTNodeJSX();\n    var _useCascaderContext = useCascaderContext(props2),\n      cascaderContext = _useCascaderContext.cascaderContext,\n      innerValue = _useCascaderContext.innerValue,\n      isFilterable = _useCascaderContext.isFilterable,\n      getCascaderItems = _useCascaderContext.getCascaderItems;\n    var displayValue = computed(function () {\n      return props2.multiple ? getMultipleContent(cascaderContext.value) : getSingleContent(cascaderContext.value);\n    });\n    var panels = computed(function () {\n      return getPanels(cascaderContext.value.treeNodes);\n    });\n    var inputPlaceholder = computed(function () {\n      var _props2$placeholder;\n      return cascaderContext.value.visible && !props2.multiple && getSingleContent(cascaderContext.value) || ((_props2$placeholder = props2.placeholder) !== null && _props2$placeholder !== void 0 ? _props2$placeholder : globalConfig.value.placeholder);\n    });\n    var renderSuffixIcon = function renderSuffixIcon() {\n      if (props2.suffixIcon || slots.suffixIcon) {\n        return renderTNodeJSX(\"suffixIcon\");\n      }\n      var _cascaderContext$valu = cascaderContext.value,\n        visible = _cascaderContext$valu.visible,\n        disabled = _cascaderContext$valu.disabled;\n      return createVNode(FakeArrow, {\n        \"overlayClassName\": getFakeArrowIconClass(classPrefix.value, STATUS.value, cascaderContext.value),\n        \"isActive\": visible,\n        \"disabled\": disabled\n      }, null);\n    };\n    var valueDisplayParams = computed(function () {\n      var arrayValue = innerValue.value instanceof Array ? innerValue.value : [innerValue.value];\n      var displayValue2 = props2.multiple && props2.minCollapsedNum ? arrayValue.slice(0, props2.minCollapsedNum) : innerValue.value;\n      var options = getCascaderItems(arrayValue);\n      return {\n        value: innerValue.value,\n        selectedOptions: options,\n        onClose: function onClose(index) {\n          handleRemoveTagEffect(cascaderContext.value, index, props2.onRemove);\n        },\n        displayValue: displayValue2\n      };\n    });\n    var renderValueDisplay = function renderValueDisplay() {\n      return renderTNodeJSX(\"valueDisplay\", {\n        params: valueDisplayParams.value\n      });\n    };\n    var renderLabel = function renderLabel() {\n      var label = renderTNodeJSX(\"label\");\n      if (props2.multiple) return label;\n      if (!label) return null;\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-tag-input__prefix\")\n      }, [label]);\n    };\n    var cascaderClassNames = computed(function () {\n      return [COMPONENT_NAME.value, props2.multiple ? \"\".concat(COMPONENT_NAME.value, \"--multiple\") : \"\".concat(COMPONENT_NAME.value, \"--single\")];\n    });\n    return function () {\n      var _props2$popupProps;\n      var _cascaderContext$valu2 = cascaderContext.value,\n        setVisible = _cascaderContext$valu2.setVisible,\n        visible = _cascaderContext$valu2.visible,\n        inputVal = _cascaderContext$valu2.inputVal,\n        setInputVal = _cascaderContext$valu2.setInputVal;\n      return createVNode(SelectInput, mergeProps({\n        \"class\": cascaderClassNames.value,\n        \"value\": displayValue.value,\n        \"inputValue\": visible ? inputVal : \"\",\n        \"popupVisible\": visible,\n        \"keys\": props2.keys,\n        \"allowInput\": isFilterable.value,\n        \"min-collapsed-num\": props2.minCollapsedNum,\n        \"collapsed-items\": props2.collapsedItems,\n        \"readonly\": isReadonly.value,\n        \"disabled\": isDisabled.value,\n        \"clearable\": props2.clearable,\n        \"placeholder\": inputPlaceholder.value,\n        \"multiple\": props2.multiple,\n        \"loading\": props2.loading,\n        \"status\": props2.status,\n        \"tips\": props2.tips,\n        \"borderless\": props2.borderless,\n        \"label\": renderLabel,\n        \"valueDisplay\": renderValueDisplay,\n        \"prefixIcon\": props2.prefixIcon,\n        \"suffix\": props2.suffix,\n        \"suffixIcon\": function suffixIcon() {\n          return renderSuffixIcon();\n        },\n        \"popupProps\": _objectSpread(_objectSpread({}, props2.popupProps), {}, {\n          overlayInnerStyle: panels.value.length && !props2.loading ? {\n            width: \"auto\"\n          } : \"\",\n          overlayClassName: [overlayClassName.value, (_props2$popupProps = props2.popupProps) === null || _props2$popupProps === void 0 ? void 0 : _props2$popupProps.overlayClassName]\n        }),\n        \"inputProps\": _objectSpread({\n          size: props2.size\n        }, props2.inputProps),\n        \"tagInputProps\": _objectSpread({\n          size: props2.size\n        }, props2.tagInputProps),\n        \"tagProps\": _objectSpread({}, props2.tagProps),\n        \"onInputChange\": function onInputChange(value, ctx) {\n          var _props2$selectInputPr, _props2$selectInputPr2;\n          if (!isFilterable.value) return;\n          setInputVal(\"\".concat(value));\n          props2 === null || props2 === void 0 || (_props2$selectInputPr = props2.selectInputProps) === null || _props2$selectInputPr === void 0 || (_props2$selectInputPr2 = _props2$selectInputPr.onInputChange) === null || _props2$selectInputPr2 === void 0 || _props2$selectInputPr2.call(_props2$selectInputPr, value, ctx);\n        },\n        \"onTagChange\": function onTagChange(val, ctx) {\n          var _props2$selectInputPr3, _props2$selectInputPr4;\n          if (ctx.trigger === \"enter\") return;\n          handleRemoveTagEffect(cascaderContext.value, ctx.index, props2.onRemove);\n          props2 === null || props2 === void 0 || (_props2$selectInputPr3 = props2.selectInputProps) === null || _props2$selectInputPr3 === void 0 || (_props2$selectInputPr4 = _props2$selectInputPr3.onTagChange) === null || _props2$selectInputPr4 === void 0 || _props2$selectInputPr4.call(_props2$selectInputPr3, val, ctx);\n        },\n        \"onPopupVisibleChange\": function onPopupVisibleChange(val, context) {\n          var _props2$selectInputPr5, _props2$selectInputPr6;\n          if (isDisabled.value) return;\n          setVisible(val, context);\n          props2 === null || props2 === void 0 || (_props2$selectInputPr5 = props2.selectInputProps) === null || _props2$selectInputPr5 === void 0 || (_props2$selectInputPr6 = _props2$selectInputPr5.onPopupVisibleChange) === null || _props2$selectInputPr6 === void 0 || _props2$selectInputPr6.call(_props2$selectInputPr5, val, context);\n        },\n        \"onBlur\": function onBlur(val, context) {\n          var _props2$onBlur, _props2$selectInputPr7, _props2$selectInputPr8;\n          (_props2$onBlur = props2.onBlur) === null || _props2$onBlur === void 0 || _props2$onBlur.call(props2, {\n            value: cascaderContext.value.value,\n            inputValue: context.inputValue || \"\",\n            e: context.e\n          });\n          props2 === null || props2 === void 0 || (_props2$selectInputPr7 = props2.selectInputProps) === null || _props2$selectInputPr7 === void 0 || (_props2$selectInputPr8 = _props2$selectInputPr7.onBlur) === null || _props2$selectInputPr8 === void 0 || _props2$selectInputPr8.call(_props2$selectInputPr7, val, context);\n        },\n        \"onFocus\": function onFocus(val, context) {\n          var _props2$onFocus, _props2$selectInputPr9, _props2$selectInputPr10;\n          (_props2$onFocus = props2.onFocus) === null || _props2$onFocus === void 0 || _props2$onFocus.call(props2, {\n            value: cascaderContext.value.value,\n            e: context.e\n          });\n          props2 === null || props2 === void 0 || (_props2$selectInputPr9 = props2.selectInputProps) === null || _props2$selectInputPr9 === void 0 || (_props2$selectInputPr10 = _props2$selectInputPr9.onFocus) === null || _props2$selectInputPr10 === void 0 || _props2$selectInputPr10.call(_props2$selectInputPr9, val, context);\n        },\n        \"onClear\": function onClear(context) {\n          var _props2$selectInputPr11, _props2$selectInputPr12;\n          closeIconClickEffect(cascaderContext.value);\n          props2 === null || props2 === void 0 || (_props2$selectInputPr11 = props2.selectInputProps) === null || _props2$selectInputPr11 === void 0 || (_props2$selectInputPr12 = _props2$selectInputPr11.onClear) === null || _props2$selectInputPr12 === void 0 || _props2$selectInputPr12.call(_props2$selectInputPr11, context);\n        }\n      }, omit_1(props2.selectInputProps, [\"onTagChange\", \"onInputChange\", \"onPopupVisibleChange\", \"onBlur\", \"onFocus\", \"onClear\"])), {\n        label: slots.label,\n        suffix: slots.suffix,\n        prefixIcon: slots.prefixIcon,\n        panel: function panel() {\n          return createVNode(Fragment, null, [renderTNodeJSX(\"panelTopContent\"), createVNode(Panel, {\n            \"option\": props2.option,\n            \"empty\": props2.empty,\n            \"visible\": visible,\n            \"trigger\": props2.trigger,\n            \"loading\": props2.loading,\n            \"loadingText\": props2.loadingText,\n            \"cascaderContext\": cascaderContext.value\n          }, {\n            option: slots.option,\n            empty: slots.empty,\n            loadingText: slots.loadingText\n          }), renderTNodeJSX(\"panelBottomContent\")]);\n        },\n        collapsedItems: slots.collapsedItems\n      });\n    };\n  }\n});\nexport { _Cascader as default };","map":{"version":3,"names":["_Cascader","defineComponent","name","props","_objectSpread","setup","props2","_ref","slots","COMPONENT_NAME","usePrefixClass","classPrefix","_useCommonClassName","useCommonClassName","STATUS","overlayClassName","_useConfig","useConfig","globalConfig","isDisabled","useDisabled","isReadonly","useReadonly","renderTNodeJSX","useTNodeJSX","_useCascaderContext","useCascaderContext","cascaderContext","innerValue","isFilterable","getCascaderItems","displayValue","computed","multiple","getMultipleContent","value","getSingleContent","panels","getPanels","treeNodes","inputPlaceholder","_props2$placeholder","visible","placeholder","renderSuffixIcon","suffixIcon","_cascaderContext$valu","disabled","createVNode","FakeArrow","getFakeArrowIconClass","valueDisplayParams","arrayValue","Array","displayValue2","minCollapsedNum","slice","options","selectedOptions","onClose","index","handleRemoveTagEffect","onRemove","renderValueDisplay","params","renderLabel","label","concat","cascaderClassNames","_props2$popupProps","_cascaderContext$valu2","setVisible","inputVal","setInputVal","SelectInput","mergeProps","keys","collapsedItems","clearable","loading","status","tips","borderless","prefixIcon","suffix","popupProps","overlayInnerStyle","length","width","size","inputProps","tagInputProps","tagProps","onInputChange","ctx","_props2$selectInputPr","_props2$selectInputPr2","selectInputProps","call","onTagChange","val","_props2$selectInputPr3","_props2$selectInputPr4","trigger","onPopupVisibleChange","context","_props2$selectInputPr5","_props2$selectInputPr6","onBlur","_props2$onBlur","_props2$selectInputPr7","_props2$selectInputPr8","inputValue","e","onFocus","_props2$onFocus","_props2$selectInputPr9","_props2$selectInputPr10","onClear","_props2$selectInputPr11","_props2$selectInputPr12","closeIconClickEffect","omit_1","panel","Panel","option","empty","loadingText"],"sources":["../../src/cascader/cascader.tsx"],"sourcesContent":["import { defineComponent, computed } from 'vue';\nimport omit from 'lodash/omit';\nimport Panel from './components/Panel';\nimport SelectInput from '../select-input';\nimport FakeArrow from '../common-components/fake-arrow';\nimport props from './props';\n\nimport { CascaderValue, TdSelectInputProps, TdCascaderProps } from './interface';\nimport { closeIconClickEffect, handleRemoveTagEffect } from './core/effect';\nimport { getPanels, getSingleContent, getMultipleContent } from './core/helper';\nimport { getFakeArrowIconClass } from './core/className';\n\nimport { useConfig, usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { useCascaderContext } from './hooks';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { useDisabled } from '../hooks/useDisabled';\nimport { useReadonly } from '../hooks/useReadonly';\n\nexport default defineComponent({\n  name: 'TCascader',\n\n  props: { ...props },\n\n  setup(props, { slots }) {\n    const COMPONENT_NAME = usePrefixClass('cascader');\n    const classPrefix = usePrefixClass();\n    const { STATUS } = useCommonClassName();\n    const overlayClassName = usePrefixClass('cascader__popup');\n    const { globalConfig } = useConfig('cascader');\n    const isDisabled = useDisabled();\n    const isReadonly = useReadonly();\n    const renderTNodeJSX = useTNodeJSX();\n\n    // 拿到全局状态的上下文\n    const { cascaderContext, innerValue, isFilterable, getCascaderItems } = useCascaderContext(props);\n\n    const displayValue = computed(() =>\n      props.multiple ? getMultipleContent(cascaderContext.value) : getSingleContent(cascaderContext.value),\n    );\n\n    const panels = computed(() => getPanels(cascaderContext.value.treeNodes));\n\n    const inputPlaceholder = computed(\n      () =>\n        (cascaderContext.value.visible && !props.multiple && getSingleContent(cascaderContext.value)) ||\n        (props.placeholder ?? globalConfig.value.placeholder),\n    );\n\n    const renderSuffixIcon = () => {\n      if (props.suffixIcon || slots.suffixIcon) {\n        return renderTNodeJSX('suffixIcon');\n      }\n\n      const { visible, disabled } = cascaderContext.value;\n      return (\n        <FakeArrow\n          overlayClassName={getFakeArrowIconClass(classPrefix.value, STATUS.value, cascaderContext.value)}\n          isActive={visible}\n          disabled={disabled}\n        />\n      );\n    };\n\n    const valueDisplayParams = computed(() => {\n      const arrayValue = innerValue.value instanceof Array ? innerValue.value : [innerValue.value];\n      const displayValue =\n        props.multiple && props.minCollapsedNum ? arrayValue.slice(0, props.minCollapsedNum) : innerValue.value;\n      const options = getCascaderItems(arrayValue);\n      return {\n        value: innerValue.value,\n        selectedOptions: options,\n        onClose: (index: number) => {\n          handleRemoveTagEffect(cascaderContext.value, index, props.onRemove);\n        },\n        displayValue,\n      };\n    });\n\n    const renderValueDisplay = () => {\n      return renderTNodeJSX('valueDisplay', {\n        params: valueDisplayParams.value,\n      });\n    };\n\n    const renderLabel = () => {\n      const label = renderTNodeJSX('label');\n      if (props.multiple) return label;\n      if (!label) return null;\n      return <div class={`${classPrefix.value}-tag-input__prefix`}>{label}</div>;\n    };\n\n    const cascaderClassNames = computed(() => [\n      COMPONENT_NAME.value,\n      props.multiple ? `${COMPONENT_NAME.value}--multiple` : `${COMPONENT_NAME.value}--single`,\n    ]);\n\n    return () => {\n      const { setVisible, visible, inputVal, setInputVal } = cascaderContext.value;\n\n      return (\n        <SelectInput\n          class={cascaderClassNames.value}\n          value={displayValue.value}\n          inputValue={visible ? inputVal : ''}\n          popupVisible={visible}\n          keys={props.keys}\n          allowInput={isFilterable.value}\n          min-collapsed-num={props.minCollapsedNum}\n          collapsed-items={props.collapsedItems}\n          readonly={isReadonly.value}\n          disabled={isDisabled.value}\n          clearable={props.clearable}\n          placeholder={inputPlaceholder.value}\n          multiple={props.multiple}\n          loading={props.loading}\n          status={props.status}\n          tips={props.tips}\n          borderless={props.borderless}\n          label={renderLabel}\n          valueDisplay={renderValueDisplay}\n          prefixIcon={props.prefixIcon}\n          suffix={props.suffix}\n          suffixIcon={() => renderSuffixIcon()}\n          popupProps={{\n            ...(props.popupProps as TdCascaderProps['popupProps']),\n            overlayInnerStyle: panels.value.length && !props.loading ? { width: 'auto' } : '',\n            overlayClassName: [\n              overlayClassName.value,\n              (props.popupProps as TdCascaderProps['popupProps'])?.overlayClassName,\n            ],\n          }}\n          inputProps={{ size: props.size, ...(props.inputProps as TdCascaderProps['inputProps']) }}\n          tagInputProps={{\n            size: props.size,\n            ...(props.tagInputProps as TdCascaderProps['tagInputProps']),\n          }}\n          tagProps={{ ...(props.tagProps as TdCascaderProps['tagProps']) }}\n          onInputChange={(value, ctx) => {\n            if (!isFilterable.value) return;\n            setInputVal(`${value}`);\n            (props?.selectInputProps as TdSelectInputProps)?.onInputChange?.(value, ctx);\n          }}\n          onTagChange={(val: CascaderValue, ctx) => {\n            // 按 enter 键不处理\n            if (ctx.trigger === 'enter') return;\n            handleRemoveTagEffect(cascaderContext.value, ctx.index, props.onRemove);\n            // @ts-ignore TODO: fix bug\n            (props?.selectInputProps as TdSelectInputProps)?.onTagChange?.(val, ctx);\n          }}\n          onPopupVisibleChange={(val: boolean, context) => {\n            if (isDisabled.value) return;\n            setVisible(val, context);\n            (props?.selectInputProps as TdSelectInputProps)?.onPopupVisibleChange?.(val, context);\n          }}\n          onBlur={(val, context) => {\n            props.onBlur?.({\n              value: cascaderContext.value.value,\n              inputValue: context.inputValue || '',\n              e: context.e as FocusEvent,\n            });\n            (props?.selectInputProps as TdSelectInputProps)?.onBlur?.(val, context);\n          }}\n          onFocus={(val, context) => {\n            props.onFocus?.({\n              value: cascaderContext.value.value,\n              e: context.e,\n            });\n            (props?.selectInputProps as TdSelectInputProps)?.onFocus?.(val, context);\n          }}\n          onClear={(context: { e: MouseEvent }) => {\n            closeIconClickEffect(cascaderContext.value);\n            (props?.selectInputProps as TdSelectInputProps)?.onClear?.(context);\n          }}\n          v-slots={{\n            label: slots.label,\n            suffix: slots.suffix,\n            prefixIcon: slots.prefixIcon,\n            panel: () => (\n              <>\n                {renderTNodeJSX('panelTopContent')}\n                <Panel\n                  option={props.option}\n                  empty={props.empty}\n                  visible={visible}\n                  trigger={props.trigger}\n                  loading={props.loading}\n                  loadingText={props.loadingText}\n                  cascaderContext={cascaderContext.value}\n                  v-slots={{ option: slots.option, empty: slots.empty, loadingText: slots.loadingText }}\n                />\n                {renderTNodeJSX('panelBottomContent')}\n              </>\n            ),\n            collapsedItems: slots.collapsedItems,\n          }}\n          {...omit(props.selectInputProps as TdSelectInputProps, [\n            'onTagChange',\n            'onInputChange',\n            'onPopupVisibleChange',\n            'onBlur',\n            'onFocus',\n            'onClear',\n          ])}\n        />\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}