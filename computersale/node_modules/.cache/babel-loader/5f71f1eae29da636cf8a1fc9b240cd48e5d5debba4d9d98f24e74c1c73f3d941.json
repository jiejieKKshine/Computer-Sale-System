{"ast":null,"code":"import { reactive } from 'vue';\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\n\n// 定义响应式数据变量\n\nexport default {\n  __name: 'OrderComponent',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    ///////\n    const formData = reactive({\n      labelAlign: 'right',\n      name: '',\n      password: ''\n    });\n\n    ////////\n    const data = ref([]);\n    const total = ref(0);\n\n    // 定义表格的样式及状态控制变量\n    const stripe = ref(true);\n    const bordered = ref(true);\n    const hover = ref(false);\n    const tableLayout = ref(false);\n    const size = ref('medium');\n    const showHeader = ref(true);\n\n    // 定义表格列配置\n    const columns = ref([{\n      colKey: 'oid',\n      title: '订单号',\n      width: '100'\n    }, {\n      colKey: 'order_time',\n      title: '下单时间',\n      width: '150'\n    }, {\n      colKey: 'cid',\n      title: '顾客号',\n      width: '100'\n    }, {\n      colKey: 'status',\n      title: '订单状态',\n      width: '100'\n    },\n    // { colKey:'detail', title: '订单详细', width: '100' },\n    {\n      colKey: 'total_price',\n      title: '订单总价',\n      width: '100'\n    }\n    // { colKey:'confirm', title: '确认订单', width: '100' },\n    ]);\n\n    // 定义行点击事件处理函数\n    const handleRowClick = e => {\n      console.log(e);\n    };\n\n    // 定义分页配置\n    const pagination = {\n      defaultCurrent: 1,\n      defaultPageSize: 5,\n      total: total.value\n    };\n\n    // 请求后端数据并写入表中\n    const fetchData = async () => {\n      try {\n        console.log('开始请求数据...');\n        const response = await axios.get('/api/orders'); // 根据实际API端点替换\n        // const response = await axios.get('http://localhost:8080/orders');\n        console.log('请求数据成功:', response.data);\n        // console.log('请求数据总数:', response.data.length);\n        data.value = response.data;\n        total.value = response.data.length;\n        pagination.total = total.value;\n      } catch (error) {\n        console.error('请求数据失败:', error);\n      }\n    };\n    onMounted(() => {\n      fetchData();\n    });\n    const __returned__ = {\n      formData,\n      data,\n      total,\n      stripe,\n      bordered,\n      hover,\n      tableLayout,\n      size,\n      showHeader,\n      columns,\n      handleRowClick,\n      pagination,\n      fetchData,\n      reactive,\n      ref,\n      onMounted,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","onMounted","axios","formData","labelAlign","name","password","data","total","stripe","bordered","hover","tableLayout","size","showHeader","columns","colKey","title","width","handleRowClick","e","console","log","pagination","defaultCurrent","defaultPageSize","value","fetchData","response","get","length","error"],"sources":["E:/三年级上册/ComputerSale/computersale/src/views/OrderComponent.vue"],"sourcesContent":["<template>\r\n  <!-- ///////// -->\r\n    <t-space direction=\"vertical\" size=\"large\">\r\n    <!-- <t-radio-group v-model=\"formData.labelAlign\" variant=\"default-filled\">\r\n      <t-radio-button value=\"left\">左对齐</t-radio-button>\r\n      <t-radio-button value=\"right\">右对齐</t-radio-button>\r\n      <t-radio-button value=\"top\">顶部对齐</t-radio-button>\r\n    </t-radio-group> -->\r\n\r\n    <t-form :data=\"formData\" :label-align=\"formData.labelAlign\" :label-width=\"60\">\r\n      <t-form-item label=\"订单号\" name=\"oid\" style=\"display: flex; align-items: center;\">\r\n        <t-input v-model=\"formData.oid\" style=\"flex-grow: 1; margin-right: 20px;\"></t-input>\r\n        <t-button theme=\"primary\" type=\"submit\">查询</t-button>\r\n      </t-form-item>\r\n      \r\n    </t-form>\r\n  </t-space>\r\n\r\n<!-- ////////// -->\r\n  <t-space direction=\"vertical\">\r\n    <!-- 按钮操作区域 -->\r\n    <t-radio-group v-model=\"size\" variant=\"default-filled\">\r\n      <!-- <t-radio-button value=\"small\">小尺寸</t-radio-button> -->\r\n      <t-radio-button value=\"medium\">订单列表</t-radio-button>\r\n      <!-- <t-radio-button value=\"large\">大尺寸</t-radio-button> -->\r\n    </t-radio-group>\r\n\r\n    <!-- 当数据为空需要占位时，会显示 cellEmptyContent -->\r\n    <t-table\r\n      row-key=\"index\"\r\n      :data=\"data\"\r\n      :columns=\"columns\"\r\n      :stripe=\"stripe\"\r\n      :bordered=\"bordered\"\r\n      :hover=\"hover\"\r\n      :table-layout=\"tableLayout ? 'auto' : 'fixed'\"\r\n      :size=\"size\"\r\n      :pagination=\"pagination\"\r\n      :show-header=\"showHeader\"\r\n      cell-empty-content=\"-\"\r\n      resizable\r\n      lazy-load\r\n      @row-click=\"handleRowClick\"\r\n    >\r\n    </t-table>\r\n  </t-space>\r\n</template>\r\n\r\n<script setup lang=\"jsx\">\r\n///////\r\nimport { reactive } from 'vue';\r\n\r\nconst formData = reactive({\r\n  labelAlign: 'right',\r\n  name: '',\r\n  password: '',\r\n});\r\n\r\n////////\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\n\r\n// 定义响应式数据变量\r\nconst data = ref([]);\r\nconst total = ref(0);\r\n\r\n// 定义表格的样式及状态控制变量\r\nconst stripe = ref(true);\r\nconst bordered = ref(true);\r\nconst hover = ref(false);\r\nconst tableLayout = ref(false);\r\nconst size = ref('medium');\r\nconst showHeader = ref(true);\r\n\r\n// 定义表格列配置\r\nconst columns = ref([\r\n  { colKey: 'oid', title: '订单号', width: '100' },\r\n  { colKey: 'order_time', title: '下单时间', width: '150' },\r\n  { colKey: 'cid', title: '顾客号', width: '100' },\r\n  { colKey:'status', title: '订单状态', width: '100' },\r\n  // { colKey:'detail', title: '订单详细', width: '100' },\r\n  { colKey:'total_price', title: '订单总价', width: '100' },\r\n  // { colKey:'confirm', title: '确认订单', width: '100' },\r\n]);\r\n\r\n// 定义行点击事件处理函数\r\nconst handleRowClick = (e) => {\r\n  console.log(e);\r\n};\r\n\r\n// 定义分页配置\r\nconst pagination = {\r\n  defaultCurrent: 1,\r\n  defaultPageSize: 5,\r\n  total:total.value,\r\n};\r\n\r\n// 请求后端数据并写入表中\r\nconst fetchData = async () => {\r\n  try {\r\n    console.log('开始请求数据...');\r\n    const response = await axios.get('/api/orders'); // 根据实际API端点替换\r\n    // const response = await axios.get('http://localhost:8080/orders');\r\n    console.log('请求数据成功:', response.data);\r\n    // console.log('请求数据总数:', response.data.length);\r\n    data.value = response.data;\r\n    total.value = response.data.length;\r\n    pagination.total = total.value;\r\n  } catch (error) {\r\n    console.error('请求数据失败:', error);\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchData();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* 样式范围限定在当前组件 */\r\n</style>"],"mappings":"AAkDA,SAASA,QAAQ,QAAQ,KAAK;AAS9B,SAASC,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;;;;;;;;IAbA;IAGA,MAAMC,QAAQ,GAAGJ,QAAQ,CAAC;MACxBK,UAAU,EAAE,OAAO;MACnBC,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE;IACZ,CAAC,CAAC;;IAEF;IAKA,MAAMC,IAAI,GAAGP,GAAG,CAAC,EAAE,CAAC;IACpB,MAAMQ,KAAK,GAAGR,GAAG,CAAC,CAAC,CAAC;;IAEpB;IACA,MAAMS,MAAM,GAAGT,GAAG,CAAC,IAAI,CAAC;IACxB,MAAMU,QAAQ,GAAGV,GAAG,CAAC,IAAI,CAAC;IAC1B,MAAMW,KAAK,GAAGX,GAAG,CAAC,KAAK,CAAC;IACxB,MAAMY,WAAW,GAAGZ,GAAG,CAAC,KAAK,CAAC;IAC9B,MAAMa,IAAI,GAAGb,GAAG,CAAC,QAAQ,CAAC;IAC1B,MAAMc,UAAU,GAAGd,GAAG,CAAC,IAAI,CAAC;;IAE5B;IACA,MAAMe,OAAO,GAAGf,GAAG,CAAC,CAClB;MAAEgB,MAAM,EAAE,KAAK;MAAEC,KAAK,EAAE,KAAK;MAAEC,KAAK,EAAE;IAAM,CAAC,EAC7C;MAAEF,MAAM,EAAE,YAAY;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM,CAAC,EACrD;MAAEF,MAAM,EAAE,KAAK;MAAEC,KAAK,EAAE,KAAK;MAAEC,KAAK,EAAE;IAAM,CAAC,EAC7C;MAAEF,MAAM,EAAC,QAAQ;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM,CAAC;IAChD;IACA;MAAEF,MAAM,EAAC,aAAa;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM;IACpD;IAAA,CACD,CAAC;;IAEF;IACA,MAAMC,cAAc,GAAIC,CAAC,IAAK;MAC5BC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IAChB,CAAC;;IAED;IACA,MAAMG,UAAU,GAAG;MACjBC,cAAc,EAAE,CAAC;MACjBC,eAAe,EAAE,CAAC;MAClBjB,KAAK,EAACA,KAAK,CAACkB;IACd,CAAC;;IAED;IACA,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFN,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;QACxB,MAAMM,QAAQ,GAAG,MAAM1B,KAAK,CAAC2B,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC;QACjD;QACAR,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEM,QAAQ,CAACrB,IAAI,CAAC;QACrC;QACAA,IAAI,CAACmB,KAAK,GAAGE,QAAQ,CAACrB,IAAI;QAC1BC,KAAK,CAACkB,KAAK,GAAGE,QAAQ,CAACrB,IAAI,CAACuB,MAAM;QAClCP,UAAU,CAACf,KAAK,GAAGA,KAAK,CAACkB,KAAK;MAChC,CAAC,CAAC,OAAOK,KAAK,EAAE;QACdV,OAAO,CAACU,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MACjC;IACF,CAAC;IAED9B,SAAS,CAAC,MAAM;MACd0B,SAAS,CAAC,CAAC;IACb,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}