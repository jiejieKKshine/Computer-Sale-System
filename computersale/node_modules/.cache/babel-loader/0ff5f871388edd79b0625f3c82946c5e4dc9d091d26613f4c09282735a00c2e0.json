{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, ref, computed, nextTick, watch, onMounted, h, createVNode, Transition } from 'vue';\nimport { d as debounce_1 } from '../_chunks/dep-5993931e.mjs';\nimport { ChevronLeftIcon, ChevronRightIcon, AddIcon } from 'tdesign-icons-vue-next';\nimport props from './props.mjs';\nimport { calcValidOffset, calcPrevOrNextOffset, calculateOffset, calcMaxOffset } from '../_common/js/tabs/base.mjs';\nimport TTabNavItem from './tab-nav-item.mjs';\nimport TTabNavBar from './tab-nav-bar.mjs';\nimport { useResize } from '../hooks/useListener.mjs';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig.mjs';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon.mjs';\nimport useDragSort from '../hooks/useDragSort.mjs';\nimport { i as isFunction_1 } from '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-8dfc9324.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport './tab-panel-props.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../config-provider/type.mjs';\nimport '../utils/set-style.mjs';\nimport '../_chunks/dep-5efe53d1.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '../hooks/useResizeObserver.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar TTabNav = defineComponent(_objectSpread(_objectSpread({\n  name: \"TTabNav\"\n}, {\n  resizeObserver: null\n}), {}, {\n  props: {\n    theme: props.theme,\n    panels: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    action: Array,\n    value: props.value,\n    placement: props.placement,\n    scrollPosition: props.scrollPosition,\n    size: props.size,\n    disabled: props.disabled,\n    addable: props.addable,\n    onChange: props.onChange,\n    onAdd: props.onAdd,\n    onRemove: props.onRemove,\n    dragSort: props.dragSort,\n    onDragSort: props.onDragSort\n  },\n  setup: function setup(props) {\n    var componentName = usePrefixClass(\"tabs\");\n    var _useGlobalIcon = useGlobalIcon({\n        ChevronLeftIcon: ChevronLeftIcon,\n        ChevronRightIcon: ChevronRightIcon,\n        AddIcon: AddIcon\n      }),\n      ChevronLeftIcon$1 = _useGlobalIcon.ChevronLeftIcon,\n      ChevronRightIcon$1 = _useGlobalIcon.ChevronRightIcon,\n      AddIcon$1 = _useGlobalIcon.AddIcon;\n    var classPrefix = usePrefixClass();\n    var _useCommonClassName = useCommonClassName(),\n      SIZE = _useCommonClassName.SIZE;\n    var scrollLeft = ref(0);\n    var navsContainerRef = ref();\n    var navsWrapRef = ref();\n    var leftOperationsRef = ref();\n    var rightOperationsRef = ref();\n    var toRightBtnRef = ref();\n    var activeTabRef = ref();\n    var maxScrollLeft = ref(0);\n    var getRefs = function getRefs() {\n      return {\n        navsContainer: navsContainerRef.value,\n        navsWrap: navsWrapRef.value,\n        leftOperations: leftOperationsRef.value,\n        rightOperations: rightOperationsRef.value,\n        toRightBtn: toRightBtnRef.value,\n        activeTab: activeTabRef.value\n      };\n    };\n    var isVerticalPlacement = computed(function () {\n      return [\"left\", \"right\"].includes(props.placement.toLowerCase());\n    });\n    var canToLeft = computed(function () {\n      return scrollLeft.value > 1;\n    });\n    var canToRight = computed(function () {\n      return scrollLeft.value < maxScrollLeft.value - 1;\n    });\n    var wrapTransformStyle = computed(function () {\n      if (isVerticalPlacement.value) return {};\n      return {\n        transform: \"translate3d(\".concat(-scrollLeft.value, \"px, 0, 0)\")\n      };\n    });\n    var navsContainerStyle = computed(function () {\n      return props.addable ? {\n        \"min-height\": \"48px\"\n      } : null;\n    });\n    var iconBaseClass = computed(function () {\n      return _defineProperty(_defineProperty(_defineProperty({}, \"\".concat(componentName.value, \"__btn\"), true), SIZE.value.medium, props.size === \"medium\"), SIZE.value.large, props.size === \"large\");\n    });\n    var leftIconClass = computed(function () {\n      return _objectSpread(_defineProperty({}, \"\".concat(componentName.value, \"__btn--left\"), true), iconBaseClass.value);\n    });\n    var rightIconClass = computed(function () {\n      return _objectSpread(_defineProperty({}, \"\".concat(componentName.value, \"__btn--right\"), true), iconBaseClass.value);\n    });\n    var addIconClass = computed(function () {\n      return _objectSpread(_defineProperty({}, \"\".concat(componentName.value, \"__add-btn\"), true), iconBaseClass.value);\n    });\n    var navContainerClass = computed(function () {\n      return _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, \"\".concat(componentName.value, \"__nav-container\"), true), \"\".concat(componentName.value, \"__nav--card\"), props.theme === \"card\"), \"\".concat(classPrefix.value, \"-is-\").concat(props.placement), true), \"\".concat(classPrefix.value, \"-is-addable\"), props.addable);\n    });\n    var navScrollContainerClass = computed(function () {\n      return _defineProperty(_defineProperty({}, \"\".concat(componentName.value, \"__nav-scroll\"), true), \"\".concat(classPrefix.value, \"-is-scrollable\"), canToLeft.value || canToRight.value);\n    });\n    var navsWrapClass = computed(function () {\n      return [\"\".concat(componentName.value, \"__nav-wrap\"), \"\".concat(classPrefix.value, \"-is-smooth\"), _defineProperty({}, \"\".concat(classPrefix.value, \"-is-vertical\"), isVerticalPlacement.value)];\n    });\n    var setOffset = function setOffset(offset) {\n      scrollLeft.value = calcValidOffset(offset, maxScrollLeft.value);\n    };\n    var handleScroll = function handleScroll(action) {\n      setOffset(calcPrevOrNextOffset(getRefs(), scrollLeft.value, action));\n    };\n    var handleWheel = function handleWheel(event) {\n      if (!canToLeft.value && !canToRight.value) return;\n      event.preventDefault();\n      var deltaX = event.deltaX,\n        deltaY = event.deltaY;\n      if (Math.abs(deltaX) > Math.abs(deltaY)) {\n        setOffset(scrollLeft.value + deltaX);\n      } else {\n        setOffset(scrollLeft.value + deltaY);\n      }\n    };\n    var handleActiveTabScroll = function handleActiveTabScroll() {\n      setTimeout(function () {\n        setOffset(calculateOffset(getRefs(), scrollLeft.value, props.scrollPosition));\n      }, 0);\n    };\n    var getMaxScrollLeft = function getMaxScrollLeft() {\n      nextTick(function () {\n        maxScrollLeft.value = calcMaxOffset(getRefs());\n      });\n    };\n    watch([function () {\n      return props.placement;\n    }, function () {\n      return props.panels;\n    }], getMaxScrollLeft);\n    watch([function () {\n      return props.scrollPosition;\n    }], handleActiveTabScroll);\n    useResize(debounce_1(getMaxScrollLeft), navsContainerRef.value);\n    var handleAddTab = function handleAddTab(e) {\n      var _props$onAdd;\n      (_props$onAdd = props.onAdd) === null || _props$onAdd === void 0 || _props$onAdd.call(props, {\n        e: e\n      });\n    };\n    var tabClick = function tabClick(event, nav) {\n      var value = nav.value,\n        disabled = nav.disabled;\n      if (disabled || props.value === value) {\n        return false;\n      }\n      props.onChange(value);\n    };\n    var removeBtnClick = function removeBtnClick(_ref5) {\n      var e = _ref5.e,\n        value = _ref5.value,\n        index = _ref5.index;\n      props.onRemove({\n        e: e,\n        value: value,\n        index: index\n      });\n    };\n    var setActiveTab = function setActiveTab(ref2) {\n      if (!(ref2 !== null && ref2 !== void 0 && ref2.$el)) return;\n      if ((ref2 === null || ref2 === void 0 ? void 0 : ref2.value) === props.value && activeTabRef.value !== ref2.$el) {\n        activeTabRef.value = ref2.$el;\n        handleActiveTabScroll();\n      }\n    };\n    var _useDragSort = useDragSort(props),\n      setNavsWrap = _useDragSort.setNavsWrap;\n    onMounted(function () {\n      setNavsWrap(navsWrapRef.value);\n      getMaxScrollLeft();\n      handleActiveTabScroll();\n    });\n    var renderNavsContent = function renderNavsContent() {\n      return props.panels.map(function (panel, index) {\n        var _panel$children;\n        var label;\n        if (panel !== null && panel !== void 0 && (_panel$children = panel.children) !== null && _panel$children !== void 0 && _panel$children.label) {\n          label = panel.children.label();\n        } else if (isFunction_1(panel.label)) {\n          label = panel.label(h);\n        } else {\n          label = panel.label || \"\\u9009\\u9879\\u5361\".concat(index + 1);\n        }\n        var draggable = props.dragSort;\n        if (draggable && panel.draggable === false) {\n          draggable = panel.draggable;\n        }\n        return createVNode(TTabNavItem, {\n          \"ref\": setActiveTab,\n          \"draggable\": draggable,\n          \"key\": panel.value,\n          \"index\": index,\n          \"theme\": props.theme,\n          \"size\": props.size,\n          \"placement\": props.placement,\n          \"label\": label,\n          \"active\": panel.value === props.value,\n          \"disabled\": props.disabled || panel.disabled,\n          \"removable\": panel.removable,\n          \"value\": panel.value,\n          \"onClick\": function onClick(e) {\n            return tabClick(e, panel);\n          },\n          \"onRemove\": removeBtnClick\n        }, null);\n      });\n    };\n    var renderArrows = function renderArrows() {\n      return [createVNode(\"div\", {\n        \"ref\": leftOperationsRef,\n        \"class\": [\"\".concat(componentName.value, \"__operations\"), \"\".concat(componentName.value, \"__operations--left\")]\n      }, [createVNode(Transition, {\n        \"name\": \"fade\",\n        \"mode\": \"out-in\",\n        \"appear\": true\n      }, {\n        \"default\": function _default() {\n          return [canToLeft.value ? createVNode(\"div\", {\n            \"class\": leftIconClass.value,\n            \"onClick\": function onClick() {\n              return handleScroll(\"prev\");\n            }\n          }, [createVNode(ChevronLeftIcon$1, null, null)]) : null];\n        }\n      })]), createVNode(\"div\", {\n        \"ref\": rightOperationsRef,\n        \"class\": [\"\".concat(componentName.value, \"__operations\"), \"\".concat(componentName.value, \"__operations--right\")]\n      }, [createVNode(Transition, {\n        \"name\": \"fade\",\n        \"mode\": \"out-in\",\n        \"appear\": true\n      }, {\n        \"default\": function _default() {\n          return [canToRight.value ? createVNode(\"div\", {\n            \"ref\": toRightBtnRef,\n            \"class\": rightIconClass.value,\n            \"onClick\": function onClick() {\n              return handleScroll(\"next\");\n            }\n          }, [createVNode(ChevronRightIcon$1, null, null)]) : null];\n        }\n      }), props.addable ? createVNode(\"div\", {\n        \"class\": addIconClass.value,\n        \"onClick\": handleAddTab\n      }, [createVNode(AddIcon$1, null, null)]) : null, props.action])];\n    };\n    var renderNavs = function renderNavs() {\n      var navContent = renderNavsContent();\n      return createVNode(\"div\", {\n        \"class\": navContainerClass.value\n      }, [createVNode(\"div\", {\n        \"class\": navScrollContainerClass.value,\n        \"onWheel\": handleWheel\n      }, [createVNode(\"div\", {\n        \"ref\": navsWrapRef,\n        \"class\": navsWrapClass.value,\n        \"style\": wrapTransformStyle.value\n      }, [props.theme !== \"card\" && createVNode(TTabNavBar, {\n        \"placement\": props.placement,\n        \"value\": props.value,\n        \"navs\": navContent\n      }, null), navContent])])]);\n    };\n    return function () {\n      return createVNode(\"div\", {\n        \"ref\": navsContainerRef,\n        \"class\": [\"\".concat(componentName.value, \"__nav\")],\n        \"style\": navsContainerStyle.value\n      }, [renderArrows(), renderNavs()]);\n    };\n  }\n}));\nexport { TTabNav as default };","map":{"version":3,"names":["TTabNav","defineComponent","_objectSpread","name","resizeObserver","props","theme","panels","type","Array","_default","action","value","placement","scrollPosition","size","disabled","addable","onChange","onAdd","onRemove","dragSort","onDragSort","setup","componentName","usePrefixClass","_useGlobalIcon","useGlobalIcon","ChevronLeftIcon","ChevronRightIcon","AddIcon","ChevronLeftIcon$1","ChevronRightIcon$1","AddIcon$1","classPrefix","_useCommonClassName","useCommonClassName","SIZE","scrollLeft","ref","navsContainerRef","navsWrapRef","leftOperationsRef","rightOperationsRef","toRightBtnRef","activeTabRef","maxScrollLeft","getRefs","navsContainer","navsWrap","leftOperations","rightOperations","toRightBtn","activeTab","isVerticalPlacement","computed","includes","toLowerCase","canToLeft","canToRight","wrapTransformStyle","transform","concat","navsContainerStyle","iconBaseClass","_defineProperty","medium","large","leftIconClass","rightIconClass","addIconClass","navContainerClass","navScrollContainerClass","navsWrapClass","setOffset","offset","calcValidOffset","handleScroll","calcPrevOrNextOffset","handleWheel","event","preventDefault","deltaX","deltaY","Math","abs","handleActiveTabScroll","setTimeout","calculateOffset","getMaxScrollLeft","nextTick","calcMaxOffset","watch","useResize","debounce_1","handleAddTab","e","_props$onAdd","call","tabClick","nav","removeBtnClick","_ref5","index","setActiveTab","ref2","$el","_useDragSort","useDragSort","setNavsWrap","onMounted","renderNavsContent","map","panel","_panel$children","label","children","isFunction_1","h","draggable","createVNode","TTabNavItem","removable","onClick","renderArrows","Transition","renderNavs","navContent","TTabNavBar"],"sources":["../../src/tabs/tab-nav.tsx"],"sourcesContent":["import { h, defineComponent, Transition, ref, computed, watch, onMounted, nextTick } from 'vue';\nimport debounce from 'lodash/debounce';\nimport {\n  ChevronLeftIcon as TdChevronLeftIcon,\n  ChevronRightIcon as TdChevronRightIcon,\n  AddIcon as TdAddIcon,\n} from 'tdesign-icons-vue-next';\nimport { TdTabsProps } from './type';\nimport tabProps from './props';\nimport { calcMaxOffset, calcValidOffset, calculateOffset, calcPrevOrNextOffset } from '../_common/js/tabs/base';\n\n// 子组件\nimport TTabPanel from './tab-panel';\nimport TTabNavItem from './tab-nav-item';\nimport TTabNavBar from './tab-nav-bar';\n\n// hooks\nimport { useResize } from '../hooks/useListener';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport useDragSort from '../hooks/useDragSort';\nimport isFunction from 'lodash/isFunction';\n\nexport default defineComponent({\n  name: 'TTabNav',\n  ...{ resizeObserver: null },\n  props: {\n    theme: tabProps.theme,\n    panels: {\n      type: Array as { new (): Array<InstanceType<typeof TTabPanel>> },\n      default: (): Array<InstanceType<typeof TTabPanel>> => [] as Array<InstanceType<typeof TTabPanel>>,\n    },\n    action: Array,\n    value: tabProps.value,\n    placement: tabProps.placement,\n    scrollPosition: tabProps.scrollPosition,\n    size: tabProps.size,\n    disabled: tabProps.disabled,\n    addable: tabProps.addable,\n    onChange: tabProps.onChange,\n    onAdd: tabProps.onAdd,\n    onRemove: tabProps.onRemove,\n    dragSort: tabProps.dragSort,\n    onDragSort: tabProps.onDragSort,\n  },\n  setup(props) {\n    const componentName = usePrefixClass('tabs');\n    const { ChevronLeftIcon, ChevronRightIcon, AddIcon } = useGlobalIcon({\n      ChevronLeftIcon: TdChevronLeftIcon,\n      ChevronRightIcon: TdChevronRightIcon,\n      AddIcon: TdAddIcon,\n    });\n    const classPrefix = usePrefixClass();\n\n    const { SIZE } = useCommonClassName();\n\n    const scrollLeft = ref(0);\n\n    // refs\n    const navsContainerRef = ref();\n    const navsWrapRef = ref();\n    const leftOperationsRef = ref();\n    const rightOperationsRef = ref();\n    const toRightBtnRef = ref();\n    const activeTabRef = ref();\n    const maxScrollLeft = ref(0);\n\n    const getRefs = () => ({\n      navsContainer: navsContainerRef.value,\n      navsWrap: navsWrapRef.value,\n      leftOperations: leftOperationsRef.value,\n      rightOperations: rightOperationsRef.value,\n      toRightBtn: toRightBtnRef.value,\n      activeTab: activeTabRef.value,\n    });\n\n    // left right位置 选项卡的位置是在左右侧垂直方向铺开的\n    const isVerticalPlacement = computed(() => ['left', 'right'].includes(props.placement.toLowerCase()));\n\n    // 展示操作按钮\n    const canToLeft = computed(() => scrollLeft.value > 1);\n    const canToRight = computed(() => scrollLeft.value < maxScrollLeft.value - 1);\n\n    // style\n    const wrapTransformStyle = computed(() => {\n      if (isVerticalPlacement.value) return {};\n      return {\n        transform: `translate3d(${-scrollLeft.value}px, 0, 0)`,\n      };\n    });\n    const navsContainerStyle = computed(() => {\n      return props.addable ? { 'min-height': '48px' } : null;\n    });\n\n    // class\n    const iconBaseClass = computed(() => {\n      return {\n        [`${componentName.value}__btn`]: true,\n        [SIZE.value.medium]: props.size === 'medium',\n        [SIZE.value.large]: props.size === 'large',\n      };\n    });\n    const leftIconClass = computed(() => {\n      return {\n        [`${componentName.value}__btn--left`]: true,\n        ...iconBaseClass.value,\n      };\n    });\n    const rightIconClass = computed(() => {\n      return {\n        [`${componentName.value}__btn--right`]: true,\n        ...iconBaseClass.value,\n      };\n    });\n    const addIconClass = computed(() => {\n      return {\n        [`${componentName.value}__add-btn`]: true,\n        ...iconBaseClass.value,\n      };\n    });\n    const navContainerClass = computed(() => {\n      return {\n        [`${componentName.value}__nav-container`]: true,\n        [`${componentName.value}__nav--card`]: props.theme === 'card',\n        [`${classPrefix.value}-is-${props.placement}`]: true,\n        [`${classPrefix.value}-is-addable`]: props.addable,\n      };\n    });\n    const navScrollContainerClass = computed(() => {\n      return {\n        [`${componentName.value}__nav-scroll`]: true,\n        [`${classPrefix.value}-is-scrollable`]: canToLeft.value || canToRight.value,\n      };\n    });\n\n    const navsWrapClass = computed(() => {\n      return [\n        `${componentName.value}__nav-wrap`,\n        `${classPrefix.value}-is-smooth`,\n        { [`${classPrefix.value}-is-vertical`]: isVerticalPlacement.value },\n      ];\n    });\n\n    const setOffset = (offset: number) => {\n      scrollLeft.value = calcValidOffset(offset, maxScrollLeft.value);\n    };\n\n    const handleScroll = (action: 'prev' | 'next') => {\n      setOffset(calcPrevOrNextOffset(getRefs(), scrollLeft.value, action));\n    };\n\n    const handleWheel = (event: WheelEvent) => {\n      if (!canToLeft.value && !canToRight.value) return;\n\n      event.preventDefault();\n      const { deltaX, deltaY } = event;\n\n      if (Math.abs(deltaX) > Math.abs(deltaY)) {\n        setOffset(scrollLeft.value + deltaX);\n      } else {\n        setOffset(scrollLeft.value + deltaY);\n      }\n    };\n\n    const handleActiveTabScroll = () => {\n      setTimeout(() => {\n        setOffset(calculateOffset(getRefs(), scrollLeft.value, props.scrollPosition));\n      }, 0);\n    };\n\n    const getMaxScrollLeft = () => {\n      nextTick(() => {\n        maxScrollLeft.value = calcMaxOffset(getRefs());\n      });\n    };\n\n    // watch\n    watch([() => props.placement, () => props.panels], getMaxScrollLeft);\n    watch([() => props.scrollPosition], handleActiveTabScroll);\n\n    // life times\n    useResize(debounce(getMaxScrollLeft), navsContainerRef.value);\n\n    const handleAddTab = (e: MouseEvent) => {\n      props.onAdd?.({ e });\n    };\n\n    const tabClick = (event: MouseEvent, nav: Partial<InstanceType<typeof TTabPanel>>) => {\n      const { value, disabled } = nav;\n      if (disabled || props.value === value) {\n        return false;\n      }\n      props.onChange(value);\n    };\n    const removeBtnClick = ({ e, value, index }: Parameters<TdTabsProps['onRemove']>[0]) => {\n      props.onRemove({ e, value, index });\n    };\n    const setActiveTab = (ref: any) => {\n      if (!ref?.$el) return;\n      if (ref?.value === props.value && activeTabRef.value !== ref.$el) {\n        activeTabRef.value = ref.$el;\n        handleActiveTabScroll();\n      }\n    };\n\n    const { setNavsWrap } = useDragSort(props);\n\n    onMounted(() => {\n      setNavsWrap(navsWrapRef.value);\n      getMaxScrollLeft();\n      handleActiveTabScroll();\n    });\n    // renders\n    const renderNavsContent = () => {\n      return props.panels.map((panel, index) => {\n        let label;\n        if (panel?.children?.label) {\n          label = panel.children.label();\n        } else if (isFunction(panel.label)) {\n          label = panel.label(h);\n        } else {\n          label = panel.label || `选项卡${index + 1}`;\n        }\n        let draggable = props.dragSort;\n        if (draggable && panel.draggable === false) {\n          draggable = panel.draggable;\n        }\n        return (\n          <TTabNavItem\n            ref={setActiveTab}\n            draggable={draggable}\n            key={panel.value}\n            index={index}\n            theme={props.theme}\n            size={props.size}\n            placement={props.placement}\n            label={label}\n            active={panel.value === props.value}\n            disabled={props.disabled || panel.disabled}\n            removable={panel.removable}\n            value={panel.value}\n            onClick={(e: MouseEvent) => tabClick(e, panel)}\n            onRemove={removeBtnClick}\n          />\n        );\n      });\n    };\n    const renderArrows = () => {\n      return [\n        <div\n          ref={leftOperationsRef}\n          class={[`${componentName.value}__operations`, `${componentName.value}__operations--left`]}\n        >\n          <Transition name=\"fade\" mode=\"out-in\" appear>\n            {canToLeft.value ? (\n              <div class={leftIconClass.value} onClick={() => handleScroll('prev')}>\n                <ChevronLeftIcon />\n              </div>\n            ) : null}\n          </Transition>\n        </div>,\n        <div\n          ref={rightOperationsRef}\n          class={[`${componentName.value}__operations`, `${componentName.value}__operations--right`]}\n        >\n          <Transition name=\"fade\" mode=\"out-in\" appear>\n            {canToRight.value ? (\n              <div ref={toRightBtnRef} class={rightIconClass.value} onClick={() => handleScroll('next')}>\n                <ChevronRightIcon></ChevronRightIcon>\n              </div>\n            ) : null}\n          </Transition>\n          {props.addable ? (\n            <div class={addIconClass.value} onClick={handleAddTab}>\n              <AddIcon></AddIcon>\n            </div>\n          ) : null}\n          {props.action}\n        </div>,\n      ];\n    };\n    const renderNavs = () => {\n      const navContent = renderNavsContent();\n      return (\n        <div class={navContainerClass.value}>\n          <div class={navScrollContainerClass.value} onWheel={handleWheel}>\n            <div ref={navsWrapRef} class={navsWrapClass.value} style={wrapTransformStyle.value}>\n              {props.theme !== 'card' && (\n                <TTabNavBar placement={props.placement} value={props.value} navs={navContent} />\n              )}\n              {navContent}\n            </div>\n          </div>\n        </div>\n      );\n    };\n\n    return () => {\n      return (\n        <div ref={navsContainerRef} class={[`${componentName.value}__nav`]} style={navsContainerStyle.value}>\n          {renderArrows()}\n          {renderNavs()}\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}