{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _typeof } from '../_chunks/dep-4659d73b.mjs';\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { isVNode, defineComponent, ref, computed, h, createVNode, mergeProps } from 'vue';\nimport { i as isFunction_1 } from '../_chunks/dep-06dcbf4c.mjs';\nimport { getColumnFixedStyles } from './hooks/useFixed.mjs';\nimport useClassName from './hooks/useClassName.mjs';\nimport { renderTitle } from './hooks/useTableHeader.mjs';\nimport TEllipsis from './ellipsis.mjs';\nimport { formatClassNames } from './utils.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-5efe53d1.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '../_chunks/dep-ae202bc0.mjs';\nimport '../_chunks/dep-aeaef131.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-5993931e.mjs';\nimport '../_chunks/dep-8dfc9324.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-6a7115de.mjs';\nimport '../_chunks/dep-4d4e2af1.mjs';\nimport '../_chunks/dep-3c4e4325.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-4ec29b23.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-fbd4eddb.mjs';\nimport '../_chunks/dep-88c8d9ed.mjs';\nimport '../_common/js/log/index.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../_common/js/utils/getScrollbarWidth.mjs';\nimport '../_common/js/utils/helper.mjs';\nimport '../_chunks/dep-4a990ea3.mjs';\nimport '../_chunks/dep-5d3f7c0e.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../_chunks/dep-73384992.mjs';\nimport '../_chunks/dep-58a62202.mjs';\nimport '../_chunks/dep-889e457b.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../_chunks/dep-4de7e2ca.mjs';\nimport '../_chunks/dep-0e581ac0.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-69e0f6fc.mjs';\nimport '../hooks/useConfig.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/type.mjs';\nimport './hooks/useMultiHeader.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../tooltip/index.mjs';\nimport '../tooltip/tooltip.mjs';\nimport '../_chunks/dep-88ae49da.mjs';\nimport '../tooltip/props.mjs';\nimport '../popup/props.mjs';\nimport '../popup/index.mjs';\nimport '../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/tnode.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../popup/container.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../popup/type.mjs';\nimport '../tooltip/util.mjs';\nimport '../tooltip/type.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar THead = defineComponent({\n  name: \"THead\",\n  props: {\n    classPrefix: String,\n    ellipsisOverlayClassName: String,\n    isFixedHeader: Boolean,\n    thDraggable: Boolean,\n    maxHeight: [String, Number],\n    height: [String, Number],\n    rowAndColFixedPosition: Map,\n    thWidthList: Object,\n    bordered: Boolean,\n    isMultipleHeader: Boolean,\n    resizable: Boolean,\n    attach: [String, Function],\n    spansAndLeafNodes: Object,\n    thList: Array,\n    columnResizeParams: Object,\n    showColumnShadow: Object\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var theadRef = ref();\n    var classnames = useClassName();\n    var tableHeaderClasses = classnames.tableHeaderClasses,\n      tableBaseClass = classnames.tableBaseClass;\n    var theadClasses = computed(function () {\n      return [tableHeaderClasses.header, _defineProperty(_defineProperty(_defineProperty({}, tableHeaderClasses.fixed, Boolean(props.maxHeight || props.height)), tableBaseClass.bordered, props.bordered && props.isMultipleHeader), tableHeaderClasses.multipleHeader, props.isMultipleHeader)];\n    });\n    var colspanSkipMap = computed(function () {\n      var map = {};\n      var _processColumns = function processColumns(columns) {\n        for (var i = 0, len = columns.length; i < len; i++) {\n          var item = columns[i];\n          if (item.colspan > 1) {\n            for (var j = i + 1; j < i + item.colspan; j++) {\n              if (columns[j]) {\n                map[columns[j].colKey] = true;\n              }\n            }\n          }\n          if (item.children) {\n            _processColumns(item.children);\n          }\n        }\n      };\n      var list = props.thList[0];\n      _processColumns(list);\n      return map;\n    });\n    var getTableNode = function getTableNode(thead) {\n      var parent = thead;\n      while (parent) {\n        var _parent;\n        parent = parent.parentNode;\n        if ((_parent = parent) !== null && _parent !== void 0 && (_parent = _parent.classList) !== null && _parent !== void 0 && _parent.contains(\"\".concat(props.classPrefix, \"-table\"))) {\n          break;\n        }\n      }\n      return parent;\n    };\n    return _objectSpread(_objectSpread({}, classnames), {}, {\n      colspanSkipMap: colspanSkipMap,\n      theadClasses: theadClasses,\n      theadRef: theadRef,\n      slots: slots,\n      getTableNode: getTableNode\n    });\n  },\n  render: function render() {\n    var _this = this;\n    var renderThNodeList = function renderThNodeList(rowAndColFixedPosition, thWidthList) {\n      var thBorderMap = /* @__PURE__ */new Map();\n      var thRowspanAndColspan = _this.spansAndLeafNodes.rowspanAndColspanMap;\n      return _this.thList.map(function (row, rowIndex) {\n        var thRow = row.map(function (col, index) {\n          var _col$children;\n          if (_this.colspanSkipMap[col.colKey]) return null;\n          var rowspanAndColspan = thRowspanAndColspan.get(col);\n          if (index === 0 && rowspanAndColspan.rowspan > 1) {\n            for (var j = rowIndex + 1; j < rowIndex + rowspanAndColspan.rowspan; j++) {\n              thBorderMap.set(_this.thList[j][0], true);\n            }\n          }\n          var thStyles = getColumnFixedStyles(col, index, rowAndColFixedPosition, _this.tableColFixedClasses);\n          var colParams = {\n            col: col,\n            colIndex: index,\n            row: {},\n            rowIndex: -1\n          };\n          var customClasses = formatClassNames(col.className, _objectSpread(_objectSpread({}, colParams), {}, {\n            type: \"th\"\n          }));\n          var thCustomClasses = formatClassNames(col.thClassName, _objectSpread(_objectSpread({}, colParams), {}, {\n            type: \"th\"\n          }));\n          var isLeftFixedActive = _this.showColumnShadow.left && col.fixed === \"left\";\n          var isRightFixedActive = _this.showColumnShadow.right && col.fixed === \"right\";\n          var canDragSort = _this.thDraggable && !(isLeftFixedActive || isRightFixedActive);\n          var thClasses = [thStyles.classes, customClasses, thCustomClasses, _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _this.tableHeaderClasses.thBordered, thBorderMap.get(col)), \"\".concat(_this.classPrefix, \"-table__th-\").concat(col.colKey), col.colKey), _this.tdAlignClasses[col.align], col.align && col.align !== \"left\"), _this.tableDraggableClasses.dragSortTh, canDragSort)];\n          var withoutChildren = !((_col$children = col.children) !== null && _col$children !== void 0 && _col$children.length);\n          var width = withoutChildren && thWidthList !== null && thWidthList !== void 0 && thWidthList[col.colKey] ? \"\".concat(thWidthList === null || thWidthList === void 0 ? void 0 : thWidthList[col.colKey], \"px\") : void 0;\n          var styles = _objectSpread(_objectSpread({}, thStyles.style || {}), {}, {\n            width: width\n          });\n          var innerTh = renderTitle(_this.slots, col, index);\n          var resizeColumnListener = _this.resizable || !canDragSort ? {\n            onMousedown: function onMousedown(e) {\n              if (_this.resizable) {\n                var _this$columnResizePar, _this$columnResizePar2;\n                (_this$columnResizePar = _this.columnResizeParams) === null || _this$columnResizePar === void 0 || (_this$columnResizePar2 = _this$columnResizePar.onColumnMousedown) === null || _this$columnResizePar2 === void 0 || _this$columnResizePar2.call(_this$columnResizePar, e, col, index);\n              }\n              if (!canDragSort) {\n                var timer = setTimeout(function () {\n                  var _thList$index;\n                  var thList = _this.theadRef.querySelectorAll(\"th\");\n                  (_thList$index = thList[index]) === null || _thList$index === void 0 || _thList$index.removeAttribute(\"draggable\");\n                  clearTimeout(timer);\n                }, 10);\n              }\n            },\n            onMousemove: function onMousemove(e) {\n              var _this$columnResizePar3, _this$columnResizePar4;\n              _this.resizable && ((_this$columnResizePar3 = _this.columnResizeParams) === null || _this$columnResizePar3 === void 0 || (_this$columnResizePar4 = _this$columnResizePar3.onColumnMouseover) === null || _this$columnResizePar4 === void 0 ? void 0 : _this$columnResizePar4.call(_this$columnResizePar3, e, col));\n            }\n          } : {};\n          var content = isFunction_1(col.ellipsisTitle) ? col.ellipsisTitle(h, {\n            col: col,\n            colIndex: index\n          }) : void 0;\n          var isEllipsis = col.ellipsisTitle !== void 0 ? Boolean(col.ellipsisTitle) : Boolean(col.ellipsis);\n          var attrs = (isFunction_1(col.attrs) ? col.attrs(_objectSpread(_objectSpread({}, colParams), {}, {\n            type: \"th\"\n          })) : col.attrs) || {};\n          if (col.colspan > 1) {\n            attrs.colspan = col.colspan;\n          }\n          return createVNode(\"th\", mergeProps({\n            \"key\": col.colKey,\n            \"data-colkey\": col.colKey,\n            \"class\": thClasses,\n            \"style\": styles\n          }, attrs, rowspanAndColspan, resizeColumnListener), [createVNode(\"div\", {\n            \"class\": _this.tableBaseClass.thCellInner\n          }, [isEllipsis ? createVNode(TEllipsis, {\n            \"placement\": \"bottom\",\n            \"attach\": _this.attach || (_this.theadRef ? function () {\n              return _this.getTableNode(_this.theadRef);\n            } : void 0),\n            \"tooltipContent\": content && function () {\n              return content;\n            },\n            \"tooltipProps\": _typeof(col.ellipsisTitle) === \"object\" ? col.ellipsisTitle : void 0,\n            \"overlayClassName\": _this.ellipsisOverlayClassName,\n            \"classPrefix\": _this.classPrefix\n          }, _isSlot(innerTh) ? innerTh : {\n            \"default\": function _default() {\n              return [innerTh];\n            }\n          }) : innerTh])]);\n        });\n        return createVNode(\"tr\", {\n          \"key\": rowIndex\n        }, [thRow]);\n      });\n    };\n    return createVNode(\"thead\", {\n      \"ref\": \"theadRef\",\n      \"class\": this.theadClasses\n    }, [renderThNodeList(this.rowAndColFixedPosition, this.thWidthList)]);\n  }\n});\nexport { THead as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","THead","defineComponent","name","props","classPrefix","String","ellipsisOverlayClassName","isFixedHeader","Boolean","thDraggable","maxHeight","Number","height","rowAndColFixedPosition","Map","thWidthList","bordered","isMultipleHeader","resizable","attach","Function","spansAndLeafNodes","thList","Array","columnResizeParams","showColumnShadow","setup","_ref","slots","theadRef","ref","classnames","useClassName","tableHeaderClasses","tableBaseClass","theadClasses","computed","header","_defineProperty","fixed","multipleHeader","colspanSkipMap","map","_processColumns","processColumns","columns","i","len","length","item","colspan","j","colKey","children","list","getTableNode","thead","parent","_parent","parentNode","classList","contains","concat","_objectSpread","render","_this","renderThNodeList","thBorderMap","thRowspanAndColspan","rowspanAndColspanMap","row","rowIndex","thRow","col","index","_col$children","rowspanAndColspan","get","rowspan","set","thStyles","getColumnFixedStyles","tableColFixedClasses","colParams","colIndex","customClasses","formatClassNames","className","type","thCustomClasses","thClassName","isLeftFixedActive","left","isRightFixedActive","right","canDragSort","thClasses","classes","thBordered","tdAlignClasses","align","tableDraggableClasses","dragSortTh","withoutChildren","width","styles","style","innerTh","renderTitle","resizeColumnListener","onMousedown","e","_this$columnResizePar","_this$columnResizePar2","onColumnMousedown","timer","setTimeout","_thList$index","querySelectorAll","removeAttribute","clearTimeout","onMousemove","_this$columnResizePar3","_this$columnResizePar4","onColumnMouseover","content","isFunction_1","ellipsisTitle","h","isEllipsis","ellipsis","attrs","createVNode","mergeProps","thCellInner","TEllipsis","_typeof","_default"],"sources":["../../src/table/thead.tsx"],"sourcesContent":["import { defineComponent, computed, SetupContext, PropType, ref, Ref, h, CSSProperties } from 'vue';\nimport isFunction from 'lodash/isFunction';\nimport { getColumnFixedStyles } from './hooks/useFixed';\nimport useClassName from './hooks/useClassName';\nimport { BaseTableCol, TableRowData, TdBaseTableProps } from './type';\nimport { renderTitle } from './hooks/useTableHeader';\nimport TEllipsis from './ellipsis';\nimport { formatClassNames } from './utils';\nimport { RowAndColFixedPosition, BaseTableColumns, ThRowspanAndColspan } from './interface';\nimport { AttachNode } from '../common';\n\nexport interface TheadProps {\n  classPrefix: string;\n  ellipsisOverlayClassName: string;\n  // 是否固定表头\n  isFixedHeader: boolean;\n  maxHeight?: TdBaseTableProps['maxHeight'];\n  height?: TdBaseTableProps['height'];\n  // 固定列 left/right 具体值\n  rowAndColFixedPosition: RowAndColFixedPosition;\n  // 虚拟滚动单独渲染表头；表头吸顶单独渲染表头\n  thWidthList?: { [colKey: string]: number };\n  bordered?: boolean;\n  isMultipleHeader?: boolean;\n  thDraggable?: boolean;\n  spansAndLeafNodes?: {\n    rowspanAndColspanMap: ThRowspanAndColspan;\n    leafColumns: BaseTableCol<TableRowData>[];\n  };\n  thList: BaseTableCol<TableRowData>[][];\n  columnResizeParams: {\n    resizeLineRef: Ref<HTMLDivElement>;\n    resizeLineStyle: CSSProperties;\n    onColumnMouseover: (e: MouseEvent, col: BaseTableCol<TableRowData>) => void;\n    onColumnMousedown: (e: MouseEvent, col: BaseTableCol<TableRowData>, index: number) => void;\n  };\n  resizable?: Boolean;\n  attach?: AttachNode;\n  showColumnShadow?: { left: boolean; right: boolean };\n}\n\nexport default defineComponent({\n  name: 'THead',\n\n  props: {\n    classPrefix: String,\n    ellipsisOverlayClassName: String,\n    isFixedHeader: Boolean,\n    thDraggable: Boolean,\n    maxHeight: [String, Number] as PropType<TheadProps['maxHeight']>,\n    height: [String, Number] as PropType<TheadProps['height']>,\n    rowAndColFixedPosition: Map as PropType<TheadProps['rowAndColFixedPosition']>,\n    thWidthList: Object as PropType<TheadProps['thWidthList']>,\n    bordered: Boolean,\n    isMultipleHeader: Boolean,\n    resizable: Boolean,\n    attach: [String, Function] as PropType<TheadProps['attach']>,\n    spansAndLeafNodes: Object as PropType<TheadProps['spansAndLeafNodes']>,\n    thList: Array as PropType<TheadProps['thList']>,\n    columnResizeParams: Object as PropType<TheadProps['columnResizeParams']>,\n    showColumnShadow: Object as PropType<TheadProps['showColumnShadow']>,\n  },\n\n  setup(props: TheadProps, { slots }: SetupContext) {\n    const theadRef = ref<HTMLHeadElement>();\n    const classnames = useClassName();\n    const { tableHeaderClasses, tableBaseClass } = classnames;\n    const theadClasses = computed(() => [\n      tableHeaderClasses.header,\n      {\n        [tableHeaderClasses.fixed]: Boolean(props.maxHeight || props.height),\n        [tableBaseClass.bordered]: props.bordered && props.isMultipleHeader,\n        [tableHeaderClasses.multipleHeader]: props.isMultipleHeader,\n      },\n    ]);\n\n    // 单行表格合并\n    const colspanSkipMap = computed(() => {\n      const map: { [key: string]: boolean } = {};\n\n      const processColumns = (columns: BaseTableColumns) => {\n        for (let i = 0, len = columns.length; i < len; i++) {\n          const item = columns[i];\n          if (item.colspan > 1) {\n            for (let j = i + 1; j < i + item.colspan; j++) {\n              if (columns[j]) {\n                map[columns[j].colKey] = true;\n              }\n            }\n          }\n          // 如果有子列，递归处理\n          if (item.children) {\n            processColumns(item.children);\n          }\n        }\n      };\n\n      const list = props.thList[0];\n      processColumns(list);\n\n      return map;\n    });\n\n    const getTableNode = (thead: HTMLElement) => {\n      let parent = thead;\n      while (parent) {\n        parent = parent.parentNode as HTMLElement;\n        if (parent?.classList?.contains(`${props.classPrefix}-table`)) {\n          break;\n        }\n      }\n      return parent;\n    };\n\n    return {\n      ...classnames,\n      colspanSkipMap,\n      theadClasses,\n      theadRef,\n      slots,\n      getTableNode,\n    };\n  },\n\n  render() {\n    const renderThNodeList = (\n      rowAndColFixedPosition: RowAndColFixedPosition,\n      thWidthList: TheadProps['thWidthList'],\n    ) => {\n      // thBorderMap: rowspan 会影响 tr > th 是否为第一列表头，从而影响边框\n      const thBorderMap = new Map<any, boolean>();\n      const thRowspanAndColspan = this.spansAndLeafNodes.rowspanAndColspanMap;\n      return this.thList.map((row, rowIndex) => {\n        const thRow = row.map((col: BaseTableColumns[0], index: number) => {\n          // 因合并单行表头，跳过\n          if (this.colspanSkipMap[col.colKey]) return null;\n          const rowspanAndColspan = thRowspanAndColspan.get(col);\n          if (index === 0 && rowspanAndColspan.rowspan > 1) {\n            for (let j = rowIndex + 1; j < rowIndex + rowspanAndColspan.rowspan; j++) {\n              thBorderMap.set(this.thList[j][0], true);\n            }\n          }\n          const thStyles = getColumnFixedStyles(col, index, rowAndColFixedPosition, this.tableColFixedClasses);\n          const colParams = {\n            col,\n            colIndex: index,\n            row: {},\n            rowIndex: -1,\n          };\n          const customClasses = formatClassNames(col.className, { ...colParams, type: 'th' });\n          const thCustomClasses = formatClassNames(col.thClassName, { ...colParams, type: 'th' });\n          const isLeftFixedActive = this.showColumnShadow.left && col.fixed === 'left';\n          const isRightFixedActive = this.showColumnShadow.right && col.fixed === 'right';\n          const canDragSort = this.thDraggable && !(isLeftFixedActive || isRightFixedActive);\n          const thClasses = [\n            thStyles.classes,\n            customClasses,\n            thCustomClasses,\n            {\n              // 受 rowspan 影响，部分 tr > th:first-child 需要补足左边框\n              [this.tableHeaderClasses.thBordered]: thBorderMap.get(col),\n              [`${this.classPrefix}-table__th-${col.colKey}`]: col.colKey,\n              [this.tdAlignClasses[col.align]]: col.align && col.align !== 'left',\n              // 允许拖拽的列类名\n              [this.tableDraggableClasses.dragSortTh]: canDragSort,\n            },\n          ];\n          const withoutChildren = !col.children?.length;\n          const width = withoutChildren && thWidthList?.[col.colKey] ? `${thWidthList?.[col.colKey]}px` : undefined;\n          const styles = { ...(thStyles.style || {}), width };\n          const innerTh = renderTitle(this.slots, col, index);\n          const resizeColumnListener =\n            this.resizable || !canDragSort\n              ? {\n                  onMousedown: (e: MouseEvent) => {\n                    if (this.resizable) {\n                      this.columnResizeParams?.onColumnMousedown?.(e, col, index);\n                    }\n                    if (!canDragSort) {\n                      const timer = setTimeout(() => {\n                        const thList = this.theadRef.querySelectorAll('th');\n                        thList[index]?.removeAttribute('draggable');\n                        clearTimeout(timer);\n                      }, 10);\n                    }\n                  },\n                  onMousemove: (e: MouseEvent) => {\n                    this.resizable && this.columnResizeParams?.onColumnMouseover?.(e, col);\n                  },\n                }\n              : {};\n          const content = isFunction(col.ellipsisTitle) ? col.ellipsisTitle(h, { col, colIndex: index }) : undefined;\n          const isEllipsis = col.ellipsisTitle !== undefined ? Boolean(col.ellipsisTitle) : Boolean(col.ellipsis);\n          const attrs = (isFunction(col.attrs) ? col.attrs({ ...colParams, type: 'th' }) : col.attrs) || {};\n          if (col.colspan > 1) {\n            attrs.colspan = col.colspan;\n          }\n          return (\n            <th\n              key={col.colKey}\n              data-colkey={col.colKey}\n              class={thClasses}\n              style={styles}\n              {...attrs}\n              {...rowspanAndColspan}\n              {...resizeColumnListener}\n            >\n              <div class={this.tableBaseClass.thCellInner}>\n                {isEllipsis ? (\n                  <TEllipsis\n                    placement=\"bottom\"\n                    attach={this.attach || (this.theadRef ? () => this.getTableNode(this.theadRef) : undefined)}\n                    tooltipContent={content && (() => content)}\n                    tooltipProps={typeof col.ellipsisTitle === 'object' ? col.ellipsisTitle : undefined}\n                    overlayClassName={this.ellipsisOverlayClassName}\n                    classPrefix={this.classPrefix}\n                  >\n                    {innerTh}\n                  </TEllipsis>\n                ) : (\n                  innerTh\n                )}\n              </div>\n            </th>\n          );\n        });\n        return <tr key={rowIndex}>{thRow}</tr>;\n      });\n    };\n\n    return (\n      <thead ref=\"theadRef\" class={this.theadClasses}>\n        {renderThNodeList(this.rowAndColFixedPosition, this.thWidthList)}\n      </thead>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}