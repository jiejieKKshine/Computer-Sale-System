{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, ref, computed, createVNode, mergeProps } from 'vue';\nimport _Notification from './notification.mjs';\nimport { DEFAULT_Z_INDEX, PLACEMENT_OFFSET, DISTANCE } from './const.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../hooks/tnode.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport './props.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/type.mjs';\nimport './animate.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar NotificationList = defineComponent({\n  props: {\n    placement: {\n      type: String,\n      \"default\": \"top-right\",\n      validator: function validator(v) {\n        return [\"top-left\", \"top-right\", \"bottom-left\", \"bottom-right\"].indexOf(v) > -1;\n      }\n    }\n  },\n  setup: function setup(props, _ref) {\n    var expose = _ref.expose;\n    var COMPONENT_NAME = usePrefixClass(\"notification-list\");\n    var placement = props.placement;\n    var list = ref([]);\n    var notificationList = ref([]);\n    var styles = computed(function () {\n      return _objectSpread({\n        zIndex: DEFAULT_Z_INDEX\n      }, PLACEMENT_OFFSET[placement]);\n    });\n    var add = function add(options) {\n      list.value.push(options);\n      return list.value.length - 1;\n    };\n    var remove = function remove(index) {\n      list.value.splice(index, 1);\n    };\n    var removeAll = function removeAll() {\n      list.value = [];\n    };\n    var getOffset = function getOffset(val) {\n      if (!val) return;\n      return isNaN(Number(val)) ? val : \"\".concat(val, \"px\");\n    };\n    var notificationStyles = function notificationStyles(item) {\n      var styles2 = {\n        marginBottom: DISTANCE\n      };\n      if (item.offset) {\n        styles2.position = \"relative\";\n        styles2.left = getOffset(item.offset[0]);\n        styles2.top = getOffset(item.offset[1]);\n      }\n      if (item.zIndex) styles2[\"z-index\"] = item.zIndex;\n      return styles2;\n    };\n    var getProps = function getProps(index, item) {\n      return _objectSpread(_objectSpread({}, item), {}, {\n        onCloseBtnClick: function onCloseBtnClick(e) {\n          if (item.onCloseBtnClick) {\n            item.onCloseBtnClick(e);\n          }\n          return remove(index);\n        },\n        onDurationEnd: function onDurationEnd() {\n          if (item.onDurationEnd) {\n            item.onDurationEnd();\n          }\n          return remove(index);\n        }\n      });\n    };\n    var addChild = function addChild(el) {\n      if (el) {\n        notificationList.value.push(el);\n      }\n    };\n    expose({\n      add: add,\n      remove: remove,\n      removeAll: removeAll,\n      list: list,\n      notificationList: notificationList\n    });\n    return function () {\n      if (!list.value.length) return;\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__show\"),\n        \"style\": styles.value\n      }, [list.value.map(function (item, index) {\n        return createVNode(_Notification, mergeProps({\n          \"ref\": addChild,\n          \"key\": item.id,\n          \"style\": notificationStyles(item)\n        }, getProps(index, item)), null);\n      })]);\n    };\n  }\n});\nexport { NotificationList as default };","map":{"version":3,"names":["NotificationList","defineComponent","props","placement","type","String","validator","v","indexOf","setup","_ref","expose","COMPONENT_NAME","usePrefixClass","list","ref","notificationList","styles","computed","_objectSpread","zIndex","DEFAULT_Z_INDEX","PLACEMENT_OFFSET","add","options","value","push","length","remove","index","splice","removeAll","getOffset","val","isNaN","Number","concat","notificationStyles","item","styles2","marginBottom","DISTANCE","offset","position","left","top","getProps","onCloseBtnClick","e","onDurationEnd","addChild","el","createVNode","map","_Notification","mergeProps","id"],"sources":["../../src/notification/notificationList.tsx"],"sourcesContent":["import { defineComponent, ref, computed, Ref, CSSProperties } from 'vue';\nimport Notification from './notification';\nimport { TdNotificationProps, NotificationOptions } from './type';\nimport { DEFAULT_Z_INDEX, PLACEMENT_OFFSET, DISTANCE } from './const';\nimport { usePrefixClass } from '../hooks/useConfig';\n\nexport default defineComponent({\n  props: {\n    placement: {\n      type: String,\n      default: 'top-right',\n      validator(v: string): boolean {\n        return ['top-left', 'top-right', 'bottom-left', 'bottom-right'].indexOf(v) > -1;\n      },\n    },\n  },\n  setup(props, { expose }) {\n    const COMPONENT_NAME = usePrefixClass('notification-list');\n\n    const { placement } = props as NotificationOptions;\n\n    const list: Ref<NotificationOptions[]> = ref([]);\n    const notificationList = ref([]);\n\n    const styles = computed(() => ({\n      zIndex: DEFAULT_Z_INDEX,\n      ...PLACEMENT_OFFSET[placement],\n    }));\n\n    const add = (options: TdNotificationProps): number => {\n      list.value.push(options);\n      return list.value.length - 1;\n    };\n\n    const remove = (index: number) => {\n      list.value.splice(index, 1);\n    };\n\n    const removeAll = () => {\n      list.value = [];\n    };\n\n    const getOffset = (val: string | number) => {\n      if (!val) return;\n      return isNaN(Number(val)) ? val : `${val}px`;\n    };\n\n    const notificationStyles = (item: { offset: NotificationOptions['offset']; zIndex: number }) => {\n      const styles: CSSProperties = {\n        marginBottom: DISTANCE,\n      };\n      if (item.offset) {\n        styles.position = 'relative';\n        styles.left = getOffset(item.offset[0]);\n        styles.top = getOffset(item.offset[1]);\n      }\n      if (item.zIndex) styles['z-index'] = item.zIndex;\n      return styles;\n    };\n\n    const getProps = (index: number, item: NotificationOptions) => {\n      return {\n        ...item,\n        onCloseBtnClick: (e: any) => {\n          if (item.onCloseBtnClick) {\n            item.onCloseBtnClick(e);\n          }\n          return remove(index);\n        },\n        onDurationEnd: () => {\n          if (item.onDurationEnd) {\n            item.onDurationEnd();\n          }\n          return remove(index);\n        },\n      };\n    };\n\n    const addChild = (el: Element) => {\n      if (el) {\n        notificationList.value.push(el);\n      }\n    };\n    expose({ add, remove, removeAll, list, notificationList });\n\n    return () => {\n      if (!list.value.length) return;\n\n      return (\n        <div class={`${COMPONENT_NAME.value}__show`} style={styles.value}>\n          {list.value.map((item: { offset: NotificationOptions['offset']; zIndex: number; id: number }, index) => (\n            <Notification ref={addChild} key={item.id} style={notificationStyles(item)} {...getProps(index, item)} />\n          ))}\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAAA,gBAAA,GAAeC,eAAgB;EAC7BC,KAAO;IACLC,SAAW;MACTC,IAAM,EAAAC,MAAA;MACN,WAAS;MACTC,SAAA,WAAAA,UAAUC,CAAoB;QACrB,QAAC,YAAY,WAAa,iBAAe,cAAc,CAAE,CAAAC,OAAA,CAAQD,CAAC,CAAI;MAC/E;IACF;GACF;EACAE,KAAM,WAANA,KAAMA,CAAAP,KAAA,EAAAQ,IAAA,EAAmB;IAAA,IAAVC,MAAA,GAAAD,IAAA,CAAAC,MAAA;IACP,IAAAC,cAAA,GAAiBC,cAAA,CAAe,mBAAmB;IAEnD,IAAEV,SAAA,GAAcD,KAAA,CAAdC,SAAA;IAEF,IAAAW,IAAA,GAAmCC,GAAI,GAAE;IACzC,IAAAC,gBAAA,GAAmBD,GAAI,GAAE;IAEzB,IAAAE,MAAA,GAASC,QAAA,CAAS;MAAA,OAAAC,aAAA;QACtBC,MAAQ,EAAAC;OACL,EAAAC,gBAAiB,CAAAnB,SAAA;IAAA,CACpB;IAEI,IAAAoB,GAAA,GAAM,SAANA,IAAOC,OAAyC;MAC/CV,IAAA,CAAAW,KAAA,CAAMC,IAAA,CAAKF,OAAO;MAChB,OAAAV,IAAA,CAAKW,KAAA,CAAME,MAAS;KAC7B;IAEM,IAAAC,MAAA,GAAS,SAATA,OAAUC,KAAkB;MAC3Bf,IAAA,CAAAW,KAAA,CAAMK,MAAO,CAAAD,KAAA,EAAO,CAAC;KAC5B;IAEA,IAAME,SAAA,GAAY,SAAZA,UAAA,EAAkB;MACtBjB,IAAA,CAAKW,KAAA,GAAQ,EAAC;KAChB;IAEM,IAAAO,SAAA,GAAY,SAAZA,UAAaC,GAAyB;MAC1C,IAAI,CAACA,GAAA,EAAK;MACV,OAAOC,KAAA,CAAMC,MAAO,CAAAF,GAAG,CAAC,IAAIA,GAAA,MAAAG,MAAA,CAASH,GAAA;KACvC;IAEM,IAAAI,kBAAA,GAAqB,SAArBA,mBAAsBC,IAAoE;MAC9F,IAAMC,OAAwB;QAC5BC,YAAc,EAAAC;OAChB;MACA,IAAIH,IAAA,CAAKI,MAAQ;QACfH,OAAA,CAAOI,QAAW;QAClBJ,OAAO,CAAAK,IAAA,GAAOZ,SAAU,CAAAM,IAAA,CAAKI,MAAA,CAAO,CAAE;QACtCH,OAAO,CAAAM,GAAA,GAAMb,SAAU,CAAAM,IAAA,CAAKI,MAAA,CAAO,CAAE;MACvC;MACA,IAAIJ,IAAK,CAAAlB,MAAA,EAAQmB,OAAA,CAAO,aAAaD,IAAK,CAAAlB,MAAA;MACnC,OAAAmB,OAAA;KACT;IAEM,IAAAO,QAAA,GAAW,SAAXA,SAAYjB,KAAA,EAAeS,IAA8B;MACtD,OAAAnB,aAAA,CAAAA,aAAA,KACFmB,IAAA;QACHS,eAAA,EAAiB,SAAjBA,gBAAkBC,CAAW;UAC3B,IAAIV,IAAA,CAAKS,eAAiB;YACxBT,IAAA,CAAKS,eAAA,CAAgBC,CAAC;UACxB;UACA,OAAOpB,MAAA,CAAOC,KAAK;SACrB;QACAoB,aAAA,EAAe,SAAfA,cAAA,EAAqB;UACnB,IAAIX,IAAA,CAAKW,aAAe;YACtBX,IAAA,CAAKW,aAAc;UACrB;UACA,OAAOrB,MAAA,CAAOC,KAAK;QACrB;MAAA;KAEJ;IAEM,IAAAqB,QAAA,GAAW,SAAXA,SAAYC,EAAgB;MAChC,IAAIA,EAAI;QACWnC,gBAAA,CAAAS,KAAA,CAAMC,IAAA,CAAKyB,EAAE;MAChC;KACF;IACAxC,MAAA,CAAO;MAAEY,GAAK,EAALA,GAAK;MAAAK,MAAA,EAAAA,MAAA;MAAQG,SAAW,EAAXA,SAAW;MAAAjB,IAAA,EAAAA,IAAA;MAAME,gBAAA,EAAAA;IAAiB,CAAC;IAEzD,OAAO,YAAM;MACP,KAACF,IAAA,CAAKW,KAAM,CAAAE,MAAA,EAAQ;MAExB,OAAAyB,WAAA;QAAA,YAAAhB,MAAA,CACiBxB,cAAA,CAAea,KAAe;QAAA,SAAOR,MAAO,CAAAQ;OACxD,GAAAX,IAAK,CAAAW,KAAA,CAAM4B,GAAI,WAACf,IAAA,EAA6ET,KAC5F;QAAA,OAAAuB,WAAA,CAAAE,aAAA,EAAAC,UAAA;UAAA,OAAmBL,QAAU;UAAA,KAAK,EAAAZ,IAAK,CAAAkB,EAAA;UAAA,OAAW,EAAAnB,kBAAmB,CAAAC,IAAI;QAAO,GAAAQ,QAAA,CAASjB,KAAO,EAAAS,IAAI,CAAG;MAAA,CACxG;KAGP;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}