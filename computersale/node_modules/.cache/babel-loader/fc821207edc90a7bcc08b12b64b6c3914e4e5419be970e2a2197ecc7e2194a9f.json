{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { _ as _slicedToArray } from '../_chunks/dep-5efe53d1.mjs';\nimport { defineComponent, toRefs, provide, createVNode, mergeProps } from 'vue';\nimport _TabPanel from './tab-panel.mjs';\nimport TTabNav from './tab-nav.mjs';\nimport props from './props.mjs';\nimport { useTNodeJSX } from '../hooks/tnode.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport useVModel from '../hooks/useVModel.mjs';\nimport { i as isArray_1 } from '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport './tab-panel-props.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../_chunks/dep-5993931e.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-8dfc9324.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../_common/js/tabs/base.mjs';\nimport './tab-nav-item.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../config-provider/type.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nimport './tab-nav-bar.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../hooks/useListener.mjs';\nimport '../hooks/useDragSort.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nvar _Tabs = defineComponent({\n  name: \"TTabs\",\n  props: props,\n  setup: function setup(props2) {\n    var COMPONENT_NAME = usePrefixClass(\"tabs\");\n    var classPrefix = usePrefixClass();\n    var renderTNodeJSX = useTNodeJSX();\n    var _toRefs = toRefs(props2),\n      value = _toRefs.value,\n      modelValue = _toRefs.modelValue;\n    var _useVModel = useVModel(value, modelValue, props2.defaultValue || \"\", props2.onChange),\n      _useVModel2 = _slicedToArray(_useVModel, 2),\n      tabValue = _useVModel2[0],\n      setTabValue = _useVModel2[1];\n    provide(\"tabs\", {\n      value: tabValue\n    });\n    var onTabAdd = function onTabAdd(context) {\n      var _props2$onAdd;\n      (_props2$onAdd = props2.onAdd) === null || _props2$onAdd === void 0 || _props2$onAdd.call(props2, {\n        e: context.e\n      });\n    };\n    var onTabChange = function onTabChange(value2) {\n      setTabValue(value2);\n    };\n    var onTabRemove = function onTabRemove(_ref) {\n      var _props2$onRemove;\n      var e = _ref.e,\n        value2 = _ref.value,\n        index = _ref.index;\n      (_props2$onRemove = props2.onRemove) === null || _props2$onRemove === void 0 || _props2$onRemove.call(props2, {\n        value: value2,\n        index: index,\n        e: e\n      });\n    };\n    var getSlotPanels = function getSlotPanels() {\n      var content = renderTNodeJSX(\"default\");\n      if (!content) return [];\n      var _flatContent = function flatContent(ct) {\n        return ct.map(function (item) {\n          if (item.children && isArray_1(item.children)) return _flatContent(item.children);\n          return item;\n        }).flat().filter(function (item) {\n          return item.type.name === \"TTabPanel\";\n        });\n      };\n      return _flatContent(content);\n    };\n    var renderHeader = function renderHeader() {\n      var _props2$list;\n      var panels = ((_props2$list = props2.list) !== null && _props2$list !== void 0 && _props2$list.length ? props2.list : getSlotPanels()) || [];\n      var actionContent = renderTNodeJSX(\"action\");\n      var panelsData = panels.map(function (item) {\n        var selfItem = item;\n        if (item.props) {\n          Object.keys(item.props).forEach(function (key) {\n            selfItem[key] = item.props[key];\n          });\n        }\n        return selfItem;\n      });\n      var tabNavProps = {\n        theme: props2.theme,\n        value: tabValue.value,\n        size: props2.size,\n        disabled: props2.disabled,\n        placement: props2.placement,\n        scrollPosition: props2.scrollPosition,\n        addable: props2.addable,\n        panels: panelsData,\n        dragSort: props2.dragSort,\n        action: actionContent\n      };\n      return createVNode(\"div\", {\n        \"class\": _defineProperty(_defineProperty({}, \"\".concat(classPrefix.value, \"-tabs__header\"), true), \"\".concat(classPrefix.value, \"-is-\").concat(props2.placement), true)\n      }, [createVNode(TTabNav, mergeProps(tabNavProps, {\n        \"onDragSort\": props2.onDragSort,\n        \"onChange\": onTabChange,\n        \"onAdd\": onTabAdd,\n        \"onRemove\": onTabRemove\n      }), null)]);\n    };\n    var renderContent = function renderContent() {\n      var _props2$list2;\n      var panels = getSlotPanels();\n      if ((_props2$list2 = props2.list) !== null && _props2$list2 !== void 0 && _props2$list2.length) {\n        return props2.list.map(function (item) {\n          return createVNode(_TabPanel, mergeProps(item, {\n            \"onRemove\": onTabRemove\n          }), null);\n        });\n      }\n      if (panels && panels.length) {\n        return createVNode(\"div\", {\n          \"class\": [\"\".concat(classPrefix.value, \"-tabs__content\")]\n        }, [panels]);\n      }\n    };\n    return function () {\n      return createVNode(\"div\", {\n        \"class\": [COMPONENT_NAME.value]\n      }, [props2.placement !== \"bottom\" ? [renderHeader(), renderContent()] : [renderContent(), renderHeader()]]);\n    };\n  }\n});\nexport { _Tabs as default };","map":{"version":3,"names":["_Tabs","defineComponent","name","props","setup","props2","COMPONENT_NAME","usePrefixClass","classPrefix","renderTNodeJSX","useTNodeJSX","_toRefs","toRefs","value","modelValue","_useVModel","useVModel","defaultValue","onChange","_useVModel2","_slicedToArray","tabValue","setTabValue","provide","onTabAdd","context","_props2$onAdd","onAdd","call","e","onTabChange","value2","onTabRemove","_ref","_props2$onRemove","index","onRemove","getSlotPanels","content","_flatContent","flatContent","ct","map","item","children","isArray_1","flat","filter","type","renderHeader","_props2$list","panels","list","length","actionContent","panelsData","selfItem","Object","keys","forEach","key","tabNavProps","theme","size","disabled","placement","scrollPosition","addable","dragSort","action","createVNode","_defineProperty","concat","TTabNav","mergeProps","onDragSort","renderContent","_props2$list2","_TabPanel"],"sources":["../../src/tabs/tabs.tsx"],"sourcesContent":["import { ComponentPublicInstance, defineComponent, provide, Ref, toRefs } from 'vue';\nimport TTabPanel from './tab-panel';\nimport TTabNav from './tab-nav';\nimport { TabValue, TdTabsProps } from './type';\nimport props from './props';\n\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { usePrefixClass } from '../hooks/useConfig';\nimport useVModel from '../hooks/useVModel';\nimport isArray from 'lodash/isArray';\n\nexport interface InjectTabs {\n  value: Ref<TabValue>;\n}\n\nexport default defineComponent({\n  name: 'TTabs',\n\n  props,\n\n  setup(props) {\n    const COMPONENT_NAME = usePrefixClass('tabs');\n    const classPrefix = usePrefixClass();\n    const renderTNodeJSX = useTNodeJSX();\n\n    const { value, modelValue } = toRefs(props);\n    const [tabValue, setTabValue] = useVModel(value, modelValue, props.defaultValue || '', props.onChange);\n\n    provide<InjectTabs>('tabs', { value: tabValue });\n\n    // methods\n    const onTabAdd = (context: { e: MouseEvent }) => {\n      props.onAdd?.({ e: context.e });\n    };\n    const onTabChange = (value: TabValue) => {\n      setTabValue(value);\n    };\n    const onTabRemove = ({ e, value, index }: Parameters<TdTabsProps['onRemove']>[0]) => {\n      props.onRemove?.({ value, index, e });\n    };\n\n    // render\n    const getSlotPanels = () => {\n      const content = renderTNodeJSX('default');\n      if (!content) return [];\n\n      const flatContent = (ct: any) => {\n        return ct\n          .map((item: ComponentPublicInstance) => {\n            if (item.children && isArray(item.children)) return flatContent(item.children);\n            return item;\n          })\n          .flat()\n          .filter((item: ComponentPublicInstance) => {\n            return item.type.name === 'TTabPanel';\n          });\n      };\n\n      return flatContent(content);\n    };\n    const renderHeader = () => {\n      const panels = (props.list?.length ? props.list : getSlotPanels()) || [];\n      const actionContent = renderTNodeJSX('action');\n      const panelsData = panels.map((item: ComponentPublicInstance) => {\n        const selfItem = item;\n\n        if (item.props) {\n          Object.keys(item.props).forEach((key) => {\n            selfItem[key] = item.props[key];\n          });\n        }\n\n        return selfItem;\n      });\n      const tabNavProps = {\n        theme: props.theme,\n        value: tabValue.value,\n        size: props.size,\n        disabled: props.disabled,\n        placement: props.placement,\n        scrollPosition: props.scrollPosition,\n        addable: props.addable,\n        panels: panelsData,\n        dragSort: props.dragSort,\n        action: actionContent,\n      };\n      return (\n        <div\n          class={{\n            [`${classPrefix.value}-tabs__header`]: true,\n            [`${classPrefix.value}-is-${props.placement}`]: true,\n          }}\n        >\n          <TTabNav\n            {...tabNavProps}\n            onDragSort={props.onDragSort}\n            onChange={onTabChange}\n            onAdd={onTabAdd}\n            onRemove={onTabRemove}\n          />\n        </div>\n      );\n    };\n    const renderContent = () => {\n      const panels = getSlotPanels();\n      if (props.list?.length) {\n        return props.list.map((item) => <TTabPanel {...item} onRemove={onTabRemove} />);\n      }\n      if (panels && panels.length) {\n        return <div class={[`${classPrefix.value}-tabs__content`]}>{panels}</div>;\n      }\n    };\n\n    return () => {\n      return (\n        <div class={[COMPONENT_NAME.value]}>\n          {props.placement !== 'bottom' ? [renderHeader(), renderContent()] : [renderContent(), renderHeader()]}\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}