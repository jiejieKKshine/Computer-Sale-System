{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../../../_chunks/dep-fa52aa21.mjs';\nimport setStyle from '../utils/set-style.mjs';\nimport { getIEVersion } from '../utils/helper.mjs';\nimport '../../../_chunks/dep-4659d73b.mjs';\nimport '../../../_chunks/dep-4a990ea3.mjs';\nimport '../../../_chunks/dep-593f2b67.mjs';\nimport '../../../_chunks/dep-5d3f7c0e.mjs';\nimport '../../../_chunks/dep-5efe53d1.mjs';\nimport '../../../_chunks/dep-03a7fb6c.mjs';\nimport '../../../_chunks/dep-eca422c3.mjs';\nimport '../../../_chunks/dep-bf7257e7.mjs';\nimport '../../../_chunks/dep-eae2a67e.mjs';\nimport '../../../_chunks/dep-626c497d.mjs';\nimport '../../../_chunks/dep-29ef8419.mjs';\nimport '../../../_chunks/dep-73384992.mjs';\nimport '../../../_chunks/dep-58a62202.mjs';\nimport '../../../_chunks/dep-889e457b.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction circleAdapter(circleElem) {\n  var _window, _window$getComputedSt2, _window2;\n  var basicStyle = {};\n  if (!circleElem || typeof window === \"undefined\") {\n    return;\n  }\n  var _window$getComputedSt = (_window = window) === null || _window === void 0 || (_window$getComputedSt2 = _window.getComputedStyle) === null || _window$getComputedSt2 === void 0 ? void 0 : _window$getComputedSt2.call(_window, circleElem),\n    color = _window$getComputedSt.color,\n    fontSize = _window$getComputedSt.fontSize;\n  var ua = (_window2 = window) === null || _window2 === void 0 || (_window2 = _window2.navigator) === null || _window2 === void 0 ? void 0 : _window2.userAgent;\n  var isSafari = /Safari/.test(ua) && !/Chrome/.test(ua);\n  var isIosWechat = /(?=.*iPhone)[?=.*MicroMessenger]/.test(ua) && !/Chrome/.test(ua);\n  if (isSafari || isIosWechat) {\n    basicStyle = {\n      transformOrigin: \"0px 0px\",\n      transform: \"scale(\".concat(parseInt(fontSize, 10) / 12, \")\")\n    };\n  }\n  if (color && getIEVersion() > 11) {\n    var matched = color.match(/[\\d.]+/g);\n    var endColor = matched ? \"rgba(\".concat(matched[0], \", \").concat(matched[1], \", \").concat(matched[2], \", 0)\") : \"\";\n    setStyle(circleElem, _objectSpread(_objectSpread({}, basicStyle), {}, {\n      background: \"conic-gradient(from 90deg at 50% 50%,\".concat(endColor, \" 0deg, \").concat(color, \" 360deg)\")\n    }));\n  } else {\n    setStyle(circleElem, _objectSpread(_objectSpread({}, basicStyle), {}, {\n      background: \"\"\n    }));\n  }\n}\nexport { circleAdapter as default };","map":{"version":3,"names":["circleAdapter","circleElem","_window","_window$getComputedSt2","_window2","basicStyle","window","_window$getComputedSt","getComputedStyle","call","color","fontSize","ua","navigator","userAgent","isSafari","test","isIosWechat","transformOrigin","transform","concat","parseInt","getIEVersion","matched","match","endColor","setStyle","_objectSpread","background"],"sources":["../../../../src/_common/js/loading/circle-adapter.ts"],"sourcesContent":["import setStyle from '../utils/set-style';\nimport { getIEVersion } from '../utils/helper';\n\nexport default function circleAdapter(circleElem: HTMLElement) {\n  let basicStyle = {};\n\n  if (!circleElem || typeof window === 'undefined') {\n    return;\n  }\n\n  const { color, fontSize } = window?.getComputedStyle?.(circleElem);\n\n  // to fix the browser compat of foreignObject in Safari,\n  // https://bugs.webkit.org/show_bug.cgi?id=23113\n  const ua = window?.navigator?.userAgent;\n  const isSafari = /Safari/.test(ua) && !/Chrome/.test(ua);\n  // 判断是否为 iOS 下的微信和企业微信\n  const isIosWechat = /(?=.*iPhone)[?=.*MicroMessenger]/.test(ua) && !/Chrome/.test(ua);\n\n  // 注意：chrome上调试mobile/ipad端时，loading出现异常，属于正常现象，不需要修改。\n  if (isSafari || isIosWechat) {\n    basicStyle = {\n      transformOrigin: '0px 0px',\n      transform: `scale(${parseInt(fontSize, 10) / 12})`,\n    };\n  }\n  // 添加：判断是否为IE浏览器\n  if (color && getIEVersion() > 11) {\n    const matched = color.match(/[\\d.]+/g);\n    const endColor = matched ? `rgba(${matched[0]}, ${matched[1]}, ${matched[2]}, 0)` : '';\n    setStyle(circleElem, {\n      ...basicStyle,\n      background: `conic-gradient(from 90deg at 50% 50%,${endColor} 0deg, ${color} 360deg)`,\n    });\n  } else {\n    setStyle(circleElem, {\n      ...basicStyle,\n      background: '',\n    });\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,SAAwBA,cAAcC,UAAyB;EAAA,IAAAC,OAAA,EAAAC,sBAAA,EAAAC,QAAA;EAC7D,IAAIC,UAAA,GAAa,EAAC;EAElB,IAAI,CAACJ,UAAA,IAAc,OAAOK,MAAA,KAAW,WAAa;IAChD;EACF;EAEA,IAAAC,qBAAA,IAAAL,OAAA,GAA4BI,MAAA,cAAAJ,OAAA,gBAAAC,sBAAA,GAAAD,OAAA,CAAQM,gBAAA,cAAAL,sBAAA,uBAARA,sBAAA,CAAAM,IAAA,CAAAP,OAAA,EAA2BD,UAAU;IAAzDS,KAAO,GAAAH,qBAAA,CAAPG,KAAO;IAAAC,QAAA,GAAAJ,qBAAA,CAAAI,QAAA;EAIT,IAAAC,EAAA,IAAAR,QAAA,GAAKE,MAAA,cAAAF,QAAA,gBAAAA,QAAA,GAAAA,QAAA,CAAQS,SAAW,cAAAT,QAAA,KAAnB,kBAAAA,QAAA,CAAmBU,SAAA;EACxB,IAAAC,QAAA,GAAW,SAASC,IAAK,CAAAJ,EAAE,KAAK,CAAC,SAASI,IAAA,CAAKJ,EAAE;EAEjD,IAAAK,WAAA,GAAc,mCAAmCD,IAAK,CAAAJ,EAAE,KAAK,CAAC,SAASI,IAAA,CAAKJ,EAAE;EAGpF,IAAIG,QAAA,IAAYE,WAAa;IACdZ,UAAA;MACXa,eAAiB;MACjBC,SAAW,WAAAC,MAAA,CAASC,QAAS,CAAAV,QAAA,EAAU,EAAE,CAAI;KAC/C;EACF;EAEI,IAAAD,KAAA,IAASY,YAAa,KAAI,EAAI;IAC1B,IAAAC,OAAA,GAAUb,KAAM,CAAAc,KAAA,CAAM,SAAS;IAC/B,IAAAC,QAAA,GAAWF,OAAA,WAAAH,MAAA,CAAkBG,OAAA,CAAQ,UAAAH,MAAA,CAAOG,OAAQ,WAAAH,MAAA,CAAOG,OAAA,CAAQ,CAAW;IACpFG,QAAA,CAASzB,UAAY,EAAA0B,aAAA,CAAAA,aAAA,KAChBtB,UAAA;MACHuB,UAAA,0CAAAR,MAAA,CAAoDK,QAAkB,aAAAL,MAAA,CAAAV,KAAA;IAAA,EACvE;EACH,CAAO;IACLgB,QAAA,CAASzB,UAAY,EAAA0B,aAAA,CAAAA,aAAA,KAChBtB,UAAA;MACHuB,UAAY;IAAA,EACb;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}