{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport { _ as _defineProperty } from '../_chunks/dep-931ef437.js';\nimport { defineComponent, computed, onMounted, h } from 'vue';\nimport props from './props/props.js';\nimport useSizeProps from '../utils/use-size-props.js';\nimport ConfigContext from '../utils/config-context.js';\nimport { checkLinkAndLoad } from '../utils/check-url-and-load.js';\nimport '../style/css.js';\nimport '../utils/use-common-classname.js';\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar {\n  classPrefix\n} = ConfigContext;\nvar CDN_ICONFONT_URL = \"https://tdesign.gtimg.com/icon/0.2.1/fonts/index.css\";\nvar IconFont = defineComponent({\n  name: \"IconFont\",\n  props,\n  setup(props2, _ref) {\n    var {\n      attrs\n    } = _ref;\n    var propsSize = computed(() => props2.size);\n    var {\n      className: sizeClassName,\n      style: sizeStyle\n    } = useSizeProps(propsSize);\n    var name = computed(() => props2.name || \"\");\n    var isBuiltinIcon = computed(() => props2.url && /^t-icon-(\\w|-)+$/.test(props2.name));\n    var finalUrl = computed(() => {\n      var url = [];\n      url = props2.url instanceof Array ? props2.url.concat() : [props2.url];\n      if (props2.loadDefaultIcons) url.push(CDN_ICONFONT_URL);\n      return url;\n    });\n    var classNames = computed(() => [{\n      [name.value]: props2.url,\n      [\"\".concat(classPrefix, \"-icon\")]: !props2.url || isBuiltinIcon.value,\n      [\"\".concat(classPrefix, \"-icon-\").concat(name.value)]: !props2.url\n    }, sizeClassName.value]);\n    var finalStyle = computed(() => _objectSpread(_objectSpread({}, sizeStyle.value), attrs.style));\n    onMounted(() => {\n      Array.from(new Set(finalUrl.value)).forEach(url => {\n        checkLinkAndLoad(url, \"\".concat(classPrefix, \"-iconfont-stylesheet--unique-class\"));\n      });\n    });\n    var finalProps = computed(() => ({\n      class: classNames.value,\n      style: finalStyle.value,\n      onClick: e => {\n        var _props2$onClick;\n        return (_props2$onClick = props2.onClick) === null || _props2$onClick === void 0 ? void 0 : _props2$onClick.call(props2, {\n          e\n        });\n      }\n    }));\n    return () => h(props2.tag || \"i\", finalProps.value);\n  }\n});\nexport default IconFont;\nexport { IconFont };","map":{"version":3,"names":["classPrefix","ConfigContext","CDN_ICONFONT_URL","IconFont","defineComponent","name","props","setup","props2","_ref","attrs","propsSize","computed","size","className","sizeClassName","style","sizeStyle","useSizeProps","isBuiltinIcon","url","test","finalUrl","Array","concat","loadDefaultIcons","push","classNames","value","finalStyle","_objectSpread","from","Set","forEach","finalProps","class","onClick","e","_props2$onClick","call","h","tag"],"sources":["../../src/iconfont/icon.tsx"],"sourcesContent":["import {\n  computed, defineComponent, h, onMounted,\n} from 'vue';\n\nimport props from './props/props';\nimport useSizeProps from '../utils/use-size-props';\nimport ConfigContext from '../utils/config-context';\nimport { checkLinkAndLoad } from '../utils/check-url-and-load';\n\nimport '../style/css';\n\nconst { classPrefix } = ConfigContext;\n\nconst CDN_ICONFONT_URL = 'https://tdesign.gtimg.com/icon/0.2.1/fonts/index.css';\n\nexport const IconFont = defineComponent({\n  name: 'IconFont',\n  props,\n  setup(props, { attrs }) {\n    const propsSize = computed(() => props.size);\n\n    const { className: sizeClassName, style: sizeStyle } = useSizeProps(propsSize);\n\n    const name = computed(() => props.name || '');\n\n    const isBuiltinIcon = computed(() => props.url && /^t-icon-(\\w|-)+$/.test(props.name)); // 判断是否是渲染内置图标\n\n    const finalUrl = computed(() => {\n      let url = [];\n      url = props.url instanceof Array ? props.url.concat() : [props.url];\n      if (props.loadDefaultIcons) url.push(CDN_ICONFONT_URL);\n      return url;\n    });\n\n    const classNames = computed(() => [\n      {\n        [name.value]: props.url,\n        [`${classPrefix}-icon`]: !props.url || isBuiltinIcon.value,\n        [`${classPrefix}-icon-${name.value}`]: !props.url,\n      },\n      sizeClassName.value,\n    ]);\n\n    const finalStyle = computed(() => ({ ...sizeStyle.value, ...(attrs.style as Styles) }));\n\n    onMounted(() => {\n      Array.from(new Set(finalUrl.value as string[])).forEach((url: string) => {\n        checkLinkAndLoad(url, `${classPrefix}-iconfont-stylesheet--unique-class`);\n      });\n    });\n\n    const finalProps = computed(() => ({\n      class: classNames.value,\n      style: finalStyle.value,\n      onClick: (e:MouseEvent) => props.onClick?.({ e }),\n    }));\n\n    return () => h(props.tag || 'i', finalProps.value);\n  },\n});\n\nexport default IconFont;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWA,IAAM;EAAEA;IAAgBC,aAAA;AAExB,IAAMC,gBAAA,GAAmB;IAEZC,QAAA,GAAWC,eAAA,CAAgB;EACtCC,IAAA,EAAM;EACNC,KAAA;EACAC,MAAMC,MAAA,EAAAC,IAAA,EAAkB;IAAA,IAAX;MAAEC;;QACPC,SAAA,GAAYC,QAAA,CAAS,MAAMJ,MAAA,CAAMK,IAAA;QAEjC;MAAEC,SAAA,EAAWC,aAAA;MAAeC,KAAA,EAAOC;QAAcC,YAAA,CAAaP,SAAA;QAE9DN,IAAA,GAAOO,QAAA,CAAS,MAAMJ,MAAA,CAAMH,IAAA,IAAQ;QAEpCc,aAAA,GAAgBP,QAAA,CAAS,MAAMJ,MAAA,CAAMY,GAAA,IAAO,mBAAmBC,IAAA,CAAKb,MAAA,CAAMH,IAAA;QAE1EiB,QAAA,GAAWV,QAAA,CAAS,MAAM;UAC1BQ,GAAA,GAAM;YACJZ,MAAA,CAAMY,GAAA,YAAeG,KAAA,GAAQf,MAAA,CAAMY,GAAA,CAAII,MAAA,KAAW,CAAChB,MAAA,CAAMY,GAAA;UAC3DZ,MAAA,CAAMiB,gBAAA,EAAAL,GAAA,CAAsBM,IAAA,CAAKxB,gBAAA;aAC9BkB,GAAA;;QAGHO,UAAA,GAAaf,QAAA,CAAS,MAAM,CAChC;OACGP,IAAA,CAAKuB,KAAA,GAAQpB,MAAA,CAAMY,GAAA;iBAChBpB,WAAA,aAAqB,CAACQ,MAAA,CAAMY,GAAA,IAAOD,aAAA,CAAcS,KAAA;iBACjD5B,WAAA,YAAAwB,MAAA,CAAoBnB,IAAA,CAAKuB,KAAA,IAAU,CAACpB,MAAA,CAAMY;OAEhDL,aAAA,CAAca,KAAA;QAGVC,UAAA,GAAajB,QAAA,CAAS,MAAAkB,aAAA,CAAAA,aAAA,KAAYb,SAAA,CAAUW,KAAA,GAAWlB,KAAA,CAAMM,KAAA;cAEzD,MAAM;YACRe,IAAA,CAAK,IAAIC,GAAA,CAAIV,QAAA,CAASM,KAAA,GAAoBK,OAAA,CAASb,GAAA,IAAgB;yBACtDA,GAAA,KAAAI,MAAA,CAAQxB,WAAA;;;QAIvBkC,UAAA,GAAatB,QAAA,CAAS;MAC1BuB,KAAA,EAAOR,UAAA,CAAWC,KAAA;MAClBZ,KAAA,EAAOa,UAAA,CAAWD,KAAA;MAClBQ,OAAA,EAAUC,CAAA;;kCAAiB7B,MAAA,CAAM4B,OAAA,cAAAE,eAAA,uBAANA,eAAA,CAAAC,IAAA,CAAA/B,MAAA,EAAgB;UAAE6B;;;;WAGxC,MAAMG,CAAA,CAAEhC,MAAA,CAAMiC,GAAA,IAAO,KAAKP,UAAA,CAAWN,KAAA;;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}