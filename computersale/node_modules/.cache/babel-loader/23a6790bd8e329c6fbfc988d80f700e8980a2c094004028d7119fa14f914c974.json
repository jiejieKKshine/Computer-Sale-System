{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, inject, computed, h, createVNode } from 'vue';\nimport { i as isFunction_1 } from '../_chunks/dep-06dcbf4c.mjs';\nimport { CheckIcon, CloseIcon } from 'tdesign-icons-vue-next';\nimport stepItemProps from './step-item-props.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon.mjs';\nimport '../hooks/index.mjs';\nimport { useConfig } from '../config-provider/useConfig.mjs';\nimport { useTNodeJSX, useContent } from '../hooks/tnode.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_chunks/dep-5efe53d1.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../config-provider/type.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar _StepItem = defineComponent({\n  name: \"TStepItem\",\n  props: _objectSpread(_objectSpread({}, stepItemProps), {}, {\n    index: Number\n  }),\n  setup: function setup(props2) {\n    var stepsState = inject(\"StepsState\", void 0);\n    var stepsProps = inject(\"StepsProps\", void 0);\n    var _useConfig = useConfig(\"steps\"),\n      globalConfig = _useConfig.globalConfig;\n    var _useGlobalIcon = useGlobalIcon({\n        CheckIcon: CheckIcon,\n        CloseIcon: CloseIcon\n      }),\n      CheckIcon$1 = _useGlobalIcon.CheckIcon,\n      CloseIcon$1 = _useGlobalIcon.CloseIcon;\n    var canClick = computed(function () {\n      return props2.status !== \"process\" && !(stepsProps !== null && stepsProps !== void 0 && stepsProps.readonly);\n    });\n    var onStepClick = function onStepClick(e) {\n      if (!canClick.value) return;\n      var val = props2.value === void 0 ? props2.index : props2.value;\n      stepsState.setCurrent(val, stepsState.current, {\n        e: e\n      });\n    };\n    var COMPONENT_NAME = usePrefixClass(\"steps-item\");\n    var statusClass = computed(function () {\n      return _defineProperty({}, \"\".concat(COMPONENT_NAME.value, \"--\").concat(props2.status), props2.status);\n    });\n    var baseClass = computed(function () {\n      return [COMPONENT_NAME.value, statusClass.value];\n    });\n    var iconClass = computed(function () {\n      return [\"\".concat(COMPONENT_NAME.value, \"__icon\"), statusClass.value];\n    });\n    var renderTNodeJSX = useTNodeJSX();\n    var renderContent = useContent();\n    var renderIcon = function renderIcon() {\n      var defaultIcon;\n      if (stepsProps.theme === \"default\") {\n        var icon = \"\";\n        switch (props2.status) {\n          case \"finish\":\n            if (isFunction_1(globalConfig.value.checkIcon)) {\n              icon = globalConfig.value.checkIcon(h);\n            } else {\n              icon = createVNode(CheckIcon$1, null, null);\n            }\n            break;\n          case \"error\":\n            if (isFunction_1(globalConfig.value.errorIcon)) {\n              icon = globalConfig.value.errorIcon(h);\n            } else {\n              icon = createVNode(CloseIcon$1, null, null);\n            }\n            break;\n          default:\n            icon = String(props2.index + 1);\n            break;\n        }\n        defaultIcon = createVNode(\"span\", {\n          \"class\": \"\".concat(COMPONENT_NAME.value, \"__icon--number\")\n        }, [icon]);\n      }\n      return renderTNodeJSX(\"icon\", defaultIcon);\n    };\n    return function () {\n      return createVNode(\"div\", {\n        \"class\": baseClass.value\n      }, [createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__inner \").concat(canClick.value ? \"\".concat(COMPONENT_NAME.value, \"--clickable\") : \"\"),\n        \"onClick\": onStepClick\n      }, [createVNode(\"div\", {\n        \"class\": iconClass.value\n      }, [renderIcon()]), createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__content\")\n      }, [createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__title\")\n      }, [renderTNodeJSX(\"title\")]), createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__description\")\n      }, [renderContent(\"default\", \"content\")]), createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__extra\")\n      }, [renderTNodeJSX(\"extra\")])])])]);\n    };\n  }\n});\nexport { _StepItem as default };","map":{"version":3,"names":["_StepItem","defineComponent","name","props","_objectSpread","stepItemProps","index","Number","setup","props2","stepsState","inject","stepsProps","_useConfig","useConfig","globalConfig","_useGlobalIcon","useGlobalIcon","CheckIcon","CloseIcon","CheckIcon$1","CloseIcon$1","canClick","computed","status","readonly","onStepClick","e","value","val","setCurrent","current","COMPONENT_NAME","usePrefixClass","statusClass","_defineProperty","concat","baseClass","iconClass","renderTNodeJSX","useTNodeJSX","renderContent","useContent","renderIcon","defaultIcon","theme","icon","isFunction_1","checkIcon","h","createVNode","errorIcon","String"],"sources":["../../src/steps/step-item.tsx"],"sourcesContent":["import { computed, defineComponent, h, inject } from 'vue';\nimport isFunction from 'lodash/isFunction';\nimport { CheckIcon as TdCheckIcon, CloseIcon as TdCloseIcon } from 'tdesign-icons-vue-next';\n\nimport props from './step-item-props';\nimport { SlotReturnValue } from '../common';\nimport { useConfig, usePrefixClass } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport { useTNodeJSX, useContent } from '../hooks';\n\nexport default defineComponent({\n  name: 'TStepItem',\n  props: { ...props, index: Number },\n\n  setup(props) {\n    const stepsState = inject('StepsState', undefined);\n    const stepsProps = inject('StepsProps', undefined);\n\n    const { globalConfig } = useConfig('steps');\n    const { CheckIcon, CloseIcon } = useGlobalIcon({ CheckIcon: TdCheckIcon, CloseIcon: TdCloseIcon });\n    const canClick = computed(() => {\n      return props.status !== 'process' && !stepsProps?.readonly;\n    });\n\n    // when props.value is undefined\n    const onStepClick = (e: MouseEvent) => {\n      if (!canClick.value) return;\n      const val = props.value === undefined ? props.index : props.value;\n      stepsState.setCurrent(val, stepsState.current, { e });\n    };\n\n    // class\n    const COMPONENT_NAME = usePrefixClass('steps-item');\n    const statusClass = computed(() => ({ [`${COMPONENT_NAME.value}--${props.status}`]: props.status }));\n    const baseClass = computed(() => [COMPONENT_NAME.value, statusClass.value]);\n    const iconClass = computed(() => [`${COMPONENT_NAME.value}__icon`, statusClass.value]);\n\n    // render\n    const renderTNodeJSX = useTNodeJSX();\n    const renderContent = useContent();\n    const renderIcon = () => {\n      let defaultIcon;\n      if (stepsProps.theme === 'default') {\n        let icon: SlotReturnValue = '';\n        switch (props.status) {\n          case 'finish':\n            if (isFunction(globalConfig.value.checkIcon)) {\n              icon = globalConfig.value.checkIcon(h);\n            } else {\n              icon = <CheckIcon />;\n            }\n            break;\n          case 'error':\n            if (isFunction(globalConfig.value.errorIcon)) {\n              icon = globalConfig.value.errorIcon(h);\n            } else {\n              icon = <CloseIcon />;\n            }\n            break;\n          default:\n            icon = String(props.index + 1);\n            break;\n        }\n        defaultIcon = <span class={`${COMPONENT_NAME.value}__icon--number`}>{icon}</span>;\n      }\n      return renderTNodeJSX('icon', defaultIcon);\n    };\n\n    return () => (\n      <div class={baseClass.value}>\n        <div\n          class={`${COMPONENT_NAME.value}__inner ${canClick.value ? `${COMPONENT_NAME.value}--clickable` : ''}`}\n          onClick={onStepClick}\n        >\n          <div class={iconClass.value}>{renderIcon()}</div>\n          <div class={`${COMPONENT_NAME.value}__content`}>\n            <div class={`${COMPONENT_NAME.value}__title`}>{renderTNodeJSX('title')}</div>\n            <div class={`${COMPONENT_NAME.value}__description`}>{renderContent('default', 'content')}</div>\n            <div class={`${COMPONENT_NAME.value}__extra`}>{renderTNodeJSX('extra')}</div>\n          </div>\n        </div>\n      </div>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}