{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { getCurrentInstance, computed, inject } from 'vue';\nimport { i as isBoolean_1 } from '../_chunks/dep-df472119.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nfunction useDisabled(context) {\n  var currentInstance = getCurrentInstance();\n  var componentDisabled = computed(function () {\n    return currentInstance.props.disabled;\n  });\n  var formDisabled = inject(\"formDisabled\", /* @__PURE__ */Object.create(null));\n  return computed(function () {\n    var _context$beforeDisabl, _context$afterDisable, _formDisabled$disable;\n    if (isBoolean_1(context === null || context === void 0 || (_context$beforeDisabl = context.beforeDisabled) === null || _context$beforeDisabl === void 0 ? void 0 : _context$beforeDisabl.value)) return context.beforeDisabled.value;\n    if (isBoolean_1(componentDisabled.value)) return componentDisabled.value;\n    if (isBoolean_1(context === null || context === void 0 || (_context$afterDisable = context.afterDisabled) === null || _context$afterDisable === void 0 ? void 0 : _context$afterDisable.value)) return context.afterDisabled.value;\n    if (isBoolean_1((_formDisabled$disable = formDisabled.disabled) === null || _formDisabled$disable === void 0 ? void 0 : _formDisabled$disable.value)) return formDisabled.disabled.value;\n    return false;\n  });\n}\nexport { useDisabled };","map":{"version":3,"names":["useDisabled","context","currentInstance","getCurrentInstance","componentDisabled","computed","props","disabled","formDisabled","inject","Object","create","_context$beforeDisabl","_context$afterDisable","_formDisabled$disable","isBoolean_1","beforeDisabled","value","afterDisabled"],"sources":["../../src/hooks/useDisabled.ts"],"sourcesContent":["import { Ref, inject, computed, getCurrentInstance } from 'vue';\nimport isBoolean from 'lodash/isBoolean';\nimport { TdFormProps } from '../form/type';\n\nexport interface FormDisabledProvider {\n  disabled: Ref<TdFormProps['disabled']>;\n}\n\nexport interface DisabledContext {\n  beforeDisabled?: Ref<boolean>;\n  afterDisabled?: Ref<boolean>;\n}\n\n/**\n * 用于实现组件全局禁用状态的hook\n * 优先级:(beforeDisabled) > Component.disabled > ComponentGroup.disabled(afterDisabled) > Form.disabled\n * @returns\n */\nexport function useDisabled(context?: DisabledContext) {\n  const currentInstance = getCurrentInstance();\n  const componentDisabled = computed(() => currentInstance.props.disabled as boolean);\n\n  const formDisabled = inject<FormDisabledProvider>('formDisabled', Object.create(null));\n\n  return computed(() => {\n    if (isBoolean(context?.beforeDisabled?.value)) return context.beforeDisabled.value;\n    // Component\n    if (isBoolean(componentDisabled.value)) return componentDisabled.value;\n    // ComponentGroup\n    if (isBoolean(context?.afterDisabled?.value)) return context.afterDisabled.value;\n    // Form\n    if (isBoolean(formDisabled.disabled?.value)) return formDisabled.disabled.value;\n\n    return false;\n  });\n}\n"],"mappings":";;;;;;;;;;;;AAkBO,SAASA,YAAYC,OAA2B;EACrD,IAAMC,eAAA,GAAkBC,kBAAmB;EAC3C,IAAMC,iBAAoB,GAAAC,QAAA,CAAS;IAAA,OAAMH,eAAA,CAAgBI,KAAA,CAAMC,QAAmB;GAAA;EAElF,IAAMC,YAAA,GAAeC,MAA6B,gCAAuBC,MAAA,CAAAC,MAAA,CAAO,IAAI,CAAC;EAErF,OAAON,QAAA,CAAS,YAAM;IAAA,IAAAO,qBAAA,EAAAC,qBAAA,EAAAC,qBAAA;IAChB,IAAAC,WAAA,CAAUd,OAAS,KAAT,QAAAA,OAAS,gBAAAW,qBAAA,GAATX,OAAS,CAAAe,cAAA,cAAAJ,qBAAA,KAAT,kBAAAA,qBAAA,CAAyBK,KAAK,GAAG,OAAOhB,OAAA,CAAQe,cAAe,CAAAC,KAAA;IAEzE,IAAAF,WAAA,CAAUX,iBAAA,CAAkBa,KAAK,GAAG,OAAOb,iBAAkB,CAAAa,KAAA;IAE7D,IAAAF,WAAA,CAAUd,OAAS,KAAT,QAAAA,OAAS,gBAAAY,qBAAA,GAATZ,OAAS,CAAAiB,aAAA,cAAAL,qBAAA,KAAT,kBAAAA,qBAAA,CAAwBI,KAAK,GAAG,OAAOhB,OAAA,CAAQiB,aAAc,CAAAD,KAAA;IAEvE,IAAAF,WAAA,EAAAD,qBAAA,GAAUN,YAAa,CAAAD,QAAA,cAAAO,qBAAA,uBAAbA,qBAAA,CAAuBG,KAAK,GAAG,OAAOT,YAAA,CAAaD,QAAS,CAAAU,KAAA;IAEnE;EACT,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}