{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { ref, onMounted, watch, onBeforeUnmount } from 'vue';\nimport observe from '../../_common/js/utils/observe.mjs';\nfunction useCheckboxLazyLoad(labelRef, lazyLoad) {\n  var ioObserver = ref();\n  var showCheckbox = ref(true);\n  var handleLazyLoad = function handleLazyLoad() {\n    if (!lazyLoad.value) return;\n    showCheckbox.value = false;\n    var io = observe(labelRef.value, null, function () {\n      showCheckbox.value = true;\n    }, 0);\n    ioObserver.value = io;\n  };\n  onMounted(handleLazyLoad);\n  watch([lazyLoad, labelRef], handleLazyLoad);\n  onBeforeUnmount(function () {\n    if (!lazyLoad.value) return;\n    ioObserver.value.unobserve(labelRef.value);\n  });\n  return {\n    showCheckbox: showCheckbox\n  };\n}\nexport { useCheckboxLazyLoad as default, useCheckboxLazyLoad };","map":{"version":3,"names":["useCheckboxLazyLoad","labelRef","lazyLoad","ioObserver","ref","showCheckbox","handleLazyLoad","value","io","observe","onMounted","watch","onBeforeUnmount","unobserve"],"sources":["../../../src/checkbox/hooks/useCheckboxLazyLoad.ts"],"sourcesContent":["import { onBeforeUnmount, onMounted, Ref, ref, watch } from 'vue';\nimport observe from '../../_common/js/utils/observe';\n\nexport function useCheckboxLazyLoad(labelRef: Ref<HTMLElement>, lazyLoad: Ref<boolean>) {\n  const ioObserver = ref<IntersectionObserver>();\n  const showCheckbox = ref(true);\n  const handleLazyLoad = () => {\n    if (!lazyLoad.value) return;\n    showCheckbox.value = false;\n    const io = observe(\n      labelRef.value,\n      null,\n      () => {\n        showCheckbox.value = true;\n      },\n      0,\n    );\n    ioObserver.value = io;\n  };\n\n  onMounted(handleLazyLoad);\n\n  watch([lazyLoad, labelRef], handleLazyLoad);\n\n  onBeforeUnmount(() => {\n    if (!lazyLoad.value) return;\n    ioObserver.value.unobserve(labelRef.value);\n  });\n\n  return {\n    showCheckbox,\n  };\n}\n\nexport default useCheckboxLazyLoad;\n"],"mappings":";;;;;;;;AAGgB,SAAAA,oBAAoBC,QAAA,EAA4BC,QAAwB;EACtF,IAAMC,UAAA,GAAaC,GAA0B;EACvC,IAAAC,YAAA,GAAeD,GAAA,CAAI,IAAI;EAC7B,IAAME,cAAA,GAAiB,SAAjBA,eAAA,EAAuB;IAC3B,IAAI,CAACJ,QAAS,CAAAK,KAAA,EAAO;IACrBF,YAAA,CAAaE,KAAQ;IACrB,IAAMC,EAAK,GAAAC,OAAA,CACTR,QAAS,CAAAM,KAAA,EACT,MACA,YAAM;MACJF,YAAA,CAAaE,KAAQ;KACvB,EACA,CACF;IACAJ,UAAA,CAAWI,KAAQ,GAAAC,EAAA;GACrB;EAEAE,SAAA,CAAUJ,cAAc;EAExBK,KAAA,CAAM,CAACT,QAAA,EAAUD,QAAQ,GAAGK,cAAc;EAE1CM,eAAA,CAAgB,YAAM;IACpB,IAAI,CAACV,QAAS,CAAAK,KAAA,EAAO;IACVJ,UAAA,CAAAI,KAAA,CAAMM,SAAU,CAAAZ,QAAA,CAASM,KAAK;EAC3C,CAAC;EAEM;IACLF,YAAA,EAAAA;GACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}