{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport { ref } from 'vue';\nimport { MessagePlugin } from 'tdesign-vue-next';\nimport axios from 'axios';\nexport default {\n  __name: 'OrderMoney',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const revenue = ref(null);\n    const profit = ref(null);\n    const dateRange = ref([null, null]);\n    const onPick = (value, context) => console.log('onPick:', value, context);\n    const onChange = (value, context) => {\n      console.log('onChange:', value, context);\n      console.log('timestamp:', context.dayjsValue.map(d => d.valueOf()));\n      console.log('YYYYMMDD:', context.dayjsValue.map(d => d.format('YYYYMMDD')));\n    };\n    const queryRevenue = async () => {\n      if (!dateRange.value[0] || !dateRange.value[1]) {\n        MessagePlugin.warning('请选择日期范围');\n        return;\n      }\n      try {\n        const response = await axios.get('/api/orders/revenue', {\n          params: {\n            startDate: dateRange.value[0],\n            endDate: dateRange.value[1]\n          }\n        });\n        revenue.value = response.data.revenue;\n        profit.value = response.data.profit;\n        MessagePlugin.success('查询成功');\n      } catch (error) {\n        console.error('查询失败', error);\n        MessagePlugin.error('查询失败');\n      }\n    };\n    const __returned__ = {\n      revenue,\n      profit,\n      dateRange,\n      onPick,\n      onChange,\n      queryRevenue,\n      ref,\n      get MessagePlugin() {\n        return MessagePlugin;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","MessagePlugin","axios","revenue","profit","dateRange","onPick","value","context","console","log","onChange","dayjsValue","map","d","valueOf","format","queryRevenue","warning","response","get","params","startDate","endDate","data","success","error"],"sources":["E:/三年级上册/ComputerSale/computersale/src/views/OrderMoney.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-container\">\r\n    <h1 class=\"title\">查询营业额</h1>\r\n    <t-space direction=\"vertical\" class=\"content-space\">\r\n      <div class=\"date-picker-container\">\r\n        <t-date-range-picker\r\n          allow-input\r\n          clearable\r\n          format=\"YYYY-MM-DD HH:mm:ss\"\r\n          :default-time=\"['00:00:00', '22:22:22']\"\r\n          @pick=\"onPick\"\r\n          @change=\"onChange\"\r\n          v-model=\"dateRange\"\r\n        />\r\n        <t-button @click=\"queryRevenue\" class=\"query-button\">查询</t-button>\r\n      </div>\r\n      <div v-if=\"revenue !== null && profit !== null\" class=\"results-container\">\r\n        <t-card :title=\"'营业额'\" header-bordered class=\"card\">\r\n          {{ revenue }} 元\r\n        </t-card>\r\n        <t-card :title=\"'利润'\" header-bordered class=\"card\">\r\n          {{ profit }} 元\r\n        </t-card>\r\n      </div>\r\n    </t-space>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport { MessagePlugin } from 'tdesign-vue-next';\r\nimport axios from 'axios';\r\n\r\nconst revenue = ref(null);\r\nconst profit = ref(null);\r\nconst dateRange = ref([null, null]);\r\n\r\nconst onPick = (value, context) => console.log('onPick:', value, context);\r\nconst onChange = (value, context) => {\r\n  console.log('onChange:', value, context);\r\n  console.log(\r\n    'timestamp:',\r\n    context.dayjsValue.map((d) => d.valueOf()),\r\n  );\r\n  console.log(\r\n    'YYYYMMDD:',\r\n    context.dayjsValue.map((d) => d.format('YYYYMMDD')),\r\n  );\r\n};\r\n\r\nconst queryRevenue = async () => {\r\n  if (!dateRange.value[0] || !dateRange.value[1]) {\r\n    MessagePlugin.warning('请选择日期范围');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.get('/api/orders/revenue', {\r\n      params: {\r\n        startDate: dateRange.value[0],\r\n        endDate: dateRange.value[1],\r\n      },\r\n    });\r\n\r\n    revenue.value = response.data.revenue;\r\n    profit.value = response.data.profit;\r\n    MessagePlugin.success('查询成功');\r\n  } catch (error) {\r\n    console.error('查询失败', error);\r\n    MessagePlugin.error('查询失败');\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.main-container {\r\n  max-width: 1300px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background-image: url('https://pic.616pic.com/bg_w1180/00/01/42/1N4RVH64Vh.jpg!/fw/1120');\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  height: 90vh; /* 新增的高度 */\r\n}\r\n\r\n.title {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  font-size: 24px;\r\n  color: #fff;\r\n}\r\n\r\n.content-space {\r\n  width: 100%;\r\n}\r\n\r\n.date-picker-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.query-button {\r\n  margin-left: 10px;\r\n}\r\n\r\n.results-container {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 20px;\r\n}\r\n\r\n.card {\r\n  width: 48%;\r\n  height: 200px;\r\n  font-size: 18px;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  border: none;\r\n  border-radius: 10px;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n</style>"],"mappings":";AA6BA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,aAAa,QAAQ,kBAAkB;AAChD,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,OAAO,GAAGH,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMI,MAAM,GAAGJ,GAAG,CAAC,IAAI,CAAC;IACxB,MAAMK,SAAS,GAAGL,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAEnC,MAAMM,MAAM,GAAGA,CAACC,KAAK,EAAEC,OAAO,KAAKC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEH,KAAK,EAAEC,OAAO,CAAC;IACzE,MAAMG,QAAQ,GAAGA,CAACJ,KAAK,EAAEC,OAAO,KAAK;MACnCC,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEH,KAAK,EAAEC,OAAO,CAAC;MACxCC,OAAO,CAACC,GAAG,CACT,YAAY,EACZF,OAAO,CAACI,UAAU,CAACC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,OAAO,CAAC,CAAC,CAC3C,CAAC;MACDN,OAAO,CAACC,GAAG,CACT,WAAW,EACXF,OAAO,CAACI,UAAU,CAACC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACE,MAAM,CAAC,UAAU,CAAC,CACpD,CAAC;IACH,CAAC;IAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI,CAACZ,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC,IAAI,CAACF,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC,EAAE;QAC9CN,aAAa,CAACiB,OAAO,CAAC,SAAS,CAAC;QAChC;MACF;MAEA,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,qBAAqB,EAAE;UACtDC,MAAM,EAAE;YACNC,SAAS,EAAEjB,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC;YAC7BgB,OAAO,EAAElB,SAAS,CAACE,KAAK,CAAC,CAAC;UAC5B;QACF,CAAC,CAAC;QAEFJ,OAAO,CAACI,KAAK,GAAGY,QAAQ,CAACK,IAAI,CAACrB,OAAO;QACrCC,MAAM,CAACG,KAAK,GAAGY,QAAQ,CAACK,IAAI,CAACpB,MAAM;QACnCH,aAAa,CAACwB,OAAO,CAAC,MAAM,CAAC;MAC/B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdjB,OAAO,CAACiB,KAAK,CAAC,MAAM,EAAEA,KAAK,CAAC;QAC5BzB,aAAa,CAACyB,KAAK,CAAC,MAAM,CAAC;MAC7B;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}