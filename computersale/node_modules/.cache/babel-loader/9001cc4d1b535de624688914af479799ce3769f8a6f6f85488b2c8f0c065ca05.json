{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { onMounted, onBeforeUnmount } from 'vue';\nfunction useListener(type, listener) {\n  onMounted(function () {\n    window.addEventListener(type, listener);\n  });\n  onBeforeUnmount(function () {\n    window.removeEventListener(type, listener);\n  });\n}\nfunction useResize(listener, observer) {\n  useListener(\"resize\", listener);\n  var resizeObserver = null;\n  onMounted(function () {\n    if (!window.ResizeObserver || !observer) return;\n    resizeObserver = new window.ResizeObserver(listener);\n    resizeObserver.observe(observer);\n  });\n  onBeforeUnmount(function () {\n    var _resizeObserver;\n    (_resizeObserver = resizeObserver) === null || _resizeObserver === void 0 || _resizeObserver.disconnect();\n  });\n}\nexport { useListener, useResize };","map":{"version":3,"names":["useListener","type","listener","onMounted","window","addEventListener","onBeforeUnmount","removeEventListener","useResize","observer","resizeObserver","ResizeObserver","observe","_resizeObserver","disconnect"],"sources":["../../src/hooks/useListener.tsx"],"sourcesContent":["import { onBeforeUnmount, onMounted } from 'vue';\n\n/**\n * 用于订阅Listener事件\n * @param updateSize\n */\nexport function useListener(type: string, listener: () => void): void {\n  onMounted(() => {\n    window.addEventListener(type, listener);\n  });\n\n  onBeforeUnmount(() => {\n    window.removeEventListener(type, listener);\n  });\n}\n\nexport function useResize(listener: () => void, observer?: HTMLElement) {\n  useListener('resize', listener);\n\n  let resizeObserver: ResizeObserver = null;\n\n  onMounted(() => {\n    if (!window.ResizeObserver || !observer) return;\n    resizeObserver = new window.ResizeObserver(listener);\n    resizeObserver.observe(observer);\n  });\n\n  onBeforeUnmount(() => {\n    resizeObserver?.disconnect();\n  });\n}\n"],"mappings":";;;;;;;AAMgB,SAAAA,YAAYC,IAAA,EAAcC,QAA4B;EACpEC,SAAA,CAAU,YAAM;IACPC,MAAA,CAAAC,gBAAA,CAAiBJ,IAAA,EAAMC,QAAQ;EACxC,CAAC;EAEDI,eAAA,CAAgB,YAAM;IACbF,MAAA,CAAAG,mBAAA,CAAoBN,IAAA,EAAMC,QAAQ;EAC3C,CAAC;AACH;AAEgB,SAAAM,UAAUN,QAAA,EAAsBO,QAAwB;EACtET,WAAA,CAAY,UAAUE,QAAQ;EAE9B,IAAIQ,cAAiC;EAErCP,SAAA,CAAU,YAAM;IACV,KAACC,MAAO,CAAAO,cAAA,IAAkB,CAACF,QAAA,EAAU;IACxBC,cAAA,OAAIN,MAAO,CAAAO,cAAA,CAAeT,QAAQ;IACnDQ,cAAA,CAAeE,OAAA,CAAQH,QAAQ;EACjC,CAAC;EAEDH,eAAA,CAAgB,YAAM;IAAA,IAAAO,eAAA;IACpB,CAAAA,eAAA,GAAAH,cAAA,cAAAG,eAAA,eAAAA,eAAA,CAAgBC,UAAW;EAC7B,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}