{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, ref, computed, nextTick, createVNode, watch, onUpdated, onMounted, onBeforeUnmount, Teleport, mergeProps } from 'vue';\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon.mjs';\nimport { isServer } from '../utils/dom.mjs';\nimport { getScrollbarWidth } from '../_common/js/utils/getScrollbarWidth.mjs';\nimport props from './props.mjs';\nimport { useAction } from '../dialog/hooks.mjs';\nimport { useTNodeJSX, useContent } from '../hooks/tnode.mjs';\nimport { useDrag } from './hooks.mjs';\nimport useTeleport from '../hooks/useTeleport.mjs';\nimport { useConfig } from '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../utils/easing.mjs';\nimport '../_common/js/utils/helper.mjs';\nimport '../_chunks/dep-4a990ea3.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '../_chunks/dep-5d3f7c0e.mjs';\nimport '../_chunks/dep-5efe53d1.mjs';\nimport '../_chunks/dep-73384992.mjs';\nimport '../_chunks/dep-58a62202.mjs';\nimport '../_chunks/dep-889e457b.mjs';\nimport '../_chunks/dep-88ae49da.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-aeaef131.mjs';\nimport '../_chunks/dep-88c8d9ed.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-4ec29b23.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../button/index.mjs';\nimport '../button/button.mjs';\nimport '../loading/index.mjs';\nimport '../_chunks/dep-bff7e93a.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../_chunks/dep-0b414bea.mjs';\nimport '../_chunks/dep-4d4e2af1.mjs';\nimport '../_chunks/dep-fbd4eddb.mjs';\nimport '../_chunks/dep-ae202bc0.mjs';\nimport '../_chunks/dep-69e0f6fc.mjs';\nimport '../_chunks/dep-ea20409b.mjs';\nimport '../loading/plugin.mjs';\nimport '../loading/loading.mjs';\nimport '../loading/icon/gradient.mjs';\nimport '../_common/js/loading/circle-adapter.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../loading/props.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../config-provider/type.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../loading/type.mjs';\nimport '../button/props.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useDisabled.mjs';\nimport '../_chunks/dep-df472119.mjs';\nimport '../button/type.mjs';\nimport '../_common/js/drawer/utils.mjs';\nvar key = 1;\nvar _Drawer = defineComponent({\n  name: \"TDrawer\",\n  inheritAttrs: false,\n  props: props,\n  emits: [\"update:visible\"],\n  setup: function setup(props2, context) {\n    var destroyOnCloseVisible = ref(false);\n    var isVisible = ref(false);\n    var styleEl = ref();\n    var styleTimer = ref();\n    var _useConfig = useConfig(\"drawer\"),\n      globalConfig = _useConfig.globalConfig;\n    var _useGlobalIcon = useGlobalIcon({\n        CloseIcon: CloseIcon\n      }),\n      CloseIcon$1 = _useGlobalIcon.CloseIcon;\n    var renderTNodeJSX = useTNodeJSX();\n    var renderContent = useContent();\n    var COMPONENT_NAME = usePrefixClass(\"drawer\");\n    var _useDrag = useDrag(props2),\n      draggedSizeValue = _useDrag.draggedSizeValue,\n      enableDrag = _useDrag.enableDrag,\n      draggableLineStyles = _useDrag.draggableLineStyles;\n    var teleportElement = useTeleport(function () {\n      return props2.attach;\n    });\n    var confirmBtnAction = function confirmBtnAction(e) {\n      var _props2$onConfirm;\n      (_props2$onConfirm = props2.onConfirm) === null || _props2$onConfirm === void 0 || _props2$onConfirm.call(props2, {\n        e: e\n      });\n    };\n    var cancelBtnAction = function cancelBtnAction(e) {\n      var _props2$onCancel;\n      (_props2$onCancel = props2.onCancel) === null || _props2$onCancel === void 0 || _props2$onCancel.call(props2, {\n        e: e\n      });\n      closeDrawer({\n        trigger: \"cancel\",\n        e: e\n      });\n    };\n    var _useAction = useAction({\n        confirmBtnAction: confirmBtnAction,\n        cancelBtnAction: cancelBtnAction\n      }),\n      getConfirmBtn = _useAction.getConfirmBtn,\n      getCancelBtn = _useAction.getCancelBtn;\n    var drawerEle = ref(null);\n    var drawerClasses = computed(function () {\n      return [COMPONENT_NAME.value, \"\".concat(COMPONENT_NAME.value, \"--\").concat(props2.placement), _defineProperty(_defineProperty(_defineProperty({}, \"\".concat(COMPONENT_NAME.value, \"--open\"), isVisible.value), \"\".concat(COMPONENT_NAME.value, \"--attach\"), props2.showInAttachedElement), \"\".concat(COMPONENT_NAME.value, \"--without-mask\"), !props2.showOverlay)];\n    });\n    var sizeValue = computed(function () {\n      var _props2$size;\n      if (draggedSizeValue.value) return draggedSizeValue.value;\n      var size = (_props2$size = props2.size) !== null && _props2$size !== void 0 ? _props2$size : globalConfig.value.size;\n      var defaultSize = isNaN(Number(size)) ? size : \"\".concat(size, \"px\");\n      return {\n        small: \"300px\",\n        medium: \"500px\",\n        large: \"760px\"\n      }[size] || defaultSize;\n    });\n    var wrapperStyles = computed(function () {\n      return {\n        transform: isVisible.value ? \"translateX(0)\" : void 0,\n        width: [\"left\", \"right\"].includes(props2.placement) ? sizeValue.value : \"\",\n        height: [\"top\", \"bottom\"].includes(props2.placement) ? sizeValue.value : \"\"\n      };\n    });\n    var wrapperClasses = computed(function () {\n      return [\"\".concat(COMPONENT_NAME.value, \"__content-wrapper\"), \"\".concat(COMPONENT_NAME.value, \"__content-wrapper--\").concat(props2.placement)];\n    });\n    var parentNode = computed(function () {\n      return drawerEle.value && drawerEle.value.parentNode;\n    });\n    var modeAndPlacement = computed(function () {\n      return [props2.mode, props2.placement].join();\n    });\n    var footerStyle = computed(function () {\n      return {\n        display: \"flex\",\n        justifyContent: props2.placement === \"right\" ? \"flex-start\" : \"flex-end\"\n      };\n    });\n    var handleEscKeydown = function handleEscKeydown(e) {\n      var _props2$closeOnEscKey;\n      if (((_props2$closeOnEscKey = props2.closeOnEscKeydown) !== null && _props2$closeOnEscKey !== void 0 ? _props2$closeOnEscKey : globalConfig.value.closeOnEscKeydown) && e.key === \"Escape\" && isVisible.value) {\n        var _props2$onEscKeydown;\n        (_props2$onEscKeydown = props2.onEscKeydown) === null || _props2$onEscKeydown === void 0 || _props2$onEscKeydown.call(props2, {\n          e: e\n        });\n        closeDrawer({\n          trigger: \"esc\",\n          e: e\n        });\n      }\n    };\n    var clearStyleFunc = function clearStyleFunc() {\n      clearTimeout(styleTimer.value);\n      styleTimer.value = setTimeout(function () {\n        var _styleEl$value, _styleEl$value$remove;\n        (_styleEl$value = styleEl.value) === null || _styleEl$value === void 0 || (_styleEl$value = _styleEl$value.parentNode) === null || _styleEl$value === void 0 || (_styleEl$value$remove = _styleEl$value.removeChild) === null || _styleEl$value$remove === void 0 || _styleEl$value$remove.call(_styleEl$value, styleEl.value);\n      }, 150);\n    };\n    var handlePushMode = function handlePushMode() {\n      if (props2.mode !== \"push\") return;\n      nextTick(function () {\n        if (!parentNode.value) return;\n        parentNode.value.style.cssText = \"transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;\";\n      });\n    };\n    var updatePushMode = function updatePushMode() {\n      if (!parentNode.value) return;\n      if (props2.mode !== \"push\" || !parentNode.value) return;\n      var marginStr = {\n        left: \"margin: 0 0 0 \".concat(sizeValue.value),\n        right: \"margin: 0 0 0 -\".concat(sizeValue.value),\n        top: \"margin: \".concat(sizeValue.value, \" 0 0 0\"),\n        bottom: \"margin: -\".concat(sizeValue.value, \" 0 0 0\")\n      }[props2.placement];\n      if (isVisible.value) {\n        parentNode.value.style.cssText += marginStr;\n      } else {\n        parentNode.value.style.cssText = parentNode.value.style.cssText.replace(/margin:.+;/, \"\");\n      }\n    };\n    var getDefaultFooter = function getDefaultFooter() {\n      var confirmBtn = getConfirmBtn({\n        confirmBtn: props2.confirmBtn,\n        globalConfirm: globalConfig.value.confirm,\n        className: \"\".concat(COMPONENT_NAME.value, \"__confirm\")\n      });\n      var cancelBtn = getCancelBtn({\n        cancelBtn: props2.cancelBtn,\n        globalCancel: globalConfig.value.cancel,\n        className: \"\".concat(COMPONENT_NAME.value, \"__cancel\")\n      });\n      return createVNode(\"div\", {\n        \"style\": footerStyle.value\n      }, [props2.placement === \"right\" ? confirmBtn : null, cancelBtn, props2.placement !== \"right\" ? confirmBtn : null]);\n    };\n    watch(modeAndPlacement, function () {\n      handlePushMode();\n    }, {\n      immediate: true\n    });\n    watch(function () {\n      return props2.visible;\n    }, function (value) {\n      var _props2$onBeforeOpen, _props2$onBeforeClose;\n      if (isServer) return;\n      if (value) {\n        if (!props2.showInAttachedElement && props2.preventScrollThrough) {\n          styleEl.value && document.head.appendChild(styleEl.value);\n        }\n      } else {\n        clearStyleFunc();\n      }\n      value ? (_props2$onBeforeOpen = props2.onBeforeOpen) === null || _props2$onBeforeOpen === void 0 ? void 0 : _props2$onBeforeOpen.call(props2) : (_props2$onBeforeClose = props2.onBeforeClose) === null || _props2$onBeforeClose === void 0 ? void 0 : _props2$onBeforeClose.call(props2);\n      if (props2.destroyOnClose) {\n        if (value) {\n          destroyOnCloseVisible.value = false;\n          setTimeout(function () {\n            isVisible.value = true;\n          });\n        } else {\n          isVisible.value = false;\n          setTimeout(function () {\n            destroyOnCloseVisible.value = true;\n          }, 200);\n        }\n      } else if (destroyOnCloseVisible.value === true && value) {\n        destroyOnCloseVisible.value = false;\n        setTimeout(function () {\n          isVisible.value = true;\n        });\n      } else {\n        isVisible.value = value;\n      }\n    }, {\n      immediate: true\n    });\n    var handleCloseBtnClick = function handleCloseBtnClick(e) {\n      var _props2$onCloseBtnCli;\n      (_props2$onCloseBtnCli = props2.onCloseBtnClick) === null || _props2$onCloseBtnCli === void 0 || _props2$onCloseBtnCli.call(props2, {\n        e: e\n      });\n      closeDrawer({\n        trigger: \"close-btn\",\n        e: e\n      });\n    };\n    var handleWrapperClick = function handleWrapperClick(e) {\n      var _props2$onOverlayClic, _props2$closeOnOverla;\n      (_props2$onOverlayClic = props2.onOverlayClick) === null || _props2$onOverlayClic === void 0 || _props2$onOverlayClic.call(props2, {\n        e: e\n      });\n      if ((_props2$closeOnOverla = props2.closeOnOverlayClick) !== null && _props2$closeOnOverla !== void 0 ? _props2$closeOnOverla : globalConfig.value.closeOnOverlayClick) {\n        closeDrawer({\n          trigger: \"overlay\",\n          e: e\n        });\n      }\n    };\n    var closeDrawer = function closeDrawer(params) {\n      var _props2$onClose;\n      (_props2$onClose = props2.onClose) === null || _props2$onClose === void 0 || _props2$onClose.call(props2, params);\n      context.emit(\"update:visible\", false);\n    };\n    onUpdated(function () {\n      updatePushMode();\n    });\n    onMounted(function () {\n      var hasScrollBar = window.innerWidth > document.documentElement.clientWidth;\n      var scrollWidth = hasScrollBar ? getScrollbarWidth() : 0;\n      styleEl.value = document.createElement(\"style\");\n      styleEl.value.dataset.id = \"td_drawer_\".concat(+new Date(), \"_\").concat(key += 1);\n      styleEl.value.innerHTML = \"\\n        html body {\\n          overflow-y: hidden;\\n          transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;\\n          \".concat(props2.mode === \"push\" ? \"\" : \"width: calc(100% - \".concat(scrollWidth, \"px);\"), \"\\n        }\\n      \");\n      if (isVisible.value && !props2.showInAttachedElement && props2.preventScrollThrough) {\n        document.head.appendChild(styleEl.value);\n      }\n      window.addEventListener(\"keydown\", handleEscKeydown);\n    });\n    onBeforeUnmount(function () {\n      clearStyleFunc();\n      window.removeEventListener(\"keydown\", handleEscKeydown);\n    });\n    return function () {\n      if (destroyOnCloseVisible.value) return;\n      var body = renderContent(\"body\", \"default\");\n      var headerContent = renderTNodeJSX(\"header\");\n      var defaultFooter = getDefaultFooter();\n      return createVNode(Teleport, {\n        \"disabled\": !props2.attach || !teleportElement.value,\n        \"to\": teleportElement.value\n      }, {\n        \"default\": function _default() {\n          return [createVNode(\"div\", mergeProps({\n            \"ref\": drawerEle,\n            \"class\": drawerClasses.value,\n            \"style\": {\n              zIndex: props2.zIndex\n            },\n            \"onKeydown\": handleEscKeydown,\n            \"tabindex\": 0\n          }, context.attrs), [props2.showOverlay && createVNode(\"div\", {\n            \"class\": \"\".concat(COMPONENT_NAME.value, \"__mask\"),\n            \"onClick\": handleWrapperClick\n          }, null), createVNode(\"div\", {\n            \"class\": wrapperClasses.value,\n            \"style\": wrapperStyles.value\n          }, [headerContent && createVNode(\"div\", {\n            \"class\": \"\".concat(COMPONENT_NAME.value, \"__header\")\n          }, [headerContent]), props2.closeBtn && createVNode(\"div\", {\n            \"class\": \"\".concat(COMPONENT_NAME.value, \"__close-btn\"),\n            \"onClick\": handleCloseBtnClick\n          }, [renderTNodeJSX(\"closeBtn\", createVNode(CloseIcon$1, null, null))]), createVNode(\"div\", {\n            \"class\": [\"\".concat(COMPONENT_NAME.value, \"__body\"), \"narrow-scrollbar\"]\n          }, [body]), props2.footer && createVNode(\"div\", {\n            \"class\": \"\".concat(COMPONENT_NAME.value, \"__footer\")\n          }, [renderTNodeJSX(\"footer\", defaultFooter)]), props2.sizeDraggable && createVNode(\"div\", {\n            \"style\": draggableLineStyles.value,\n            \"onMousedown\": enableDrag\n          }, null)])])];\n        }\n      });\n    };\n  }\n});\nexport { _Drawer as default };","map":{"version":3,"names":["key","_Drawer","defineComponent","name","inheritAttrs","props","emits","setup","props2","context","destroyOnCloseVisible","ref","isVisible","styleEl","styleTimer","_useConfig","useConfig","globalConfig","_useGlobalIcon","useGlobalIcon","CloseIcon","CloseIcon$1","renderTNodeJSX","useTNodeJSX","renderContent","useContent","COMPONENT_NAME","usePrefixClass","_useDrag","useDrag","draggedSizeValue","enableDrag","draggableLineStyles","teleportElement","useTeleport","attach","confirmBtnAction","e","_props2$onConfirm","onConfirm","call","cancelBtnAction","_props2$onCancel","onCancel","closeDrawer","trigger","_useAction","useAction","getConfirmBtn","getCancelBtn","drawerEle","drawerClasses","computed","value","concat","placement","_defineProperty","showInAttachedElement","showOverlay","sizeValue","_props2$size","size","defaultSize","isNaN","Number","small","medium","large","wrapperStyles","transform","width","includes","height","wrapperClasses","parentNode","modeAndPlacement","mode","join","footerStyle","display","justifyContent","handleEscKeydown","_props2$closeOnEscKey","closeOnEscKeydown","_props2$onEscKeydown","onEscKeydown","clearStyleFunc","clearTimeout","setTimeout","_styleEl$value","_styleEl$value$remove","removeChild","handlePushMode","nextTick","style","cssText","updatePushMode","marginStr","left","right","top","bottom","replace","getDefaultFooter","confirmBtn","globalConfirm","confirm","className","cancelBtn","globalCancel","cancel","createVNode","watch","immediate","visible","_props2$onBeforeOpen","_props2$onBeforeClose","isServer","preventScrollThrough","document","head","appendChild","onBeforeOpen","onBeforeClose","destroyOnClose","handleCloseBtnClick","_props2$onCloseBtnCli","onCloseBtnClick","handleWrapperClick","_props2$onOverlayClic","_props2$closeOnOverla","onOverlayClick","closeOnOverlayClick","params","_props2$onClose","onClose","emit","onUpdated","onMounted","hasScrollBar","window","innerWidth","documentElement","clientWidth","scrollWidth","getScrollbarWidth","createElement","dataset","id","Date","innerHTML","addEventListener","onBeforeUnmount","removeEventListener","body","headerContent","defaultFooter","Teleport","_default","mergeProps","zIndex","attrs","closeBtn","footer","sizeDraggable"],"sources":["../../src/drawer/drawer.tsx"],"sourcesContent":["import { onBeforeUnmount, onMounted, computed, defineComponent, nextTick, onUpdated, ref, watch, Teleport } from 'vue';\nimport { CloseIcon as TdCloseIcon } from 'tdesign-icons-vue-next';\nimport { useConfig, usePrefixClass } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport { isServer } from '../utils/dom';\nimport { getScrollbarWidth } from '../_common/js/utils/getScrollbarWidth';\nimport props from './props';\nimport { DrawerCloseContext } from './type';\nimport { useAction } from '../dialog/hooks';\nimport { useTNodeJSX, useContent } from '../hooks/tnode';\nimport { useDrag } from './hooks';\nimport type { TdDrawerProps } from './type';\nimport useTeleport from '../hooks/useTeleport';\n\nlet key = 1;\n\nexport default defineComponent({\n  name: 'TDrawer',\n  inheritAttrs: false,\n  props,\n  emits: ['update:visible'],\n  setup(props, context) {\n    const destroyOnCloseVisible = ref(false);\n    const isVisible = ref(false);\n    const styleEl = ref();\n    const styleTimer = ref();\n    const { globalConfig } = useConfig('drawer');\n    const { CloseIcon } = useGlobalIcon({ CloseIcon: TdCloseIcon });\n    const renderTNodeJSX = useTNodeJSX();\n    const renderContent = useContent();\n    const COMPONENT_NAME = usePrefixClass('drawer');\n    const { draggedSizeValue, enableDrag, draggableLineStyles } = useDrag(props as TdDrawerProps);\n\n    // teleport容器\n    const teleportElement = useTeleport(() => props.attach);\n\n    const confirmBtnAction = (e: MouseEvent) => {\n      props.onConfirm?.({ e });\n    };\n    const cancelBtnAction = (e: MouseEvent) => {\n      props.onCancel?.({ e });\n      closeDrawer({ trigger: 'cancel', e });\n    };\n    const { getConfirmBtn, getCancelBtn } = useAction({ confirmBtnAction, cancelBtnAction });\n    const drawerEle = ref<HTMLElement | null>(null);\n    const drawerClasses = computed(() => {\n      return [\n        COMPONENT_NAME.value,\n        `${COMPONENT_NAME.value}--${props.placement}`,\n        {\n          [`${COMPONENT_NAME.value}--open`]: isVisible.value,\n          [`${COMPONENT_NAME.value}--attach`]: props.showInAttachedElement,\n          [`${COMPONENT_NAME.value}--without-mask`]: !props.showOverlay,\n        },\n      ];\n    });\n\n    const sizeValue = computed(() => {\n      if (draggedSizeValue.value) return draggedSizeValue.value;\n\n      const size = props.size ?? globalConfig.value.size;\n      const defaultSize = isNaN(Number(size)) ? size : `${size}px`;\n      return (\n        {\n          small: '300px',\n          medium: '500px',\n          large: '760px',\n        }[size] || defaultSize\n      );\n    });\n    const wrapperStyles = computed(() => {\n      return {\n        // 用于抵消动画效果：transform: translateX(100%); 等\n        transform: isVisible.value ? 'translateX(0)' : undefined,\n        width: ['left', 'right'].includes(props.placement) ? sizeValue.value : '',\n        height: ['top', 'bottom'].includes(props.placement) ? sizeValue.value : '',\n      };\n    });\n\n    const wrapperClasses = computed(() => {\n      return [\n        `${COMPONENT_NAME.value}__content-wrapper`,\n        `${COMPONENT_NAME.value}__content-wrapper--${props.placement}`,\n      ];\n    });\n\n    const parentNode = computed<HTMLElement>(() => {\n      return drawerEle.value && (drawerEle.value.parentNode as HTMLElement);\n    });\n\n    const modeAndPlacement = computed<string>(() => {\n      return [props.mode, props.placement].join();\n    });\n\n    const footerStyle = computed(() => {\n      return {\n        display: 'flex',\n        justifyContent: props.placement === 'right' ? 'flex-start' : 'flex-end',\n      };\n    });\n\n    const handleEscKeydown = (e: KeyboardEvent) => {\n      if ((props.closeOnEscKeydown ?? globalConfig.value.closeOnEscKeydown) && e.key === 'Escape' && isVisible.value) {\n        props.onEscKeydown?.({ e });\n        closeDrawer({ trigger: 'esc', e });\n      }\n    };\n\n    const clearStyleFunc = () => {\n      clearTimeout(styleTimer.value);\n      styleTimer.value = setTimeout(() => {\n        styleEl.value?.parentNode?.removeChild?.(styleEl.value);\n      }, 150);\n    };\n\n    const handlePushMode = () => {\n      if (props.mode !== 'push') return;\n      nextTick(() => {\n        if (!parentNode.value) return;\n        parentNode.value.style.cssText = 'transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;';\n      });\n    };\n    // push 动画效果处理\n    const updatePushMode = () => {\n      if (!parentNode.value) return;\n      if (props.mode !== 'push' || !parentNode.value) return;\n      const marginStr = {\n        left: `margin: 0 0 0 ${sizeValue.value}`,\n        right: `margin: 0 0 0 -${sizeValue.value}`,\n        top: `margin: ${sizeValue.value} 0 0 0`,\n        bottom: `margin: -${sizeValue.value} 0 0 0`,\n      }[props.placement];\n      if (isVisible.value) {\n        parentNode.value.style.cssText += marginStr;\n      } else {\n        parentNode.value.style.cssText = parentNode.value.style.cssText.replace(/margin:.+;/, '');\n      }\n    };\n\n    // locale 全局配置，插槽，props，默认值，决定了按钮最终呈现\n    const getDefaultFooter = () => {\n      // this.getConfirmBtn is a function of useAction\n      const confirmBtn = getConfirmBtn({\n        confirmBtn: props.confirmBtn as TdDrawerProps['confirmBtn'],\n        globalConfirm: globalConfig.value.confirm,\n        className: `${COMPONENT_NAME.value}__confirm`,\n      });\n      // this.getCancelBtn is a function of useAction\n      const cancelBtn = getCancelBtn({\n        cancelBtn: props.cancelBtn as TdDrawerProps['cancelBtn'],\n        globalCancel: globalConfig.value.cancel,\n        className: `${COMPONENT_NAME.value}__cancel`,\n      });\n      return (\n        <div style={footerStyle.value}>\n          {props.placement === 'right' ? confirmBtn : null}\n          {cancelBtn}\n          {props.placement !== 'right' ? confirmBtn : null}\n        </div>\n      );\n    };\n    watch(\n      modeAndPlacement,\n      () => {\n        handlePushMode();\n      },\n      { immediate: true },\n    );\n    watch(\n      () => props.visible,\n      (value) => {\n        if (isServer) return;\n        if (value) {\n          if (!props.showInAttachedElement && props.preventScrollThrough) {\n            styleEl.value && document.head.appendChild(styleEl.value);\n          }\n        } else {\n          clearStyleFunc();\n        }\n\n        // 打开前动画或关闭前动画\n        value ? props.onBeforeOpen?.() : props.onBeforeClose?.();\n\n        // 处理显示逻辑\n        if (props.destroyOnClose) {\n          if (value) {\n            destroyOnCloseVisible.value = false;\n            setTimeout(() => {\n              isVisible.value = true;\n            });\n          } else {\n            isVisible.value = false;\n            setTimeout(() => {\n              destroyOnCloseVisible.value = true;\n            }, 200);\n          }\n        } else if (destroyOnCloseVisible.value === true && value) {\n          destroyOnCloseVisible.value = false;\n          setTimeout(() => {\n            isVisible.value = true;\n          });\n        } else {\n          isVisible.value = value;\n        }\n      },\n      { immediate: true },\n    );\n    const handleCloseBtnClick = (e: MouseEvent) => {\n      props.onCloseBtnClick?.({ e });\n      closeDrawer({ trigger: 'close-btn', e });\n    };\n    const handleWrapperClick = (e: MouseEvent) => {\n      props.onOverlayClick?.({ e });\n      if (props.closeOnOverlayClick ?? globalConfig.value.closeOnOverlayClick) {\n        closeDrawer({ trigger: 'overlay', e });\n      }\n    };\n\n    const closeDrawer = (params: DrawerCloseContext) => {\n      props.onClose?.(params);\n      context.emit('update:visible', false);\n    };\n\n    onUpdated(() => {\n      updatePushMode();\n    });\n\n    onMounted(() => {\n      const hasScrollBar = window.innerWidth > document.documentElement.clientWidth;\n      const scrollWidth = hasScrollBar ? getScrollbarWidth() : 0;\n\n      styleEl.value = document.createElement('style');\n      styleEl.value.dataset.id = `td_drawer_${+new Date()}_${(key += 1)}`;\n      styleEl.value.innerHTML = `\n        html body {\n          overflow-y: hidden;\n          transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;\n          ${props.mode === 'push' ? '' : `width: calc(100% - ${scrollWidth}px);`}\n        }\n      `;\n\n      if (isVisible.value && !props.showInAttachedElement && props.preventScrollThrough) {\n        document.head.appendChild(styleEl.value);\n      }\n\n      window.addEventListener('keydown', handleEscKeydown);\n    });\n\n    onBeforeUnmount(() => {\n      clearStyleFunc();\n      window.removeEventListener('keydown', handleEscKeydown);\n    });\n\n    return () => {\n      if (destroyOnCloseVisible.value) return;\n      const body = renderContent('body', 'default');\n      const headerContent = renderTNodeJSX('header');\n      const defaultFooter = getDefaultFooter();\n      return (\n        <Teleport disabled={!props.attach || !teleportElement.value} to={teleportElement.value}>\n          <div\n            ref={drawerEle}\n            class={drawerClasses.value}\n            style={{ zIndex: props.zIndex }}\n            onKeydown={handleEscKeydown}\n            tabindex={0}\n            {...context.attrs}\n          >\n            {props.showOverlay && <div class={`${COMPONENT_NAME.value}__mask`} onClick={handleWrapperClick} />}\n            <div class={wrapperClasses.value} style={wrapperStyles.value}>\n              {headerContent && <div class={`${COMPONENT_NAME.value}__header`}>{headerContent}</div>}\n              {props.closeBtn && (\n                <div class={`${COMPONENT_NAME.value}__close-btn`} onClick={handleCloseBtnClick}>\n                  {renderTNodeJSX('closeBtn', <CloseIcon />)}\n                </div>\n              )}\n              <div class={[`${COMPONENT_NAME.value}__body`, 'narrow-scrollbar']}>{body}</div>\n              {props.footer && (\n                <div class={`${COMPONENT_NAME.value}__footer`}>{renderTNodeJSX('footer', defaultFooter)}</div>\n              )}\n              {props.sizeDraggable && <div style={draggableLineStyles.value} onMousedown={enableDrag}></div>}\n            </div>\n          </div>\n        </Teleport>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}