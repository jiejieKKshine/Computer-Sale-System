{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { elementInViewport } from '../../utils/dom.mjs';\nimport '../../_chunks/dep-eca422c3.mjs';\nimport '../../_chunks/dep-03a7fb6c.mjs';\nimport '../../_chunks/dep-bf7257e7.mjs';\nimport '../../_chunks/dep-4659d73b.mjs';\nimport '../../_chunks/dep-eae2a67e.mjs';\nimport '../../_chunks/dep-626c497d.mjs';\nimport '../../_chunks/dep-29ef8419.mjs';\nimport '../../_chunks/dep-06dcbf4c.mjs';\nimport '../../_chunks/dep-2b09875b.mjs';\nimport '../../_chunks/dep-cda4f568.mjs';\nimport '../../utils/easing.mjs';\nfunction getScrollParent(element) {\n  var style = window.getComputedStyle(element);\n  var excludeStaticParent = style.position === \"absolute\";\n  var overflowRegex = /(auto|scroll)/;\n  if (style.position === \"fixed\") return document.body;\n  for (var parent = element; parent.parentElement;) {\n    parent = parent.parentElement;\n    style = window.getComputedStyle(parent);\n    if (excludeStaticParent && style.position === \"static\") {\n      continue;\n    }\n    if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) return parent;\n  }\n  return document.body;\n}\nfunction scrollToParentVisibleArea(element) {\n  var parent = getScrollParent(element);\n  if (parent === document.body) return;\n  if (elementInViewport(element, parent)) return;\n  parent.scrollTop = element.offsetTop - parent.offsetTop;\n}\nexport { getScrollParent, scrollToParentVisibleArea };","map":{"version":3,"names":["getScrollParent","element","style","window","getComputedStyle","excludeStaticParent","position","overflowRegex","document","body","parent","parentElement","test","overflow","overflowY","overflowX","scrollToParentVisibleArea","elementInViewport","scrollTop","offsetTop"],"sources":["../../../src/guide/utils/getScrollParent.ts"],"sourcesContent":["import { elementInViewport } from '../../utils/dom';\n\nexport function getScrollParent(element: HTMLElement) {\n  let style = window.getComputedStyle(element);\n  const excludeStaticParent = style.position === 'absolute';\n  const overflowRegex = /(auto|scroll)/;\n\n  if (style.position === 'fixed') return document.body;\n\n  for (let parent = element; parent.parentElement; ) {\n    parent = parent.parentElement;\n    style = window.getComputedStyle(parent);\n    if (excludeStaticParent && style.position === 'static') {\n      continue;\n    }\n    if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) return parent;\n  }\n\n  return document.body;\n}\n\nexport function scrollToParentVisibleArea(element: HTMLElement) {\n  const parent = getScrollParent(element);\n  if (parent === document.body) return;\n  // !todo 逻辑待验证\n  if (elementInViewport(element, parent)) return;\n  parent.scrollTop = element.offsetTop - parent.offsetTop;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAEO,SAASA,gBAAgBC,OAAsB;EAChD,IAAAC,KAAA,GAAQC,MAAO,CAAAC,gBAAA,CAAiBH,OAAO;EACrC,IAAAI,mBAAA,GAAsBH,KAAA,CAAMI,QAAa;EAC/C,IAAMC,aAAgB;EAEtB,IAAIL,KAAA,CAAMI,QAAa,cAAS,OAAOE,QAAS,CAAAC,IAAA;EAEvC,SAAAC,MAAA,GAAST,OAAS,EAAAS,MAAA,CAAOC,aAAiB;IACjDD,MAAA,GAASA,MAAO,CAAAC,aAAA;IACRT,KAAA,GAAAC,MAAA,CAAOC,gBAAA,CAAiBM,MAAM;IAClC,IAAAL,mBAAA,IAAuBH,KAAM,CAAAI,QAAA,KAAa,QAAU;MACtD;IACF;IACA,IAAIC,aAAA,CAAcK,IAAK,CAAAV,KAAA,CAAMW,QAAA,GAAWX,KAAM,CAAAY,SAAA,GAAYZ,KAAA,CAAMa,SAAS,GAAU,OAAAL,MAAA;EACrF;EAEA,OAAOF,QAAS,CAAAC,IAAA;AAClB;AAEO,SAASO,0BAA0Bf,OAAsB;EACxD,IAAAS,MAAA,GAASV,eAAA,CAAgBC,OAAO;EACtC,IAAIS,MAAA,KAAWF,QAAS,CAAAC,IAAA,EAAM;EAE1B,IAAAQ,iBAAA,CAAkBhB,OAAA,EAASS,MAAM,GAAG;EACjCA,MAAA,CAAAQ,SAAA,GAAYjB,OAAQ,CAAAkB,SAAA,GAAYT,MAAO,CAAAS,SAAA;AAChD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}