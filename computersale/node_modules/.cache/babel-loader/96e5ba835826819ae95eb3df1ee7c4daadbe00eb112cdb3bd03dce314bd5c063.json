{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, toRefs, ref, reactive, computed, watch, onMounted, nextTick, createVNode } from 'vue';\nimport { d as debounce_1 } from '../../_chunks/dep-5993931e.mjs';\nimport '../../_chunks/dep-eca422c3.mjs';\nimport { _ as _isIterateeCall } from '../../_chunks/dep-532409c5.mjs';\nimport { a as toFinite_1, t as toInteger_1 } from '../../_chunks/dep-7af61576.mjs';\nimport { a as _baseToString, t as toString_1 } from '../../_chunks/dep-7932c2e8.mjs';\nimport { _ as _hasUnicode, a as _castSlice, b as _stringToArray } from '../../_chunks/dep-d8a34055.mjs';\nimport { _ as _baseProperty } from '../../_chunks/dep-ea20409b.mjs';\nimport { d as dayjs } from '../../_chunks/dep-7f65fc46.mjs';\nimport { c as customParseFormat } from '../../_chunks/dep-b36eaefe.mjs';\nimport { panelColProps } from './props.mjs';\nimport { EPickerCols, TWELVE_HOUR_FORMAT, MERIDIEM_LIST, AM, PM } from '../../_common/js/time-picker/const.mjs';\nimport { getPickerCols, closestLookup } from '../../_common/js/time-picker/utils.mjs';\nimport { usePrefixClass, useCommonClassName } from '../../hooks/useConfig.mjs';\nimport { useConfig } from '../../config-provider/useConfig.mjs';\nimport '../../_chunks/dep-4659d73b.mjs';\nimport '../../_chunks/dep-2b09875b.mjs';\nimport '../../_chunks/dep-cda4f568.mjs';\nimport '../../_chunks/dep-bf7257e7.mjs';\nimport '../../_chunks/dep-8dfc9324.mjs';\nimport '../../_chunks/dep-ab4bb9b8.mjs';\nimport '../../_chunks/dep-29ef8419.mjs';\nimport '../../_chunks/dep-e9841b9e.mjs';\nimport '../../_chunks/dep-cc8ebcde.mjs';\nimport '../../_chunks/dep-06dcbf4c.mjs';\nimport '../../_chunks/dep-76958824.mjs';\nimport '../../_chunks/dep-ec0bbd9f.mjs';\nimport '../../_chunks/dep-eae2a67e.mjs';\nimport '../../_chunks/dep-626c497d.mjs';\nimport '../../_chunks/dep-2f6e28a0.mjs';\nimport '../../_chunks/dep-df472119.mjs';\nimport '../props.mjs';\nimport '../../_chunks/dep-bb899bfd.mjs';\nimport '../../_chunks/dep-5922c8f3.mjs';\nimport '../../_chunks/dep-92f86d1d.mjs';\nimport '../../_chunks/dep-6ab5363f.mjs';\nimport '../../_chunks/dep-6dc3d0e1.mjs';\nimport '../../_chunks/dep-1a4bb2f2.mjs';\nimport '../../_chunks/dep-f5579c03.mjs';\nimport '../../_chunks/dep-49aeee3c.mjs';\nimport '../../_chunks/dep-b5bf85f5.mjs';\nimport '../../_chunks/dep-3c65fae8.mjs';\nimport '../../_chunks/dep-1b78414a.mjs';\nimport '../../_chunks/dep-d84f19b3.mjs';\nimport '../../_chunks/dep-732f0b7d.mjs';\nimport '../../_chunks/dep-03a7fb6c.mjs';\nimport '../../_chunks/dep-1b9718a2.mjs';\nimport '../../_chunks/dep-e065dc25.mjs';\nimport '../../_chunks/dep-400ec705.mjs';\nimport '../../_chunks/dep-02f9394e.mjs';\nimport '../../_chunks/dep-1725b1c7.mjs';\nimport '../../_common/js/global-config/default-config.mjs';\nimport '../../_common/js/global-config/locale/zh_CN.mjs';\nimport '../../_chunks/dep-9ed7da3e.mjs';\nimport '../../_chunks/dep-4f2cabb0.mjs';\nimport '../../config-provider/type.mjs';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil$1 = Math.ceil,\n  nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange$1(start, end, step, fromRight) {\n  var index = -1,\n    length = nativeMax(nativeCeil$1((end - start) / (step || 1)), 0),\n    result = Array(length);\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\nvar _baseRange = baseRange$1;\nvar baseRange = _baseRange,\n  isIterateeCall = _isIterateeCall,\n  toFinite = toFinite_1;\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange$1(fromRight) {\n  return function (start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? start < end ? 1 : -1 : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\nvar _createRange = createRange$1;\nvar createRange = _createRange;\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\nvar range_1 = range;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor;\n\n/**\n * The base implementation of `_.repeat` which doesn't coerce arguments.\n *\n * @private\n * @param {string} string The string to repeat.\n * @param {number} n The number of times to repeat the string.\n * @returns {string} Returns the repeated string.\n */\nfunction baseRepeat$1(string, n) {\n  var result = '';\n  if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n    return result;\n  }\n  // Leverage the exponentiation by squaring algorithm for a faster repeat.\n  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n  do {\n    if (n % 2) {\n      result += string;\n    }\n    n = nativeFloor(n / 2);\n    if (n) {\n      string += string;\n    }\n  } while (n);\n  return result;\n}\nvar _baseRepeat = baseRepeat$1;\nvar baseProperty = _baseProperty;\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize$1 = baseProperty('length');\nvar _asciiSize = asciiSize$1;\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = \"\\\\ud800-\\\\udfff\",\n  rsComboMarksRange = \"\\\\u0300-\\\\u036f\",\n  reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\",\n  rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\",\n  rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n  rsVarRange = \"\\\\ufe0e\\\\ufe0f\";\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n  rsCombo = '[' + rsComboRange + ']',\n  rsFitz = \"\\\\ud83c[\\\\udffb-\\\\udfff]\",\n  rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n  rsNonAstral = '[^' + rsAstralRange + ']',\n  rsRegional = \"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",\n  rsSurrPair = \"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",\n  rsZWJ = \"\\\\u200d\";\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n  rsOptVar = '[' + rsVarRange + ']?',\n  rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n  rsSeq = rsOptVar + reOptMod + rsOptJoin,\n  rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize$1(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\nvar _unicodeSize = unicodeSize$1;\nvar asciiSize = _asciiSize,\n  hasUnicode$1 = _hasUnicode,\n  unicodeSize = _unicodeSize;\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize$2(string) {\n  return hasUnicode$1(string) ? unicodeSize(string) : asciiSize(string);\n}\nvar _stringSize = stringSize$2;\nvar baseRepeat = _baseRepeat,\n  baseToString = _baseToString,\n  castSlice = _castSlice,\n  hasUnicode = _hasUnicode,\n  stringSize$1 = _stringSize,\n  stringToArray = _stringToArray;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\n\n/**\n * Creates the padding for `string` based on `length`. The `chars` string\n * is truncated if the number of characters exceeds `length`.\n *\n * @private\n * @param {number} length The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padding for `string`.\n */\nfunction createPadding$1(length, chars) {\n  chars = chars === undefined ? ' ' : baseToString(chars);\n  var charsLength = chars.length;\n  if (charsLength < 2) {\n    return charsLength ? baseRepeat(chars, length) : chars;\n  }\n  var result = baseRepeat(chars, nativeCeil(length / stringSize$1(chars)));\n  return hasUnicode(chars) ? castSlice(stringToArray(result), 0, length).join('') : result.slice(0, length);\n}\nvar _createPadding = createPadding$1;\nvar createPadding = _createPadding,\n  stringSize = _stringSize,\n  toInteger = toInteger_1,\n  toString = toString_1;\n\n/**\n * Pads `string` on the left side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padStart('abc', 6);\n * // => '   abc'\n *\n * _.padStart('abc', 6, '_-');\n * // => '_-_abc'\n *\n * _.padStart('abc', 3);\n * // => 'abc'\n */\nfunction padStart(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n  var strLength = length ? stringSize(string) : 0;\n  return length && strLength < length ? createPadding(length - strLength, chars) + string : string;\n}\nvar padStart_1 = padStart;\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\ndayjs.extend(customParseFormat);\nvar timeArr = [EPickerCols.hour, EPickerCols.minute, EPickerCols.second, EPickerCols.milliSecond];\nvar panelOffset = {\n  top: 15,\n  bottom: 21\n};\nvar SinglePanel = defineComponent({\n  name: \"TTimePickerPanelCol\",\n  props: _objectSpread(_objectSpread({}, panelColProps()), {}, {\n    position: String,\n    triggerScroll: Boolean,\n    onChange: Function,\n    resetTriggerScroll: Function,\n    isShowPanel: Boolean\n  }),\n  setup: function setup(props) {\n    var _useConfig = useConfig(\"timePicker\"),\n      globalConfig = _useConfig.globalConfig;\n    var COMPONENT_NAME = usePrefixClass(\"time-picker__panel\");\n    var _useCommonClassName = useCommonClassName(),\n      STATUS = _useCommonClassName.STATUS;\n    var _toRefs = toRefs(props),\n      steps = _toRefs.steps,\n      value = _toRefs.value,\n      format = _toRefs.format,\n      position = _toRefs.position,\n      triggerScroll = _toRefs.triggerScroll;\n    var cols = ref([]);\n    var bodyRef = ref();\n    var maskRef = ref(null);\n    var colsRef = reactive({\n      0: null,\n      1: null,\n      2: null,\n      3: null,\n      4: null,\n      5: null\n    });\n    var dayjsValue = computed(function () {\n      var isStepsSet = !!steps.value.filter(function (step) {\n        return Number(step) > 1;\n      }).length;\n      if (value.value) return dayjs(value.value, format.value);\n      if (isStepsSet) return dayjs().hour(0).minute(0).second(0);\n      return dayjs();\n    });\n    watch(function () {\n      return dayjsValue.value;\n    }, function () {\n      if (dayjsValue.value && value.value) updateTimeScrollPos(true);\n    });\n    watch(function () {\n      return triggerScroll.value;\n    }, function () {\n      if (triggerScroll.value) {\n        updateTimeScrollPos(true);\n      }\n    });\n    onMounted(function () {\n      cols.value = getPickerCols(format.value);\n    });\n    var getItemHeight = function getItemHeight() {\n      var _maskRef$value;\n      var maskDom = (_maskRef$value = maskRef.value) === null || _maskRef$value === void 0 ? void 0 : _maskRef$value.querySelector(\"div\");\n      if (!maskDom) {\n        return {\n          offsetHeight: 0,\n          margin: 0\n        };\n      }\n      return {\n        offsetHeight: parseFloat(getComputedStyle(maskDom).height),\n        margin: parseFloat(getComputedStyle(maskDom).marginTop)\n      };\n    };\n    var timeItemCanUsed = function timeItemCanUsed(col, el) {\n      var colIdx = timeArr.indexOf(col);\n      if (colIdx !== -1) {\n        var _props$disableTime;\n        var params = [dayjsValue.value.hour(), dayjsValue.value.minute(), dayjsValue.value.second(), dayjsValue.value.millisecond()];\n        params[colIdx] = Number(el);\n        return !((_props$disableTime = props.disableTime) !== null && _props$disableTime !== void 0 && (_props$disableTime = _props$disableTime.call.apply(_props$disableTime, [props].concat(params, [{\n          partial: position.value || \"start\"\n        }]))) !== null && _props$disableTime !== void 0 && (_props$disableTime = _props$disableTime[col]) !== null && _props$disableTime !== void 0 && _props$disableTime.includes(Number(el)));\n      }\n      return true;\n    };\n    var getColList = function getColList(col) {\n      var count = 0;\n      if (timeArr.includes(col)) {\n        var colIdx = timeArr.indexOf(col);\n        var colStep = steps.value[colIdx] || 1;\n        if (col === EPickerCols.hour) count = TWELVE_HOUR_FORMAT.test(format.value) ? 11 : 23;else if (col === EPickerCols.milliSecond) count = 999;else count = 59;\n        var colList = range_1(0, count + 1, Number(colStep)).map(function (v) {\n          return padStart_1(String(v), 2, \"0\");\n        }) || [];\n        return props.hideDisabledTime && !!props.disableTime ? colList.filter(function (t) {\n          var _props$disableTime2;\n          var params = [dayjsValue.value.hour(), dayjsValue.value.minute(), dayjsValue.value.second(), dayjsValue.value.millisecond()];\n          params[colIdx] = Number(t);\n          return !((_props$disableTime2 = props.disableTime) !== null && _props$disableTime2 !== void 0 && (_props$disableTime2 = _props$disableTime2.call.apply(_props$disableTime2, [props].concat(params, [{\n            partial: position.value || \"start\"\n          }]))) !== null && _props$disableTime2 !== void 0 && (_props$disableTime2 = _props$disableTime2[col]) !== null && _props$disableTime2 !== void 0 && _props$disableTime2.includes(Number(t)));\n        }) : colList;\n      }\n      return MERIDIEM_LIST;\n    };\n    var getScrollDistance = function getScrollDistance(col, time) {\n      if (col === EPickerCols.hour && /[h]{1}/.test(format.value)) time %= 12;\n      var itemIdx = getColList(col).indexOf(padStart_1(String(time), 2, \"0\"));\n      var _getItemHeight = getItemHeight(),\n        offsetHeight = _getItemHeight.offsetHeight,\n        margin = _getItemHeight.margin;\n      var timeItemTotalHeight = offsetHeight + margin;\n      var distance = Math.abs(Math.max(0, itemIdx) * timeItemTotalHeight);\n      return distance;\n    };\n    var handleScroll = function handleScroll(col, idx, e) {\n      var _colsRef$idx, _props$onChange;\n      var val;\n      var formattedVal;\n      if (!props.isShowPanel) return;\n      var scrollTop = (((_colsRef$idx = colsRef[idx]) === null || _colsRef$idx === void 0 ? void 0 : _colsRef$idx.scrollTop) || 0) + panelOffset.top;\n      var _getItemHeight2 = getItemHeight(),\n        offsetHeight = _getItemHeight2.offsetHeight,\n        margin = _getItemHeight2.margin;\n      var timeItemTotalHeight = offsetHeight + margin;\n      var colStep = Math.abs(Math.round(scrollTop / timeItemTotalHeight + 0.5));\n      var meridiem = MERIDIEM_LIST[Math.min(colStep - 1, 1)].toLowerCase();\n      if (Number.isNaN(colStep)) colStep = 1;\n      if (timeArr.includes(col)) {\n        var max = 59;\n        if (col === EPickerCols.hour) max = /[h]{1}/.test(format.value) ? 11 : 23;else if (col === EPickerCols.milliSecond) max = 999;\n        var colIdx = timeArr.indexOf(col);\n        var availableArr = range_1(0, max + 1, Number(steps.value[colIdx]) || 1);\n        val = closestLookup(availableArr, Number(getColList(col)[Math.min(colStep - 1, max + 1, availableArr.length - 1)]), Number(steps.value[colIdx]) || 1);\n        if (Number.isNaN(val)) val = availableArr[availableArr.length - 1];\n        if (col === EPickerCols.hour && cols.value.includes(EPickerCols.meridiem) && dayjsValue.value.hour() >= 12) {\n          val = Number(val) + 12;\n        }\n      } else val = meridiem;\n      var distance = getScrollDistance(col, val);\n      if (!dayjs(dayjsValue.value).isValid() || value.value && !dayjs(value.value, format.value, true).isValid()) return;\n      if (timeArr.includes(col)) {\n        var _dayjsValue$value$col, _dayjsValue$value;\n        if (timeItemCanUsed(col, val)) formattedVal = (_dayjsValue$value$col = (_dayjsValue$value = dayjsValue.value)[col]) === null || _dayjsValue$value$col === void 0 ? void 0 : _dayjsValue$value$col.call(_dayjsValue$value, val).format(format.value);else formattedVal = dayjsValue.value.format(format.value);\n      } else {\n        var currentHour = dayjsValue.value.hour();\n        if (meridiem === AM && currentHour >= 12) {\n          formattedVal = dayjsValue.value.hour(currentHour - 12).format(format.value);\n        } else if (meridiem === PM && currentHour < 12) {\n          formattedVal = dayjsValue.value.hour(currentHour + 12).format(format.value);\n        } else {\n          formattedVal = dayjsValue.value.format(format.value);\n        }\n      }\n      if (formattedVal !== value.value) (_props$onChange = props.onChange) === null || _props$onChange === void 0 || _props$onChange.call(props, formattedVal, e);\n      if (distance !== scrollTop) {\n        var _scrollCtrl$scrollTo;\n        var scrollCtrl = colsRef[cols.value.indexOf(col)];\n        if (!scrollCtrl || scrollCtrl.scrollTop === distance) return;\n        (_scrollCtrl$scrollTo = scrollCtrl.scrollTo) === null || _scrollCtrl$scrollTo === void 0 || _scrollCtrl$scrollTo.call(scrollCtrl, {\n          top: distance,\n          behavior: \"smooth\"\n        });\n      }\n    };\n    var scrollToTime = function scrollToTime(col, time, idx) {\n      var _scrollCtrl$scrollTo2;\n      var behavior = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"auto\";\n      var distance = getScrollDistance(col, time);\n      var scrollCtrl = colsRef[idx];\n      if (!scrollCtrl || scrollCtrl.scrollTop === distance || !timeItemCanUsed(col, time)) return;\n      (_scrollCtrl$scrollTo2 = scrollCtrl.scrollTo) === null || _scrollCtrl$scrollTo2 === void 0 || _scrollCtrl$scrollTo2.call(scrollCtrl, {\n        top: distance,\n        behavior: behavior\n      });\n    };\n    var handleTimeItemClick = function handleTimeItemClick(col, el, idx, e) {\n      if (!timeItemCanUsed(col, el)) return;\n      if (timeArr.includes(col)) {\n        if (col === EPickerCols.hour && dayjsValue.value.format(\"a\") === PM && cols.value.includes(EPickerCols.meridiem)) {\n          el = Number(el) + 12;\n        }\n        scrollToTime(col, el, idx, \"smooth\");\n      } else {\n        var currentHour = dayjsValue.value.hour();\n        if (el === AM && currentHour >= 12) {\n          var _props$onChange2;\n          (_props$onChange2 = props.onChange) === null || _props$onChange2 === void 0 || _props$onChange2.call(props, dayjsValue.value.hour(currentHour - 12).format(format.value), e);\n        } else if (el === PM && currentHour < 12) {\n          var _props$onChange3;\n          (_props$onChange3 = props.onChange) === null || _props$onChange3 === void 0 || _props$onChange3.call(props, dayjsValue.value.hour(currentHour + 12).format(format.value), e);\n        }\n      }\n    };\n    var updateTimeScrollPos = function updateTimeScrollPos() {\n      var isAutoScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var behavior = value.value && !isAutoScroll ? \"smooth\" : \"auto\";\n      var isStepsSet = !!steps.value.filter(function (step) {\n        return Number(step) > 1;\n      }).length;\n      nextTick(function () {\n        cols.value.forEach(function (col, idx) {\n          if (!isStepsSet || isStepsSet && value.value) {\n            var _dayjsValue$value$col2, _dayjsValue$value2;\n            scrollToTime(col, timeArr.includes(col) ? (_dayjsValue$value$col2 = (_dayjsValue$value2 = dayjsValue.value)[col]) === null || _dayjsValue$value$col2 === void 0 ? void 0 : _dayjsValue$value$col2.call(_dayjsValue$value2) : dayjsValue.value.format(\"a\"), idx, behavior);\n          } else {\n            var _getColList;\n            scrollToTime(col, (_getColList = getColList(col)) === null || _getColList === void 0 ? void 0 : _getColList[0], idx, behavior);\n          }\n        });\n      });\n      props.resetTriggerScroll();\n    };\n    var isCurrent = function isCurrent(col, colItem) {\n      var _dayjsValue$value$col3, _dayjsValue$value3;\n      var colVal;\n      if (col === EPickerCols.meridiem) {\n        var currentMeridiem = dayjsValue.value.format(\"a\");\n        return currentMeridiem === colItem;\n      }\n      colVal = (_dayjsValue$value$col3 = (_dayjsValue$value3 = dayjsValue.value)[col]) === null || _dayjsValue$value$col3 === void 0 ? void 0 : _dayjsValue$value$col3.call(_dayjsValue$value3);\n      if (col === EPickerCols.hour && /[h]{1}/.test(format.value)) {\n        colVal %= 12;\n      }\n      return colVal === Number(colItem);\n    };\n    return function () {\n      var _cols$value$map, _cols$value, _cols$value$map2, _cols$value2;\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"-body\"),\n        \"ref\": bodyRef\n      }, [createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"-body-active-mask\"),\n        \"ref\": maskRef\n      }, [(_cols$value$map = (_cols$value = cols.value).map) === null || _cols$value$map === void 0 ? void 0 : _cols$value$map.call(_cols$value, function (col, idx) {\n        return createVNode(\"div\", {\n          \"key\": \"\".concat(col, \"_\").concat(idx)\n        }, null);\n      })]), (_cols$value$map2 = (_cols$value2 = cols.value).map) === null || _cols$value$map2 === void 0 ? void 0 : _cols$value$map2.call(_cols$value2, function (col, idx) {\n        return createVNode(\"ul\", {\n          \"key\": \"\".concat(col, \"_\").concat(idx),\n          \"ref\": function ref(el) {\n            return colsRef[idx] = el;\n          },\n          \"class\": \"\".concat(COMPONENT_NAME.value, \"-body-scroll\"),\n          \"onScroll\": debounce_1(function (e) {\n            return handleScroll(col, idx, e);\n          }, 50)\n        }, [getColList(col).map(function (el) {\n          return createVNode(\"li\", {\n            \"key\": el,\n            \"class\": [\"\".concat(COMPONENT_NAME.value, \"-body-scroll-item\"), _defineProperty(_defineProperty({}, STATUS.value.disabled, !timeItemCanUsed(col, el)), STATUS.value.current, isCurrent(col, el))],\n            \"onClick\": function onClick(e) {\n              return handleTimeItemClick(col, el, idx, e);\n            }\n          }, [timeArr.includes(col) ? TWELVE_HOUR_FORMAT.test(format.value) && col === EPickerCols.hour && el === \"00\" ? \"12\" : el : globalConfig.value[el === AM ? \"anteMeridiem\" : \"postMeridiem\"]]);\n        })]);\n      })]);\n    };\n  }\n});\nexport { SinglePanel as default };","map":{"version":3,"names":["nativeCeil$1","Math","ceil","nativeMax","max","baseRange$1","start","end","step","fromRight","index","length","result","Array","_baseRange","baseRange","isIterateeCall","_isIterateeCall","toFinite","toFinite_1","createRange$1","undefined","_createRange","createRange","range","range_1","MAX_SAFE_INTEGER","nativeFloor","floor","baseRepeat$1","string","n","_baseRepeat","baseProperty","_baseProperty","asciiSize$1","_asciiSize","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","rsZWJ","reOptMod","rsOptVar","rsOptJoin","join","rsSeq","rsSymbol","reUnicode","RegExp","unicodeSize$1","lastIndex","test","_unicodeSize","asciiSize","hasUnicode$1","_hasUnicode","unicodeSize","stringSize$2","_stringSize","baseRepeat","baseToString","_baseToString","castSlice","_castSlice","hasUnicode","stringSize$1","stringToArray","_stringToArray","nativeCeil","createPadding$1","chars","charsLength","slice","_createPadding","createPadding","stringSize","toInteger","toInteger_1","toString","toString_1","padStart","strLength","padStart_1","dayjs","extend","customParseFormat","timeArr","EPickerCols","hour","minute","second","milliSecond","panelOffset","top","bottom","SinglePanel","defineComponent","name","props","_objectSpread","panelColProps","position","String","triggerScroll","Boolean","onChange","Function","resetTriggerScroll","isShowPanel","setup","_useConfig","useConfig","globalConfig","COMPONENT_NAME","usePrefixClass","_useCommonClassName","useCommonClassName","STATUS","_toRefs","toRefs","steps","value","format","cols","ref","bodyRef","maskRef","colsRef","reactive","dayjsValue","computed","isStepsSet","filter","Number","watch","updateTimeScrollPos","onMounted","getPickerCols","getItemHeight","_maskRef$value","maskDom","querySelector","offsetHeight","margin","parseFloat","getComputedStyle","height","marginTop","timeItemCanUsed","col","el","colIdx","indexOf","_props$disableTime","params","millisecond","disableTime","call","apply","concat","partial","includes","getColList","count","colStep","TWELVE_HOUR_FORMAT","colList","map","v","hideDisabledTime","t","_props$disableTime2","MERIDIEM_LIST","getScrollDistance","time","itemIdx","_getItemHeight","timeItemTotalHeight","distance","abs","handleScroll","idx","e","_colsRef$idx","_props$onChange","val","formattedVal","scrollTop","_getItemHeight2","round","meridiem","min","toLowerCase","isNaN","availableArr","closestLookup","isValid","_dayjsValue$value$col","_dayjsValue$value","currentHour","AM","PM","_scrollCtrl$scrollTo","scrollCtrl","scrollTo","behavior","scrollToTime","_scrollCtrl$scrollTo2","arguments","handleTimeItemClick","_props$onChange2","_props$onChange3","isAutoScroll","nextTick","forEach","_dayjsValue$value$col2","_dayjsValue$value2","_getColList","isCurrent","colItem","_dayjsValue$value$col3","_dayjsValue$value3","colVal","currentMeridiem","_cols$value$map","_cols$value","_cols$value$map2","_cols$value2","createVNode","debounce_1","_defineProperty","disabled","current","onClick"],"sources":["../../../node_modules/lodash/_baseRange.js","../../../node_modules/lodash/_createRange.js","../../../node_modules/lodash/range.js","../../../node_modules/lodash/_baseRepeat.js","../../../node_modules/lodash/_asciiSize.js","../../../node_modules/lodash/_unicodeSize.js","../../../node_modules/lodash/_stringSize.js","../../../node_modules/lodash/_createPadding.js","../../../node_modules/lodash/padStart.js","../../../src/time-picker/panel/single-panel.tsx"],"sourcesContent":["/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor;\n\n/**\n * The base implementation of `_.repeat` which doesn't coerce arguments.\n *\n * @private\n * @param {string} string The string to repeat.\n * @param {number} n The number of times to repeat the string.\n * @returns {string} Returns the repeated string.\n */\nfunction baseRepeat(string, n) {\n  var result = '';\n  if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n    return result;\n  }\n  // Leverage the exponentiation by squaring algorithm for a faster repeat.\n  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n  do {\n    if (n % 2) {\n      result += string;\n    }\n    n = nativeFloor(n / 2);\n    if (n) {\n      string += string;\n    }\n  } while (n);\n\n  return result;\n}\n\nmodule.exports = baseRepeat;\n","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n","var baseRepeat = require('./_baseRepeat'),\n    baseToString = require('./_baseToString'),\n    castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    stringSize = require('./_stringSize'),\n    stringToArray = require('./_stringToArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\n\n/**\n * Creates the padding for `string` based on `length`. The `chars` string\n * is truncated if the number of characters exceeds `length`.\n *\n * @private\n * @param {number} length The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padding for `string`.\n */\nfunction createPadding(length, chars) {\n  chars = chars === undefined ? ' ' : baseToString(chars);\n\n  var charsLength = chars.length;\n  if (charsLength < 2) {\n    return charsLength ? baseRepeat(chars, length) : chars;\n  }\n  var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n  return hasUnicode(chars)\n    ? castSlice(stringToArray(result), 0, length).join('')\n    : result.slice(0, length);\n}\n\nmodule.exports = createPadding;\n","var createPadding = require('./_createPadding'),\n    stringSize = require('./_stringSize'),\n    toInteger = require('./toInteger'),\n    toString = require('./toString');\n\n/**\n * Pads `string` on the left side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padStart('abc', 6);\n * // => '   abc'\n *\n * _.padStart('abc', 6, '_-');\n * // => '_-_abc'\n *\n * _.padStart('abc', 3);\n * // => 'abc'\n */\nfunction padStart(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (createPadding(length - strLength, chars) + string)\n    : string;\n}\n\nmodule.exports = padStart;\n","import { computed, defineComponent, ref, watch, toRefs, onMounted, reactive, nextTick } from 'vue';\nimport debounce from 'lodash/debounce';\nimport range from 'lodash/range';\nimport padStart from 'lodash/padStart';\nimport dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\n\nimport { panelColProps } from './props';\nimport { EPickerCols, TWELVE_HOUR_FORMAT, AM, PM, MERIDIEM_LIST } from '../../_common/js/time-picker/const';\nimport { closestLookup, getPickerCols } from '../../_common/js/time-picker/utils';\nimport { useCommonClassName, useConfig, usePrefixClass } from '../../hooks/useConfig';\n\ndayjs.extend(customParseFormat);\n\nconst timeArr = [EPickerCols.hour, EPickerCols.minute, EPickerCols.second, EPickerCols.milliSecond];\n\nconst panelOffset = {\n  top: 15,\n  bottom: 21,\n};\n\nexport default defineComponent({\n  name: 'TTimePickerPanelCol',\n  props: {\n    ...panelColProps(),\n    position: String,\n    triggerScroll: Boolean,\n    onChange: Function,\n    resetTriggerScroll: Function,\n    isShowPanel: Boolean,\n  },\n\n  setup(props) {\n    const { globalConfig } = useConfig('timePicker');\n    const COMPONENT_NAME = usePrefixClass('time-picker__panel');\n    const { STATUS } = useCommonClassName();\n\n    const { steps, value, format, position, triggerScroll } = toRefs(props);\n\n    const cols = ref<Array<EPickerCols>>([]);\n    const bodyRef = ref();\n    const maskRef = ref(null);\n    // 每个滚动列的ref 顺序不定 所以只要有5列标识即可\n    const colsRef = reactive({ 0: null, 1: null, 2: null, 3: null, 4: null, 5: null });\n\n    const dayjsValue = computed(() => {\n      const isStepsSet = !!steps.value.filter((step) => Number(step) > 1).length;\n\n      if (value.value) return dayjs(value.value, format.value);\n\n      if (isStepsSet) return dayjs().hour(0).minute(0).second(0);\n\n      return dayjs();\n    });\n\n    // 面板打开时 触发滚动 初始化面板\n    watch(\n      () => dayjsValue.value,\n      () => {\n        if (dayjsValue.value && value.value) updateTimeScrollPos(true);\n      },\n    );\n\n    // 时间通过外部触发时 同样触发滚动\n    watch(\n      () => triggerScroll.value,\n      () => {\n        if (triggerScroll.value) {\n          updateTimeScrollPos(true);\n        }\n      },\n    );\n\n    onMounted(() => {\n      cols.value = getPickerCols(format.value);\n    });\n\n    // 获取每个时间的高度\n    const getItemHeight = () => {\n      const maskDom = maskRef.value?.querySelector('div');\n      if (!maskDom) {\n        return {\n          offsetHeight: 0,\n          margin: 0,\n        };\n      }\n      return {\n        offsetHeight: parseFloat(getComputedStyle(maskDom).height),\n        margin: parseFloat(getComputedStyle(maskDom).marginTop),\n      };\n    };\n\n    const timeItemCanUsed = (col: EPickerCols, el: string | number) => {\n      const colIdx = timeArr.indexOf(col);\n      if (colIdx !== -1) {\n        const params: [number, number, number, number] = [\n          dayjsValue.value.hour(),\n          dayjsValue.value.minute(),\n          dayjsValue.value.second(),\n          dayjsValue.value.millisecond(),\n        ];\n        params[colIdx] = Number(el);\n        return !props.disableTime?.(...params, { partial: position.value || 'start' })?.[col]?.includes(Number(el));\n      }\n      return true;\n    };\n\n    // 获取需要渲染的column\n    const getColList = (col: EPickerCols) => {\n      let count = 0;\n\n      if (timeArr.includes(col)) {\n        // hour、minute and second columns\n        const colIdx = timeArr.indexOf(col);\n        const colStep = steps.value[colIdx] || 1;\n\n        if (col === EPickerCols.hour)\n          count = TWELVE_HOUR_FORMAT.test(format.value) ? 11 : 23; // 小时最大为23 12小时制最大为11\n        else if (col === EPickerCols.milliSecond) count = 999; // 毫秒最大为999\n        else count = 59;\n\n        const colList = range(0, count + 1, Number(colStep)).map((v) => padStart(String(v), 2, '0')) || [];\n        return props.hideDisabledTime && !!props.disableTime\n          ? colList.filter((t) => {\n              const params: [number, number, number, number] = [\n                dayjsValue.value.hour(),\n                dayjsValue.value.minute(),\n                dayjsValue.value.second(),\n                dayjsValue.value.millisecond(),\n              ];\n              params[colIdx] = Number(t);\n              return !props\n                .disableTime?.(...params, { partial: position.value || 'start' })\n                ?.[col]?.includes(Number(t));\n            })\n          : colList;\n      }\n      // meridiem column\n      return MERIDIEM_LIST;\n    };\n\n    const getScrollDistance = (col: EPickerCols, time: number | string) => {\n      if (col === EPickerCols.hour && /[h]{1}/.test(format.value))\n        // eslint-disable-next-line no-param-reassign\n        (time as number) %= 12; // 一定是数字，直接cast\n\n      const itemIdx = getColList(col).indexOf(padStart(String(time), 2, '0'));\n      const { offsetHeight, margin } = getItemHeight();\n      const timeItemTotalHeight = offsetHeight + margin;\n      const distance = Math.abs(Math.max(0, itemIdx) * timeItemTotalHeight);\n      return distance;\n    };\n\n    const handleScroll = (col: EPickerCols, idx: number, e: MouseEvent) => {\n      let val: number | string;\n      let formattedVal: string;\n      if (!props.isShowPanel) return;\n\n      const scrollTop = (colsRef[idx]?.scrollTop || 0) + panelOffset.top;\n      const { offsetHeight, margin } = getItemHeight();\n      const timeItemTotalHeight = offsetHeight + margin;\n      let colStep = Math.abs(Math.round(scrollTop / timeItemTotalHeight + 0.5));\n\n      const meridiem = MERIDIEM_LIST[Math.min(colStep - 1, 1)].toLowerCase(); // 处理PM、AM与am、pm\n\n      if (Number.isNaN(colStep)) colStep = 1;\n      if (timeArr.includes(col)) {\n        // hour、minute、 second and milliSecond\n        let max = 59;\n        if (col === EPickerCols.hour) max = /[h]{1}/.test(format.value) ? 11 : 23; // 小时最大为23 12小时制最大为11\n        else if (col === EPickerCols.milliSecond) max = 999; // 毫秒最大为999\n\n        const colIdx = timeArr.indexOf(col);\n        const availableArr = range(0, max + 1, Number(steps.value[colIdx]) || 1);\n        val = closestLookup(\n          availableArr,\n          Number(getColList(col)[Math.min(colStep - 1, max + 1, availableArr.length - 1)]),\n          Number(steps.value[colIdx]) || 1,\n        );\n        if (Number.isNaN(val)) val = availableArr[availableArr.length - 1];\n        if (col === EPickerCols.hour && cols.value.includes(EPickerCols.meridiem) && dayjsValue.value.hour() >= 12) {\n          // 如果是十二小时制需要再判断\n          val = Number(val) + 12;\n        }\n      }\n      // meridiem columns\n      else val = meridiem;\n\n      const distance = getScrollDistance(col, val);\n      if (!dayjs(dayjsValue.value).isValid() || (value.value && !dayjs(value.value, format.value, true).isValid()))\n        return;\n\n      if (timeArr.includes(col)) {\n        if (timeItemCanUsed(col, val)) formattedVal = dayjsValue.value[col]?.(val).format(format.value);\n        else formattedVal = dayjsValue.value.format(format.value);\n      } else {\n        const currentHour = dayjsValue.value.hour();\n        if (meridiem === AM && currentHour >= 12) {\n          formattedVal = dayjsValue.value.hour(currentHour - 12).format(format.value);\n        } else if (meridiem === PM && currentHour < 12) {\n          formattedVal = dayjsValue.value.hour(currentHour + 12).format(format.value);\n        } else {\n          formattedVal = dayjsValue.value.format(format.value);\n        }\n      }\n      if (formattedVal !== value.value) props.onChange?.(formattedVal, e);\n\n      if (distance !== scrollTop) {\n        const scrollCtrl = colsRef[cols.value.indexOf(col)];\n\n        if (!scrollCtrl || scrollCtrl.scrollTop === distance) return;\n\n        scrollCtrl.scrollTo?.({\n          top: distance,\n          behavior: 'smooth',\n        });\n      }\n    };\n\n    const scrollToTime = (\n      col: EPickerCols,\n      time: number | string,\n      idx: number,\n      behavior: 'auto' | 'smooth' = 'auto',\n    ) => {\n      const distance = getScrollDistance(col, time);\n      const scrollCtrl = colsRef[idx];\n      if (!scrollCtrl || scrollCtrl.scrollTop === distance || !timeItemCanUsed(col, time)) return;\n\n      scrollCtrl.scrollTo?.({\n        top: distance,\n        behavior,\n      });\n    };\n\n    const handleTimeItemClick = (col: EPickerCols, el: string | number, idx: number, e: MouseEvent) => {\n      if (!timeItemCanUsed(col, el)) return;\n      if (timeArr.includes(col)) {\n        if (\n          col === EPickerCols.hour &&\n          dayjsValue.value.format('a') === PM &&\n          cols.value.includes(EPickerCols.meridiem)\n        ) {\n          // eslint-disable-next-line no-param-reassign\n          el = Number(el) + 12;\n        }\n        scrollToTime(col, el, idx, 'smooth');\n      } else {\n        const currentHour = dayjsValue.value.hour();\n        if (el === AM && currentHour >= 12) {\n          props.onChange?.(dayjsValue.value.hour(currentHour - 12).format(format.value), e);\n        } else if (el === PM && currentHour < 12) {\n          props.onChange?.(dayjsValue.value.hour(currentHour + 12).format(format.value), e);\n        }\n      }\n    };\n\n    // update each columns scroll distance\n    const updateTimeScrollPos = (isAutoScroll = false) => {\n      const behavior = value.value && !isAutoScroll ? 'smooth' : 'auto';\n      const isStepsSet = !!steps.value.filter((step) => Number(step) > 1).length;\n      nextTick(() => {\n        cols.value.forEach((col: EPickerCols, idx: number) => {\n          if (!isStepsSet || (isStepsSet && value.value)) {\n            // 如果没有设置大于1的steps或设置了大于1的step 正常处理滚动\n            scrollToTime(\n              col,\n              timeArr.includes(col) ? dayjsValue.value[col]?.() : dayjsValue.value.format('a'),\n              idx,\n              behavior,\n            );\n          } else {\n            // 否则初始化到每列第一个选项\n            scrollToTime(col, getColList(col)?.[0], idx, behavior);\n          }\n        });\n      });\n\n      props.resetTriggerScroll();\n    };\n\n    const isCurrent = (col: EPickerCols, colItem: string | number) => {\n      let colVal: number;\n      if (col === EPickerCols.meridiem) {\n        const currentMeridiem = dayjsValue.value.format('a');\n        return currentMeridiem === colItem;\n      }\n      colVal = dayjsValue.value[col]?.();\n      if (col === EPickerCols.hour && /[h]{1}/.test(format.value)) {\n        colVal %= 12;\n      }\n      return colVal === Number(colItem);\n    };\n\n    return () => (\n      <div class={`${COMPONENT_NAME.value}-body`} ref={bodyRef}>\n        <div class={`${COMPONENT_NAME.value}-body-active-mask`} ref={maskRef}>\n          {/* 渲染遮罩层 */}\n          {cols.value.map?.((col, idx) => (\n            <div key={`${col}_${idx}`} />\n          ))}\n        </div>\n        {/* 渲染实际滚动列 */}\n        {cols.value.map?.((col, idx) => (\n          <ul\n            key={`${col}_${idx}`}\n            ref={(el) => (colsRef[idx] = el)}\n            class={`${COMPONENT_NAME.value}-body-scroll`}\n            onScroll={debounce((e) => handleScroll(col, idx, e), 50)}\n          >\n            {getColList(col).map((el) => (\n              <li\n                key={el}\n                class={[\n                  `${COMPONENT_NAME.value}-body-scroll-item`,\n                  {\n                    [STATUS.value.disabled]: !timeItemCanUsed(col, el),\n                    [STATUS.value.current]: isCurrent(col, el),\n                  },\n                ]}\n                onClick={(e) => handleTimeItemClick(col, el, idx, e)}\n              >\n                {/* eslint-disable-next-line no-nested-ternary */}\n                {timeArr.includes(col)\n                  ? TWELVE_HOUR_FORMAT.test(format.value) && col === EPickerCols.hour && el === '00'\n                    ? '12'\n                    : el\n                  : globalConfig.value[el === AM ? 'anteMeridiem' : 'postMeridiem']}\n              </li>\n            ))}\n          </ul>\n        ))}\n      </div>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}