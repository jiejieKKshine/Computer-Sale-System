{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _toConsumableArray } from '../../_chunks/dep-4a990ea3.mjs';\nimport { _ as _defineProperty } from '../../_chunks/dep-fa52aa21.mjs';\nimport { isVNode, defineComponent, toRefs, computed, createVNode, mergeProps, Fragment } from 'vue';\nimport { AddIcon, BrowseIcon, DeleteIcon, ErrorCircleFilledIcon } from 'tdesign-icons-vue-next';\nimport { Loading } from '../../loading/index.mjs';\nimport { useGlobalIcon } from '../../hooks/useGlobalIcon.mjs';\nimport { ImageViewer } from '../../image-viewer/index.mjs';\nimport { commonProps } from '../constants.mjs';\nimport { abridgeName } from '../../_common/js/upload/utils.mjs';\nimport '../../hooks/index.mjs';\nimport { Link } from '../../link/index.mjs';\nimport { Image } from '../../image/index.mjs';\nimport { useTNodeJSX } from '../../hooks/tnode.mjs';\nimport '../../_chunks/dep-593f2b67.mjs';\nimport '../../_chunks/dep-4659d73b.mjs';\nimport '../../_chunks/dep-bff7e93a.mjs';\nimport '../../_chunks/dep-2b09875b.mjs';\nimport '../../_chunks/dep-eca422c3.mjs';\nimport '../../_chunks/dep-49aeee3c.mjs';\nimport '../../_chunks/dep-b5bf85f5.mjs';\nimport '../../_chunks/dep-6dc3d0e1.mjs';\nimport '../../_chunks/dep-06dcbf4c.mjs';\nimport '../../_chunks/dep-bf7257e7.mjs';\nimport '../../_chunks/dep-cda4f568.mjs';\nimport '../../_chunks/dep-76958824.mjs';\nimport '../../_chunks/dep-e9841b9e.mjs';\nimport '../../_chunks/dep-1b9718a2.mjs';\nimport '../../_chunks/dep-92f86d1d.mjs';\nimport '../../_chunks/dep-6ab5363f.mjs';\nimport '../../_chunks/dep-1a4bb2f2.mjs';\nimport '../../_chunks/dep-cc8ebcde.mjs';\nimport '../../_chunks/dep-29ef8419.mjs';\nimport '../../_chunks/dep-f5579c03.mjs';\nimport '../../_chunks/dep-3c65fae8.mjs';\nimport '../../_chunks/dep-eae2a67e.mjs';\nimport '../../_chunks/dep-626c497d.mjs';\nimport '../../_chunks/dep-ec0bbd9f.mjs';\nimport '../../_chunks/dep-e065dc25.mjs';\nimport '../../_chunks/dep-400ec705.mjs';\nimport '../../_chunks/dep-02f9394e.mjs';\nimport '../../_chunks/dep-1725b1c7.mjs';\nimport '../../_chunks/dep-532409c5.mjs';\nimport '../../_common/js/global-config/default-config.mjs';\nimport '../../_common/js/global-config/locale/zh_CN.mjs';\nimport '../../_chunks/dep-9ed7da3e.mjs';\nimport '../../_chunks/dep-7f65fc46.mjs';\nimport '../../_chunks/dep-4f2cabb0.mjs';\nimport '../../_chunks/dep-5922c8f3.mjs';\nimport '../../_chunks/dep-1b78414a.mjs';\nimport '../../_chunks/dep-d84f19b3.mjs';\nimport '../../_chunks/dep-732f0b7d.mjs';\nimport '../../_chunks/dep-0b414bea.mjs';\nimport '../../_chunks/dep-4d4e2af1.mjs';\nimport '../../_chunks/dep-fbd4eddb.mjs';\nimport '../../_chunks/dep-ae202bc0.mjs';\nimport '../../_chunks/dep-aeaef131.mjs';\nimport '../../_chunks/dep-ab4bb9b8.mjs';\nimport '../../_chunks/dep-7932c2e8.mjs';\nimport '../../_chunks/dep-69e0f6fc.mjs';\nimport '../../_chunks/dep-ea20409b.mjs';\nimport '../../loading/plugin.mjs';\nimport '../../loading/loading.mjs';\nimport '../../_chunks/dep-5efe53d1.mjs';\nimport '../../loading/icon/gradient.mjs';\nimport '../../_common/js/loading/circle-adapter.mjs';\nimport '../../_common/js/utils/set-style.mjs';\nimport '../../_common/js/utils/helper.mjs';\nimport '../../_chunks/dep-5d3f7c0e.mjs';\nimport '../../_chunks/dep-03a7fb6c.mjs';\nimport '../../_chunks/dep-73384992.mjs';\nimport '../../_chunks/dep-58a62202.mjs';\nimport '../../_chunks/dep-889e457b.mjs';\nimport '../../hooks/useConfig.mjs';\nimport '../../config-provider/useConfig.mjs';\nimport '../../_chunks/dep-bb899bfd.mjs';\nimport '../../config-provider/type.mjs';\nimport '../../utils/dom.mjs';\nimport '../../utils/easing.mjs';\nimport '../../utils/render-tnode.mjs';\nimport '../../_chunks/dep-b91a8171.mjs';\nimport '../../_chunks/dep-03ad9cda.mjs';\nimport '../../_chunks/dep-d8a34055.mjs';\nimport '../../_chunks/dep-2f6e28a0.mjs';\nimport '../../_chunks/dep-5a17bf21.mjs';\nimport '../../_chunks/dep-bad871d5.mjs';\nimport '../../loading/props.mjs';\nimport '../../hooks/useTeleport.mjs';\nimport '../../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../../loading/type.mjs';\nimport '../../image-viewer/image-viewer.mjs';\nimport '../../hooks/useDefaultValue.mjs';\nimport '../../hooks/usePopupManager.mjs';\nimport '../../_chunks/dep-f909a041.mjs';\nimport '../../hooks/useVModel.mjs';\nimport '../../image-viewer/base/ImageItem.mjs';\nimport '../../_chunks/dep-0d047dce.mjs';\nimport '../../hooks/useImagePreviewUrl.mjs';\nimport '../../_common/js/log/log.mjs';\nimport '../../image-viewer/hooks.mjs';\nimport '../../_common/js/input-number/number.mjs';\nimport '../../_common/js/input-number/large-number.mjs';\nimport '../../_common/js/log/index.mjs';\nimport '../../_chunks/dep-525a54df.mjs';\nimport '../../_chunks/dep-5993931e.mjs';\nimport '../../_chunks/dep-8dfc9324.mjs';\nimport '../../image-viewer/base/ImageModalIcon.mjs';\nimport '../../image-viewer/base/ImageViewerModal.mjs';\nimport '../../dialog/index.mjs';\nimport '../../dialog/dialog.mjs';\nimport '../../dialog/props.mjs';\nimport '../../dialog/hooks.mjs';\nimport '../../_chunks/dep-88ae49da.mjs';\nimport '../../_chunks/dep-88c8d9ed.mjs';\nimport '../../_chunks/dep-4ec29b23.mjs';\nimport '../../button/index.mjs';\nimport '../../button/button.mjs';\nimport '../../button/props.mjs';\nimport '../../hooks/useRipple.mjs';\nimport '../../hooks/useKeepAnimation.mjs';\nimport '../../utils/set-style.mjs';\nimport '../../hooks/useDisabled.mjs';\nimport '../../_chunks/dep-df472119.mjs';\nimport '../../button/type.mjs';\nimport '../../hooks/useDestroyOnClose.mjs';\nimport '../../_common/js/utils/getScrollbarWidth.mjs';\nimport '../../dialog/type.mjs';\nimport '../../dialog/plugin.mjs';\nimport '../../image-viewer/props.mjs';\nimport '../../image-viewer/base/ImageViewerUtils.mjs';\nimport '../../tooltip/index.mjs';\nimport '../../tooltip/tooltip.mjs';\nimport '../../tooltip/props.mjs';\nimport '../../popup/props.mjs';\nimport '../../popup/index.mjs';\nimport '../../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../../popup/container.mjs';\nimport '../../hooks/useResizeObserver.mjs';\nimport '../../hooks/icon.mjs';\nimport '../../hooks/slot.mjs';\nimport '../../hooks/useCommonClassName.mjs';\nimport '../../hooks/useVirtualScroll.mjs';\nimport '../../popup/type.mjs';\nimport '../../tooltip/util.mjs';\nimport '../../tooltip/type.mjs';\nimport '../../image-viewer/utils.mjs';\nimport '../../image-viewer/const.mjs';\nimport '../../image/image.mjs';\nimport '../../_common/js/utils/observe.mjs';\nimport '../../image/props.mjs';\nimport '../../space/index.mjs';\nimport '../../space/space.mjs';\nimport '../../space/props.mjs';\nimport '../../space/type.mjs';\nimport '../../image/type.mjs';\nimport '../../image-viewer/type.mjs';\nimport '../../link/link.mjs';\nimport '../../link/props.mjs';\nimport '../../link/type.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar ImageCard = defineComponent({\n  name: \"UploadImageCard\",\n  props: _objectSpread(_objectSpread({}, commonProps), {}, {\n    multiple: Boolean,\n    max: Number,\n    disabled: Boolean,\n    showUploadProgress: Boolean,\n    triggerUpload: Function,\n    uploadFiles: Function,\n    cancelUpload: Function,\n    onPreview: Function,\n    showImageFileName: Boolean\n  }),\n  setup: function setup(props) {\n    var _toRefs = toRefs(props),\n      displayFiles = _toRefs.displayFiles,\n      classPrefix = _toRefs.classPrefix,\n      multiple = _toRefs.multiple,\n      max = _toRefs.max;\n    var locale = computed(function () {\n      return props.locale;\n    });\n    var _useGlobalIcon = useGlobalIcon({\n        AddIcon: AddIcon,\n        BrowseIcon: BrowseIcon,\n        DeleteIcon: DeleteIcon,\n        ErrorCircleFilledIcon: ErrorCircleFilledIcon\n      }),\n      BrowseIcon$1 = _useGlobalIcon.BrowseIcon,\n      DeleteIcon$1 = _useGlobalIcon.DeleteIcon,\n      AddIcon$1 = _useGlobalIcon.AddIcon,\n      ErrorCircleFilledIcon$1 = _useGlobalIcon.ErrorCircleFilledIcon;\n    var renderTNodeJSX = useTNodeJSX();\n    var showTrigger = computed(function () {\n      var _displayFiles$value;\n      if (multiple.value) {\n        return !max.value || displayFiles.value.length < max.value;\n      }\n      return !((_displayFiles$value = displayFiles.value) !== null && _displayFiles$value !== void 0 && _displayFiles$value[0]);\n    });\n    var renderMainContent = function renderMainContent(file, index) {\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-upload__card-content \").concat(classPrefix.value, \"-upload__card-box\")\n      }, [createVNode(Image, {\n        \"class\": \"\".concat(classPrefix.value, \"-upload__card-image\"),\n        \"src\": file.url || file.raw,\n        \"error\": \"\"\n      }, null), createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-upload__card-mask\")\n      }, [createVNode(\"span\", {\n        \"class\": \"\".concat(classPrefix.value, \"-upload__card-mask-item\"),\n        \"onClick\": function onClick(e) {\n          return e.stopPropagation();\n        }\n      }, [createVNode(ImageViewer, mergeProps({\n        \"images\": displayFiles.value.map(function (t) {\n          return t.url || t.raw;\n        }),\n        \"defaultIndex\": index,\n        \"trigger\": function trigger(h, _ref) {\n          var open = _ref.open;\n          return createVNode(BrowseIcon$1, {\n            \"onClick\": function onClick(_ref2) {\n              var _props$onPreview;\n              var e = _ref2.e;\n              (_props$onPreview = props.onPreview) === null || _props$onPreview === void 0 || _props$onPreview.call(props, {\n                file: file,\n                index: index,\n                e: e\n              });\n              open();\n            }\n          }, null);\n        }\n      }, props.imageViewerProps), null)]), !props.disabled && createVNode(Fragment, null, [createVNode(\"span\", {\n        \"class\": \"\".concat(classPrefix.value, \"-upload__card-mask-item-divider\")\n      }, null), createVNode(\"span\", {\n        \"class\": \"\".concat(classPrefix.value, \"-upload__card-mask-item\"),\n        \"onClick\": function onClick(e) {\n          return e.stopPropagation();\n        }\n      }, [createVNode(DeleteIcon$1, {\n        \"onClick\": function onClick(_ref3) {\n          var _props$onRemove;\n          var e = _ref3.e;\n          return props === null || props === void 0 || (_props$onRemove = props.onRemove) === null || _props$onRemove === void 0 ? void 0 : _props$onRemove.call(props, {\n            e: e,\n            file: file,\n            index: index\n          });\n        }\n      }, null)])])])]);\n    };\n    var renderProgressFile = function renderProgressFile(file, loadCard) {\n      var _locale$value;\n      return createVNode(\"div\", {\n        \"class\": [loadCard, \"\".concat(classPrefix.value, \"-upload__\").concat(props.theme, \"-\").concat(file.status)]\n      }, [createVNode(Loading, {\n        \"loading\": true,\n        \"size\": \"medium\"\n      }, null), createVNode(\"p\", null, [(_locale$value = locale.value) === null || _locale$value === void 0 || (_locale$value = _locale$value.progress) === null || _locale$value === void 0 ? void 0 : _locale$value.uploadingText, props.showUploadProgress ? \" \".concat(file.percent, \"%\") : \"\"])]);\n    };\n    var renderFailFile = function renderFailFile(file, index, loadCard) {\n      var _file$response, _locale$value2;\n      return createVNode(\"div\", {\n        \"class\": loadCard\n      }, [createVNode(ErrorCircleFilledIcon$1, null, null), createVNode(\"p\", null, [((_file$response = file.response) === null || _file$response === void 0 ? void 0 : _file$response.error) || ((_locale$value2 = locale.value) === null || _locale$value2 === void 0 || (_locale$value2 = _locale$value2.progress) === null || _locale$value2 === void 0 ? void 0 : _locale$value2.failText)]), createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-upload__card-mask\")\n      }, [createVNode(\"span\", {\n        \"class\": \"\".concat(classPrefix.value, \"-upload__card-mask-item\"),\n        \"onClick\": function onClick(e) {\n          return e.stopPropagation();\n        }\n      }, [createVNode(DeleteIcon$1, {\n        \"onClick\": function onClick(_ref4) {\n          var _props$onRemove2;\n          var e = _ref4.e;\n          return props === null || props === void 0 || (_props$onRemove2 = props.onRemove) === null || _props$onRemove2 === void 0 ? void 0 : _props$onRemove2.call(props, {\n            e: e,\n            file: file,\n            index: index\n          });\n        }\n      }, null)])])]);\n    };\n    return function () {\n      var _displayFiles$value2, _locale$value3;\n      var customList = renderTNodeJSX(\"fileListDisplay\", {\n        params: {\n          triggerUpload: props.triggerUpload,\n          uploadFiles: props.uploadFiles,\n          cancelUpload: props.cancelUpload,\n          onPreview: props.onPreview,\n          onRemove: props.onRemove,\n          toUploadFiles: props.toUploadFiles,\n          sizeOverLimitMessage: props.sizeOverLimitMessage,\n          locale: props.locale,\n          files: displayFiles.value\n        }\n      });\n      if (customList) return customList;\n      var cardItemClasses = \"\".concat(classPrefix.value, \"-upload__card-item \").concat(classPrefix.value, \"-is-background\");\n      return createVNode(\"div\", null, [createVNode(\"ul\", {\n        \"class\": \"\".concat(classPrefix.value, \"-upload__card\")\n      }, [(_displayFiles$value2 = displayFiles.value) === null || _displayFiles$value2 === void 0 ? void 0 : _displayFiles$value2.map(function (file, index) {\n        var fileNameClassName = \"\".concat(classPrefix.value, \"-upload__card-name\");\n        var loadCard = \"\".concat(classPrefix.value, \"-upload__card-container \").concat(classPrefix.value, \"-upload__card-box\");\n        var fileName = props.abridgeName ? abridgeName.apply(void 0, [file.name].concat(_toConsumableArray(props.abridgeName))) : file.name;\n        return createVNode(\"li\", {\n          \"class\": cardItemClasses,\n          \"key\": index\n        }, [file.status === \"progress\" && renderProgressFile(file, loadCard), file.status === \"fail\" && renderFailFile(file, index, loadCard), ![\"progress\", \"fail\"].includes(file.status) && renderMainContent(file, index), Boolean(fileName && props.showImageFileName) && (file.url ? createVNode(Link, {\n          \"href\": file.url,\n          \"class\": fileNameClassName,\n          \"target\": \"_blank\",\n          \"hover\": \"color\",\n          \"size\": \"small\",\n          \"disabled\": false\n        }, _isSlot(fileName) ? fileName : {\n          \"default\": function _default() {\n            return [fileName];\n          }\n        }) : createVNode(\"span\", {\n          \"class\": fileNameClassName\n        }, [fileName]))]);\n      }), showTrigger.value && createVNode(\"li\", {\n        \"class\": cardItemClasses,\n        \"onClick\": props.triggerUpload\n      }, [createVNode(\"div\", {\n        \"class\": [\"\".concat(classPrefix.value, \"-upload__image-add\"), \"\".concat(classPrefix.value, \"-upload__card-container\"), \"\".concat(classPrefix.value, \"-upload__card-box\"), _defineProperty({}, \"\".concat(classPrefix.value, \"-is-disabled\"), props.disabled)]\n      }, [createVNode(AddIcon$1, null, null), createVNode(\"p\", {\n        \"class\": [\"\".concat(classPrefix.value, \"-size-s\"), \"\".concat(classPrefix.value, \"-upload__add-text\")]\n      }, [(_locale$value3 = locale.value) === null || _locale$value3 === void 0 || (_locale$value3 = _locale$value3.triggerUploadText) === null || _locale$value3 === void 0 ? void 0 : _locale$value3.image])])])])]);\n    };\n  }\n});\nexport { ImageCard as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","ImageCard","defineComponent","name","props","_objectSpread","commonProps","multiple","Boolean","max","Number","disabled","showUploadProgress","triggerUpload","Function","uploadFiles","cancelUpload","onPreview","showImageFileName","setup","_toRefs","toRefs","displayFiles","classPrefix","locale","computed","_useGlobalIcon","useGlobalIcon","AddIcon","BrowseIcon","DeleteIcon","ErrorCircleFilledIcon","BrowseIcon$1","DeleteIcon$1","AddIcon$1","ErrorCircleFilledIcon$1","renderTNodeJSX","useTNodeJSX","showTrigger","_displayFiles$value","value","length","renderMainContent","file","index","createVNode","concat","Image","url","raw","onClick","e","stopPropagation","ImageViewer","mergeProps","map","t","trigger","h","_ref","open","_ref2","_props$onPreview","imageViewerProps","Fragment","_ref3","_props$onRemove","onRemove","renderProgressFile","loadCard","_locale$value","theme","status","Loading","progress","uploadingText","percent","renderFailFile","_file$response","_locale$value2","response","error","failText","_ref4","_props$onRemove2","_displayFiles$value2","_locale$value3","customList","params","toUploadFiles","sizeOverLimitMessage","files","cardItemClasses","fileNameClassName","fileName","abridgeName","apply","_toConsumableArray","includes","Link","_default","_defineProperty","triggerUploadText","image"],"sources":["../../../src/upload/themes/image-card.tsx"],"sourcesContent":["import { defineComponent, PropType, toRefs, computed } from 'vue';\nimport {\n  BrowseIcon as TdBrowseIcon,\n  DeleteIcon as TdDeleteIcon,\n  AddIcon as TdAddIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n} from 'tdesign-icons-vue-next';\nimport Loading from '../../loading';\nimport useGlobalIcon from '../../hooks/useGlobalIcon';\nimport ImageViewer, { ImageViewerProps } from '../../image-viewer';\nimport { CommonDisplayFileProps } from '../interface';\nimport { commonProps } from '../constants';\nimport { TdUploadProps, UploadFile } from '../type';\nimport { abridgeName } from '../../_common/js/upload/utils';\nimport { UploadConfig } from '../../config-provider';\nimport { useTNodeJSX } from '../../hooks';\nimport Link from '../../link';\nimport Image from '../../image';\n\nexport interface ImageCardUploadProps extends CommonDisplayFileProps {\n  multiple: TdUploadProps['multiple'];\n  max: TdUploadProps['max'];\n  disabled?: TdUploadProps['disabled'];\n  showUploadProgress: TdUploadProps['showUploadProgress'];\n  triggerUpload?: (e: MouseEvent) => void;\n  uploadFiles?: (toFiles?: UploadFile[]) => void;\n  cancelUpload?: (context: { e: MouseEvent; file: UploadFile }) => void;\n  onPreview?: TdUploadProps['onPreview'];\n}\n\nexport default defineComponent({\n  name: 'UploadImageCard',\n\n  props: {\n    ...commonProps,\n    multiple: Boolean,\n    max: Number,\n    disabled: Boolean,\n    showUploadProgress: Boolean,\n    triggerUpload: Function as PropType<ImageCardUploadProps['triggerUpload']>,\n    uploadFiles: Function as PropType<ImageCardUploadProps['uploadFiles']>,\n    cancelUpload: Function as PropType<ImageCardUploadProps['cancelUpload']>,\n    onPreview: Function as PropType<ImageCardUploadProps['onPreview']>,\n    showImageFileName: Boolean,\n  },\n\n  setup(props) {\n    const { displayFiles, classPrefix, multiple, max } = toRefs(props);\n    const locale = computed(() => props.locale as UploadConfig);\n    const { BrowseIcon, DeleteIcon, AddIcon, ErrorCircleFilledIcon } = useGlobalIcon({\n      AddIcon: TdAddIcon,\n      BrowseIcon: TdBrowseIcon,\n      DeleteIcon: TdDeleteIcon,\n      ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n    });\n\n    const renderTNodeJSX = useTNodeJSX();\n\n    const showTrigger = computed(() => {\n      if (multiple.value) {\n        return !max.value || displayFiles.value.length < max.value;\n      }\n      return !displayFiles.value?.[0];\n    });\n\n    const renderMainContent = (file: UploadFile, index: number) => {\n      return (\n        <div class={`${classPrefix.value}-upload__card-content ${classPrefix.value}-upload__card-box`}>\n          <Image class={`${classPrefix.value}-upload__card-image`} src={file.url || file.raw} error=\"\" />\n          <div class={`${classPrefix.value}-upload__card-mask`}>\n            <span class={`${classPrefix.value}-upload__card-mask-item`} onClick={(e) => e.stopPropagation()}>\n              <ImageViewer\n                images={displayFiles.value.map((t: UploadFile) => t.url || t.raw)}\n                defaultIndex={index}\n                trigger={(h, { open }) => {\n                  return (\n                    <BrowseIcon\n                      onClick={({ e }: { e: MouseEvent }) => {\n                        props.onPreview?.({ file, index, e });\n                        open();\n                      }}\n                    />\n                  );\n                }}\n                {...(props.imageViewerProps as ImageViewerProps)}\n              ></ImageViewer>\n            </span>\n            {!props.disabled && (\n              <>\n                <span class={`${classPrefix.value}-upload__card-mask-item-divider`} />\n                <span class={`${classPrefix.value}-upload__card-mask-item`} onClick={(e) => e.stopPropagation()}>\n                  <DeleteIcon onClick={({ e }: { e: MouseEvent }) => props?.onRemove?.({ e, file, index })} />\n                </span>\n              </>\n            )}\n          </div>\n        </div>\n      );\n    };\n\n    const renderProgressFile = (file: UploadFile, loadCard: string) => {\n      return (\n        <div class={[loadCard, `${classPrefix.value}-upload__${props.theme}-${file.status}`]}>\n          <Loading loading={true} size=\"medium\" />\n          <p>\n            {locale.value?.progress?.uploadingText}\n            {props.showUploadProgress ? ` ${file.percent}%` : ''}\n          </p>\n        </div>\n      );\n    };\n\n    const renderFailFile = (file: UploadFile, index: number, loadCard: string) => {\n      return (\n        <div class={loadCard}>\n          <ErrorCircleFilledIcon />\n          <p>{file.response?.error || locale.value?.progress?.failText}</p>\n          <div class={`${classPrefix.value}-upload__card-mask`}>\n            <span class={`${classPrefix.value}-upload__card-mask-item`} onClick={(e) => e.stopPropagation()}>\n              <DeleteIcon onClick={({ e }: { e: MouseEvent }) => props?.onRemove?.({ e, file, index })} />\n            </span>\n          </div>\n        </div>\n      );\n    };\n\n    return () => {\n      // render custom UI with fileListDisplay\n      const customList = renderTNodeJSX('fileListDisplay', {\n        params: {\n          triggerUpload: props.triggerUpload,\n          uploadFiles: props.uploadFiles,\n          cancelUpload: props.cancelUpload,\n          onPreview: props.onPreview,\n          onRemove: props.onRemove,\n          toUploadFiles: props.toUploadFiles,\n          sizeOverLimitMessage: props.sizeOverLimitMessage,\n          locale: props.locale,\n          files: displayFiles.value,\n        },\n      });\n      if (customList) return customList;\n\n      const cardItemClasses = `${classPrefix.value}-upload__card-item ${classPrefix.value}-is-background`;\n      return (\n        <div>\n          <ul class={`${classPrefix.value}-upload__card`}>\n            {displayFiles.value?.map((file: UploadFile, index: number) => {\n              const fileNameClassName = `${classPrefix.value}-upload__card-name`;\n\n              const loadCard = `${classPrefix.value}-upload__card-container ${classPrefix.value}-upload__card-box`;\n              const fileName = props.abridgeName ? abridgeName(file.name, ...props.abridgeName) : file.name;\n              return (\n                <li class={cardItemClasses} key={index}>\n                  {file.status === 'progress' && renderProgressFile(file, loadCard)}\n                  {file.status === 'fail' && renderFailFile(file, index, loadCard)}\n                  {!['progress', 'fail'].includes(file.status) && renderMainContent(file, index)}\n                  {Boolean(fileName && props.showImageFileName) &&\n                    (file.url ? (\n                      <Link\n                        href={file.url}\n                        class={fileNameClassName}\n                        target=\"_blank\"\n                        hover=\"color\"\n                        size=\"small\"\n                        disabled={false}\n                      >\n                        {fileName}\n                      </Link>\n                    ) : (\n                      <span class={fileNameClassName}>{fileName}</span>\n                    ))}\n                </li>\n              );\n            })}\n\n            {showTrigger.value && (\n              <li class={cardItemClasses} onClick={props.triggerUpload}>\n                <div\n                  class={[\n                    `${classPrefix.value}-upload__image-add`,\n                    `${classPrefix.value}-upload__card-container`,\n                    `${classPrefix.value}-upload__card-box`,\n                    {\n                      [`${classPrefix.value}-is-disabled`]: props.disabled,\n                    },\n                  ]}\n                >\n                  <AddIcon />\n                  <p class={[`${classPrefix.value}-size-s`, `${classPrefix.value}-upload__add-text`]}>\n                    {locale.value?.triggerUploadText?.image}\n                  </p>\n                </div>\n              </li>\n            )}\n          </ul>\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBkB,SAAAA,QAAAC,CAAA;EAAA,cAAAA,CAAA,mBAAAC,MAAA,CAAAC,SAAA,CAAAC,QAAA,CAAAC,IAAA,CAAAJ,CAAA,4BAAAK,OAAA,CAAAL,CAAA;AAAA;AAalB,IAAAM,SAAA,GAAeC,eAAgB;EAC7BC,IAAM;EAENC,KAAO,EAAAC,aAAA,CAAAA,aAAA,KACFC,WAAA;IACHC,QAAU,EAAAC,OAAA;IACVC,GAAK,EAAAC,MAAA;IACLC,QAAU,EAAAH,OAAA;IACVI,kBAAoB,EAAAJ,OAAA;IACpBK,aAAe,EAAAC,QAAA;IACfC,WAAa,EAAAD,QAAA;IACbE,YAAc,EAAAF,QAAA;IACdG,SAAW,EAAAH,QAAA;IACXI,iBAAmB,EAAAV;GACrB;EAEAW,KAAA,WAAAA,MAAMf,KAAO;IACX,IAAAgB,OAAA,GAAqDC,MAAA,CAAOjB,KAAK;MAAzDkB,YAAc,GAAAF,OAAA,CAAdE,YAAc;MAAAC,WAAA,GAAAH,OAAA,CAAAG,WAAA;MAAahB,QAAA,GAAAa,OAAA,CAAAb,QAAA;MAAUE,GAAI,GAAAW,OAAA,CAAJX,GAAI;IACjD,IAAMe,MAAS,GAAAC,QAAA,CAAS;MAAA,OAAMrB,KAAA,CAAMoB,MAAsB;KAAA;IAC1D,IAAAE,cAAA,GAAmEC,aAAc;QAC/EC,OAAS,EAAAA,OAAA;QACTC,UAAY,EAAAA,UAAA;QACZC,UAAY,EAAAA,UAAA;QACZC,qBAAuB,EAAAA;MACzB,CAAC;MALOC,YAAY,GAAAN,cAAA,CAAZG,UAAY;MAAAI,YAAA,GAAAP,cAAA,CAAAI,UAAA;MAAYI,SAAS,GAAAR,cAAA,CAATE,OAAS;MAAAO,uBAAA,GAAAT,cAAA,CAAAK,qBAAA;IAOzC,IAAMK,cAAA,GAAiBC,WAAY;IAE7B,IAAAC,WAAA,GAAcb,QAAA,CAAS,YAAM;MAAA,IAAAc,mBAAA;MACjC,IAAIhC,QAAA,CAASiC,KAAO;QAClB,OAAO,CAAC/B,GAAI,CAAA+B,KAAA,IAASlB,YAAa,CAAAkB,KAAA,CAAMC,MAAA,GAAShC,GAAI,CAAA+B,KAAA;MACvD;MACO,UAAAD,mBAAA,GAACjB,YAAA,CAAakB,KAAQ,cAAAD,mBAAA,KAArB,UAAAA,mBAAA,CAAqB;IAC/B,CAAC;IAEK,IAAAG,iBAAA,GAAoB,SAApBA,kBAAqBC,IAAA,EAAkBC,KAAkB;MAC7D,OAAAC,WAAA;QAAA,YAAAC,MAAA,CACiBvB,WAAA,CAAYiB,KAAA,4BAAAM,MAAA,CAA8BvB,WAAY,CAAAiB,KAAA;OAAA,GAAAK,WAAA,CAAAE,KAAA;QAAA,YAAAD,MAAA,CAClDvB,WAAY,CAAAiB,KAAA;QAAA,OAAiCG,IAAA,CAAKK,GAAO,IAAAL,IAAA,CAAKM,GAAK;QAAA;MAAA,UAAAJ,WAAA;QAAA,YAAAC,MAAA,CACrEvB,WAAY,CAAAiB,KAAA;MAAA,IAAAK,WAAA;QAAA,YAAAC,MAAA,CACTvB,WAAA,CAAYiB,KAAgC;QAAA,SAAS,WAAAU,QAACC,CAAA;UAAA,OAAMA,CAAE,CAAAC,eAAA,EAC5E;QAAA;MAAA,IAAAP,WAAA,CAAAQ,WAAA,EAAAC,UAAA;QAAA,UACUhC,YAAA,CAAakB,KAAM,CAAAe,GAAA,CAAI,UAACC,CAAA;UAAA,OAAkBA,CAAE,CAAAR,GAAA,IAAOQ,CAAA,CAAEP,GAAG;SAAA;QAAA,gBAClDL,KAAA;QAAA,WACL,SAAAa,QAACC,CAAG,EAAAC,IAAA,EAAa;UAAA,IAAXC,IAAA,GAAAD,IAAA,CAAAC,IAAA;UACb,OAAAf,WAAA,CAAAb,YAAA;YAAA,SAEa,WAAAkB,QAAAW,KAAA,EAA8B;cAAA,IAAAC,gBAAA;cAAA,IAA3BX,CAAA,GAAAU,KAAA,CAAAV,CAAA;cACV,CAAAW,gBAAA,GAAA1D,KAAA,CAAMa,SAAY,cAAA6C,gBAAA,eAAlBA,gBAAA,CAAA/D,IAAA,CAAAK,KAAA,EAAkB;gBAAEuC,IAAM,EAANA,IAAM;gBAAAC,KAAA,EAAAA,KAAA;gBAAOO,CAAA,EAAAA;cAAE,CAAC;cAC/BS,IAAA;YACP;UACF;QAEJ;MACK,GAAAxD,KAAA,CAAM2D,gBACZ,YAEF,CAAC3D,KAAA,CAAMO,QACN,IAAAkC,WAAA,CAAAmB,QAAA,SAAAnB,WAAA;QAAA,YAAAC,MAAA,CACkBvB,WAAA,CAAYiB,KAAwC;MAAA,UAAAK,WAAA;QAAA,YAAAC,MAAA,CACpDvB,WAAY,CAAAiB,KAAA;QAAA,SAAyC,WAAAU,QAACC,CAAM;UAAA,OAAAA,CAAA,CAAEC,eAAgB;QAAA;OAAA,GAAAP,WAAA,CAAAZ,YAAA;QAAA,SACvE,WAAAiB,QAAAe,KAAA;UAAA,IAAAC,eAAA;UAAA,IAAGf,CAAA,GAAAc,KAAA,CAAAd,CAAA;UAAA,OAA2B/C,KAAA,aAAAA,KAAA,gBAAA8D,eAAA,GAAA9D,KAAA,CAAO+D,QAAW,cAAAD,eAAA,KAAlB,kBAAAA,eAAA,CAAAnE,IAAA,CAAAK,KAAA,EAAkB;YAAE+C,CAAG,EAAHA,CAAG;YAAAR,IAAA,EAAAA,IAAA;YAAMC,KAAM,EAANA;UAAM,CAAC,CAAG;QAAA;OAE9F;KAKV;IAEM,IAAAwB,kBAAA,GAAqB,SAArBA,mBAAsBzB,IAAA,EAAkB0B,QAAqB;MAAA,IAAAC,aAAA;MAE/D,OAAAzB,WAAA;QAAA,SAAY,CAACwB,QAAA,KAAAvB,MAAA,CAAavB,WAAA,CAAYiB,KAAiB,eAAAM,MAAA,CAAA1C,KAAA,CAAMmE,KAAS,OAAAzB,MAAA,CAAAH,IAAA,CAAK6B,MAAQ;OAAA,GAAA3B,WAAA,CAAA4B,OAAA;QAAA,WAC/D;QAAA;MAAA,UAAA5B,WAAA,cAAAyB,aAAA,GAEf9C,MAAA,CAAOgB,KAAA,cAAA8B,aAAA,gBAAAA,aAAA,GAAPA,aAAA,CAAcI,QAAU,cAAAJ,aAAA,uBAAxBA,aAAA,CAAwBK,aAAA,EACxBvE,KAAM,CAAAQ,kBAAA,OAAAkC,MAAA,CAAyBH,IAAA,CAAKiC,OAAa;KAI1D;IAEA,IAAMC,cAAiB,YAAjBA,cAAiBA,CAAClC,IAAkB,EAAAC,KAAA,EAAeyB,QAAqB;MAAA,IAAAS,cAAA,EAAAC,cAAA;MAE1E,OAAAlC,WAAA;QAAA,OAAY,EAAAwB;MAAA,IAAAxB,WAAA,CAAAV,uBAAA,eAAAU,WAAA,aAEN,EAAAiC,cAAA,GAAAnC,IAAK,CAAAqC,QAAA,cAAAF,cAAA,KAAL,kBAAAA,cAAA,CAAeG,KAAA,OAAAF,cAAA,GAASvD,MAAO,CAAAgB,KAAA,cAAAuC,cAAA,gBAAAA,cAAA,GAAPA,cAAA,CAAcL,QAAU,cAAAK,cAAA,uBAAxBA,cAAA,CAAwBG,QAAA,KAAArC,WAAA;QAAA,YAAAC,MAAA,CACrCvB,WAAA,CAAYiB,KAAA;;2BACTjB,WAAA,CAAYiB,KAAgC;QAAA,SAAS,WAAAU,QAACC,CAAA;UAAA,OAAMA,CAAA,CAAEC,eAAgB;QAAA;OAAA,GAAAP,WAAA,CAAAZ,YAAA;QAAA,SACvE,WAAAiB,QAAAiC,KAAA;UAAA,IAAAC,gBAAA;UAAA,IAAGjC,CAAE,GAAAgC,KAAA,CAAFhC,CAAE;UAAA,OAAyB/C,KAAA,aAAAA,KAAA,gBAAAgF,gBAAA,GAAAhF,KAAA,CAAO+D,QAAW,cAAAiB,gBAAA,KAAlB,kBAAAA,gBAAA,CAAArF,IAAA,CAAAK,KAAA,EAAkB;YAAE+C,CAAG,EAAHA,CAAG;YAAAR,IAAA,EAAAA,IAAA;YAAMC,KAAA,EAAAA;UAAM,CAAC;QAAA;MAAA;KAKjG;IAEA,OAAO,YAAM;MAAA,IAAAyC,oBAAA,EAAAC,cAAA;MAEL,IAAAC,UAAA,GAAanD,cAAA,CAAe,iBAAmB;QACnDoD,MAAQ;UACN3E,aAAA,EAAeT,KAAM,CAAAS,aAAA;UACrBE,WAAA,EAAaX,KAAM,CAAAW,WAAA;UACnBC,YAAA,EAAcZ,KAAM,CAAAY,YAAA;UACpBC,SAAA,EAAWb,KAAM,CAAAa,SAAA;UACjBkD,QAAA,EAAU/D,KAAM,CAAA+D,QAAA;UAChBsB,aAAA,EAAerF,KAAM,CAAAqF,aAAA;UACrBC,oBAAA,EAAsBtF,KAAM,CAAAsF,oBAAA;UAC5BlE,MAAA,EAAQpB,KAAM,CAAAoB,MAAA;UACdmE,KAAA,EAAOrE,YAAa,CAAAkB;QACtB;MACF,CAAC;MACG,IAAA+C,UAAA,EAAmB,OAAAA,UAAA;MAEvB,IAAMK,eAAkB,MAAA9C,MAAA,CAAGvB,WAAY,CAAAiB,KAAA,yBAAAM,MAAA,CAA2BvB,WAAY,CAAAiB,KAAA;MAC9E,OAAAK,WAAA,eAAAA,WAAA;QAAA,YAAAC,MAAA,CAEkBvB,WAAY,CAAAiB,KAAA;MAAA,KAAA6C,oBAAA,GACvB/D,YAAa,CAAAkB,KAAA,cAAA6C,oBAAA,uBAAbA,oBAAA,CAAoB9B,GAAI,WAACZ,IAAA,EAAkBC,KAAkB;QACtD,IAAAiD,iBAAA,MAAA/C,MAAA,CAAuBvB,WAAY,CAAAiB,KAAA;QAEzC,IAAM6B,QAAW,MAAAvB,MAAA,CAAGvB,WAAY,CAAAiB,KAAA,8BAAAM,MAAA,CAAgCvB,WAAY,CAAAiB,KAAA;QACtE,IAAAsD,QAAA,GAAW1F,KAAM,CAAA2F,WAAA,GAAcA,WAAY,CAAAC,KAAA,UAAArD,IAAA,CAAKxC,IAAA,EAAA2C,MAAA,CAAAmD,kBAAA,CAAS7F,KAAA,CAAM2F,WAAW,MAAIpD,IAAK,CAAAxC,IAAA;QACzF,OAAA0C,WAAA;UAAA,SACa+C,eAAA;UAAA,KAAsB,EAAAhD;QAAA,IAC9BD,IAAK,CAAA6B,MAAA,KAAW,UAAc,IAAAJ,kBAAA,CAAmBzB,IAAA,EAAM0B,QAAQ,GAC/D1B,IAAA,CAAK6B,MAAW,eAAUK,cAAe,CAAAlC,IAAA,EAAMC,KAAA,EAAOyB,QAAQ,GAC9D,CAAC,CAAC,YAAY,MAAM,EAAE6B,QAAS,CAAAvD,IAAA,CAAK6B,MAAM,KAAK9B,iBAAkB,CAAAC,IAAA,EAAMC,KAAK,GAC5EpC,OAAQ,CAAAsF,QAAA,IAAY1F,KAAM,CAAAc,iBAAiB,CACzC,KAAAyB,IAAA,CAAKK,GACJ,GAAAH,WAAA,CAAAsD,IAAA;UAAA,MACQ,EAAAxD,IAAK,CAAAK,GAAA;UAAA,SACJ6C,iBACP;UAAA;UAAA;UAAA;UAAA,UAGU;QAET,GAAAnG,OAAA,CAAAoG,QAAA,IAAAA,QAAA;UAAA,oBAAAM,SAAA;YAAA,QAAAN,QAAA;UAAA;QAAA,KAAAjD,WAAA;UAAA,OAGU,EAAAgD;SAAoB,GAAAC,QAAA,EAAhC;MAIX,CAAC,GAEAxD,WAAA,CAAYE,KACX,IAAAK,WAAA;QAAA,SAAW+C,eAAiB;QAAA,WAASxF,KAAM,CAAAS;MAAA,IAAAgC,WAAA;QAAA,SAEhC,IAAAC,MAAA,CACFvB,WAAY,CAAAiB,KAAA,4BAAAM,MAAA,CACZvB,WAAY,CAAAiB,KAAA,iCAAAM,MAAA,CACZvB,WAAY,CAAAiB,KAAA,wBAAA6D,eAAA,QAAAvD,MAAA,CAETvB,WAAY,CAAAiB,KAAA,EAAsB,iBAAApC,KAAM,CAAAO,QAAA;MAEhD,IAAAkC,WAAA,CAAAX,SAAA,eAAAW,WAAA;QAAA,OAGU,MAAAC,MAAA,CAAIvB,WAAY,CAAAiB,KAAA,iBAAAM,MAAA,CAAmBvB,WAAA,CAAYiB,KAAA;MACtD,KAAA8C,cAAA,GAAA9D,MAAA,CAAOgB,KAAO,cAAA8C,cAAA,gBAAAA,cAAA,GAAdA,cAAA,CAAcgB,iBAAA,cAAAhB,cAAA,uBAAdA,cAAA,CAAiCiB,KAAA,CAbvC;KAqBX;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}