{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nfunction getSizeDraggable(sizeDraggable, limit) {\n  if (typeof sizeDraggable === \"boolean\") {\n    return {\n      allowSizeDraggable: sizeDraggable,\n      max: limit.max,\n      min: limit.min\n    };\n  }\n  return {\n    allowSizeDraggable: true,\n    max: sizeDraggable.max,\n    min: sizeDraggable.min\n  };\n}\nfunction calcSizeRange(size, min, max) {\n  return Math.min(Math.max(size, min), max);\n}\nfunction calcMoveSize(placement, opts) {\n  var x = opts.x,\n    y = opts.y,\n    max = opts.max,\n    min = opts.min,\n    maxWidth = opts.maxWidth,\n    maxHeight = opts.maxHeight;\n  var moveSize;\n  switch (placement) {\n    case \"right\":\n      moveSize = calcSizeRange(maxWidth - x, min, max);\n      break;\n    case \"left\":\n      moveSize = calcSizeRange(x, min, max);\n      break;\n    case \"top\":\n      moveSize = calcSizeRange(y, min, max);\n      break;\n    case \"bottom\":\n      moveSize = calcSizeRange(maxHeight - y, min, max);\n      break;\n    default:\n      return moveSize;\n  }\n  return moveSize;\n}\nexport { calcMoveSize, getSizeDraggable };","map":{"version":3,"names":["getSizeDraggable","sizeDraggable","limit","allowSizeDraggable","max","min","calcSizeRange","size","Math","calcMoveSize","placement","opts","x","y","maxWidth","maxHeight","moveSize"],"sources":["../../../../src/_common/js/drawer/utils.ts"],"sourcesContent":["type Placement = 'left' | 'right' | 'top' | 'bottom';\n\ninterface SizeDragLimit {\n  max: number;\n  min: number;\n}\n\nexport function getSizeDraggable(\n  sizeDraggable: boolean | SizeDragLimit,\n  limit: { max: number; min: number }\n) {\n  if (typeof sizeDraggable === 'boolean') {\n    return {\n      allowSizeDraggable: sizeDraggable,\n      max: limit.max,\n      min: limit.min,\n    };\n  }\n\n  return {\n    allowSizeDraggable: true,\n    max: sizeDraggable.max,\n    min: sizeDraggable.min,\n  };\n}\n\ntype IOptions = {\n  x: number;\n  y: number;\n  maxWidth: number;\n  maxHeight: number;\n  min: number;\n  max: number;\n};\n\n// > min && < max\nfunction calcSizeRange(size: number, min: number, max: number) {\n  return Math.min(Math.max(size, min), max);\n}\n\nexport function calcMoveSize(placement: Placement, opts: IOptions) {\n  const { x, y, max, min, maxWidth, maxHeight } = opts;\n  let moveSize: number | undefined;\n  switch (placement) {\n    case 'right':\n      // |<---  x  --->|      |\n      // |     maxWidth       |\n      //               | size |  > min && < max\n      moveSize = calcSizeRange(maxWidth - x, min, max);\n      break;\n    case 'left':\n      // |<--  x -->|  |\n      // x > min && < max\n      moveSize = calcSizeRange(x, min, max);\n      break;\n    case 'top':\n      // - - - - - - - -\n      // |     y        |\n      // |              |\n      // - - - - - - - -\n      //  > min && < max\n      // moveSize = Math.min(Math.max(y, min), max);\n      moveSize = calcSizeRange(y, min, max);\n      break;\n    case 'bottom':\n      // - - - - - - - -\n      // |     y        |\n      // |              |  maxHeight\n      // - - - - - - - -\n      // |    size      |\n      //  > min && < max\n      moveSize = calcSizeRange(maxHeight - y, min, max);\n      break;\n    default:\n      // 参数缺失直接返回\n      return moveSize;\n  }\n  return moveSize;\n}\n"],"mappings":";;;;;;AAOgB,SAAAA,iBACdC,aAAA,EACAC,KACA;EACI,WAAOD,aAAA,KAAkB,SAAW;IAC/B;MACLE,kBAAoB,EAAAF,aAAA;MACpBG,GAAA,EAAKF,KAAM,CAAAE,GAAA;MACXC,GAAA,EAAKH,KAAM,CAAAG;KACb;EACF;EAEO;IACLF,kBAAoB;IACpBC,GAAA,EAAKH,aAAc,CAAAG,GAAA;IACnBC,GAAA,EAAKJ,aAAc,CAAAI;GACrB;AACF;AAYA,SAASC,cAAcC,IAAc,EAAAF,GAAA,EAAaD,GAAa;EAC7D,OAAOI,IAAA,CAAKH,GAAI,CAAAG,IAAA,CAAKJ,GAAA,CAAIG,IAAM,EAAAF,GAAG,GAAGD,GAAG;AAC1C;AAEgB,SAAAK,aAAaC,SAAA,EAAsBC,IAAgB;EACjE,IAAQC,CAAG,GAAqCD,IAAA,CAAxCC,CAAG;IAAAC,CAAA,GAAqCF,IAAA,CAArCE,CAAA;IAAGT,GAAA,GAAkCO,IAAA,CAAlCP,GAAA;IAAKC,GAAK,GAAwBM,IAAA,CAA7BN,GAAK;IAAAS,QAAA,GAAwBH,IAAA,CAAxBG,QAAA;IAAUC,SAAA,GAAcJ,IAAA,CAAdI,SAAA;EAC9B,IAAAC,QAAA;EACI,QAAAN,SAAA;IACD;MAIHM,QAAA,GAAWV,aAAc,CAAAQ,QAAA,GAAWF,CAAG,EAAAP,GAAA,EAAKD,GAAG;MAC/C;IACG;MAGQY,QAAA,GAAAV,aAAA,CAAcM,CAAG,EAAAP,GAAA,EAAKD,GAAG;MACpC;IACG;MAOQY,QAAA,GAAAV,aAAA,CAAcO,CAAG,EAAAR,GAAA,EAAKD,GAAG;MACpC;IACG;MAOHY,QAAA,GAAWV,aAAc,CAAAS,SAAA,GAAYF,CAAG,EAAAR,GAAA,EAAKD,GAAG;MAChD;IAAA;MAGO,OAAAY,QAAA;EAAA;EAEJ,OAAAA,QAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}