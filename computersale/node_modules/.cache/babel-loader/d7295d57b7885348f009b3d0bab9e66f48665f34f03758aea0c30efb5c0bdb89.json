{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nfunction dateCorrection(partialIndex, preYear, preMonth, onlyYearSelect) {\n  var nextYear = preYear;\n  var nextMonth = preMonth;\n  if (partialIndex === 0) {\n    if (nextYear[1] <= nextYear[0]) {\n      if (onlyYearSelect) nextYear[1] = nextYear[0] + 1;else {\n        nextYear[1] = nextYear[0];\n        if (nextMonth[1] <= nextMonth[0]) {\n          nextMonth[1] = nextMonth[0] + 1;\n          if (nextMonth[1] === 12) {\n            nextMonth[1] = 0;\n            nextYear = [nextYear[0], nextYear[1] + 1];\n          }\n        }\n      }\n    }\n  }\n  if (partialIndex === 1) {\n    if (nextYear[0] >= nextYear[1]) {\n      if (onlyYearSelect) nextYear[0] = nextYear[1] - 1;else {\n        nextYear[0] = nextYear[1];\n        if (nextMonth[0] >= nextMonth[1]) {\n          nextMonth[0] = nextMonth[1] - 1;\n          if (nextMonth[0] === -1) {\n            nextMonth[0] = 11;\n            nextYear = [nextYear[0] - 1, nextYear[1]];\n          }\n        }\n      }\n    }\n  }\n  return {\n    nextYear: nextYear,\n    nextMonth: nextMonth\n  };\n}\nexport { dateCorrection };","map":{"version":3,"names":["dateCorrection","partialIndex","preYear","preMonth","onlyYearSelect","nextYear","nextMonth"],"sources":["../../src/date-picker/utils.ts"],"sourcesContent":["// 用于头部日期切换修正\nexport function dateCorrection(\n  partialIndex: number,\n  preYear: Array<number>,\n  preMonth: Array<number>,\n  onlyYearSelect: boolean,\n) {\n  let nextYear = preYear;\n  const nextMonth = preMonth;\n  if (partialIndex === 0) {\n    if (nextYear[1] <= nextYear[0]) {\n      if (onlyYearSelect) nextYear[1] = nextYear[0] + 1;\n      else {\n        // eslint-disable-next-line prefer-destructuring\n        nextYear[1] = nextYear[0];\n        if (nextMonth[1] <= nextMonth[0]) {\n          nextMonth[1] = nextMonth[0] + 1;\n          if (nextMonth[1] === 12) {\n            // 处理跨年的边界场景\n            nextMonth[1] = 0;\n            nextYear = [nextYear[0], nextYear[1] + 1];\n          }\n        }\n      }\n    }\n  }\n\n  // 保证左侧时间不大于右侧\n  if (partialIndex === 1) {\n    if (nextYear[0] >= nextYear[1]) {\n      // 年/季度/月份场景下，头部只有年选择器，直接 - 1\n      if (onlyYearSelect) nextYear[0] = nextYear[1] - 1;\n      else {\n        // eslint-disable-next-line prefer-destructuring\n        nextYear[0] = nextYear[1];\n        if (nextMonth[0] >= nextMonth[1]) {\n          nextMonth[0] = nextMonth[1] - 1;\n          if (nextMonth[0] === -1) {\n            // 处理跨年的边界场景\n            nextMonth[0] = 11;\n            nextYear = [nextYear[0] - 1, nextYear[1]];\n          }\n        }\n      }\n    }\n  }\n  return { nextYear, nextMonth };\n}\n"],"mappings":";;;;;;AACO,SAASA,cACdA,CAAAC,YAAA,EACAC,OACA,EAAAC,QAAA,EACAC,cACA;EACA,IAAIC,QAAW,GAAAH,OAAA;EACf,IAAMI,SAAY,GAAAH,QAAA;EAClB,IAAIF,YAAA,KAAiB,CAAG;IAClB,IAAAI,QAAA,CAAS,CAAM,KAAAA,QAAA,CAAS,CAAI;MAC1B,IAAAD,cAAA,EAAyBC,QAAA,MAAKA,QAAA,CAAS,CAAK,WAC3C;QAEHA,QAAA,CAAS,KAAKA,QAAS;QACnB,IAAAC,SAAA,CAAU,CAAM,KAAAA,SAAA,CAAU,CAAI;UACtBA,SAAA,MAAKA,SAAA,CAAU,CAAK;UAC1B,IAAAA,SAAA,CAAU,OAAO,EAAI;YAEvBA,SAAA,CAAU,CAAK;YACfD,QAAA,GAAW,CAACA,QAAA,CAAS,CAAI,GAAAA,QAAA,CAAS,KAAK,CAAC;UAC1C;QACF;MACF;IACF;EACF;EAGA,IAAIJ,YAAA,KAAiB,CAAG;IAClB,IAAAI,QAAA,CAAS,CAAM,KAAAA,QAAA,CAAS,CAAI;MAE1B,IAAAD,cAAA,EAAyBC,QAAA,MAAKA,QAAA,CAAS,CAAK,WAC3C;QAEHA,QAAA,CAAS,KAAKA,QAAS;QACnB,IAAAC,SAAA,CAAU,CAAM,KAAAA,SAAA,CAAU,CAAI;UACtBA,SAAA,MAAKA,SAAA,CAAU,CAAK;UAC1B,IAAAA,SAAA,CAAU,OAAO,CAAI;YAEvBA,SAAA,CAAU,CAAK;YACfD,QAAA,GAAW,CAACA,QAAA,CAAS,CAAK,OAAGA,QAAA,CAAS,CAAE;UAC1C;QACF;MACF;IACF;EACF;EACO;IAAEA,QAAA,EAAAA,QAAA;IAAUC,SAAU,EAAVA;GAAU;AAC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}