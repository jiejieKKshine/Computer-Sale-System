{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nfunction observe(element, root, callback, marginBottom) {\n  if (typeof window === \"undefined\") return null;\n  if (!window || !window.IntersectionObserver) {\n    callback();\n    return null;\n  }\n  var io = null;\n  try {\n    io = new window.IntersectionObserver(function (entries) {\n      var entry = entries[0];\n      if (entry.isIntersecting) {\n        callback();\n        io.unobserve(element);\n      }\n    }, {\n      rootMargin: \"0px 0px \".concat(marginBottom, \"px 0px\"),\n      root: root\n    });\n    io.observe(element);\n  } catch (e) {\n    console.error(e);\n    callback();\n  }\n  return io;\n}\nexport { observe as default };","map":{"version":3,"names":["observe","element","root","callback","marginBottom","window","IntersectionObserver","io","entries","entry","isIntersecting","unobserve","rootMargin","concat","e","console","error"],"sources":["../../../../src/_common/js/utils/observe.ts"],"sourcesContent":["export default function observe(\n  element: HTMLElement,\n  root: HTMLElement,\n  callback: Function,\n  marginBottom: number,\n): IntersectionObserver {\n  if (typeof window === 'undefined') return null;\n  if (!window || !window.IntersectionObserver) {\n    callback();\n    return null;\n  }\n  let io: IntersectionObserver = null;\n  try {\n    io = new window.IntersectionObserver(\n      (entries) => {\n        const entry = entries[0];\n        if (entry.isIntersecting) {\n          callback();\n          io.unobserve(element);\n        }\n      },\n      {\n        rootMargin: `0px 0px ${marginBottom}px 0px`,\n        root,\n      },\n    );\n    io.observe(element);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error(e);\n    callback();\n  }\n  return io;\n}\n"],"mappings":";;;;;;AAAA,SAAwBA,OACtBA,CAAAC,OAAA,EACAC,IACA,EAAAC,QAAA,EACAC,YACsB;EACtB,IAAI,OAAOC,MAAW,kBAAoB;EAC1C,IAAI,CAACA,MAAA,IAAU,CAACA,MAAA,CAAOC,oBAAsB;IAClCH,QAAA;IACF;EACT;EACA,IAAII,EAA2B;EAC3B;IACFA,EAAA,GAAK,IAAIF,MAAO,CAAAC,oBAAA,CACd,UAACE,OAAY;MACX,IAAMC,KAAA,GAAQD,OAAQ;MACtB,IAAIC,KAAA,CAAMC,cAAgB;QACfP,QAAA;QACTI,EAAA,CAAGI,SAAA,CAAUV,OAAO;MACtB;IACF,GACA;MACEW,UAAA,aAAAC,MAAA,CAAuBT,YAAA;MACvBF,IAAA,EAAAA;IACF,CACF;IACAK,EAAA,CAAGP,OAAA,CAAQC,OAAO;WACXa,CAAP;IAEAC,OAAA,CAAQC,KAAA,CAAMF,CAAC;IACNX,QAAA;EACX;EACO,OAAAI,EAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}