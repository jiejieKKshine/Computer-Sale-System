{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport { ref } from 'vue';\nimport { MessagePlugin } from 'tdesign-vue-next';\nimport axios from 'axios';\nexport default {\n  __name: 'OrderMoney',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const revenue = ref(null);\n    const profit = ref(null);\n    const dateRange = ref([null, null]);\n    const onPick = (value, context) => console.log('onPick:', value, context);\n    const onChange = (value, context) => {\n      console.log('onChange:', value, context);\n      console.log('timestamp:', context.dayjsValue.map(d => d.valueOf()));\n      console.log('formatted:', context.dayjsValue.map(d => d.format('YYYY-MM-DD HH:mm:ss')));\n    };\n    const queryRevenue = async () => {\n      if (!dateRange.value[0] || !dateRange.value[1]) {\n        MessagePlugin.warning('请选择日期范围');\n        return;\n      }\n      try {\n        const formattedStartDate = dateRange.value[0].format('YYYY-MM-DD HH:mm:ss');\n        const formattedEndDate = dateRange.value[1].format('YYYY-MM-DD HH:mm:ss');\n        const response = await axios.get('/api/orders/revenue', {\n          params: {\n            startDate: formattedStartDate,\n            endDate: formattedEndDate\n          }\n        });\n        revenue.value = response.data.revenue;\n        profit.value = response.data.profit;\n        MessagePlugin.success('查询成功');\n      } catch (error) {\n        console.error('查询失败', error);\n        MessagePlugin.error('查询失败');\n      }\n    };\n    const __returned__ = {\n      revenue,\n      profit,\n      dateRange,\n      onPick,\n      onChange,\n      queryRevenue,\n      ref,\n      get MessagePlugin() {\n        return MessagePlugin;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","MessagePlugin","axios","revenue","profit","dateRange","onPick","value","context","console","log","onChange","dayjsValue","map","d","valueOf","format","queryRevenue","warning","formattedStartDate","formattedEndDate","response","get","params","startDate","endDate","data","success","error"],"sources":["E:/三年级上册/ComputerSale/computersale/src/views/OrderMoney.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1 style=\"text-align: center; margin-bottom: 20px;\">查询营业额</h1>\r\n    <t-space direction=\"vertical\" style=\"max-width: 600px; margin: 0 auto;\">\r\n      <div style=\"display: flex; align-items: center;\">\r\n        <t-date-range-picker\r\n          allow-input\r\n          clearable\r\n          format=\"YYYY-MM-DD HH:mm:ss\"\r\n          :default-time=\"['00:00:00', '23:59:59']\"\r\n          @pick=\"onPick\"\r\n          @change=\"onChange\"\r\n          v-model=\"dateRange\"\r\n        />\r\n        <t-button @click=\"queryRevenue\" style=\"margin-left: 10px;\">查询</t-button>\r\n      </div>\r\n      <div v-if=\"revenue !== null && profit !== null\" class=\"results-container\">\r\n        <t-card :title=\"'营业额'\" header-bordered :style=\"{ width: '45%' }\">\r\n          {{ revenue }} 元\r\n        </t-card>\r\n        <t-card :title=\"'利润'\" header-bordered :style=\"{ width: '45%' }\">\r\n          {{ profit }} 元\r\n        </t-card>\r\n      </div>\r\n    </t-space>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport { MessagePlugin } from 'tdesign-vue-next';\r\nimport axios from 'axios';\r\n\r\nconst revenue = ref(null);\r\nconst profit = ref(null);\r\nconst dateRange = ref([null, null]);\r\n\r\nconst onPick = (value, context) => console.log('onPick:', value, context);\r\nconst onChange = (value, context) => {\r\n  console.log('onChange:', value, context);\r\n  console.log(\r\n    'timestamp:',\r\n    context.dayjsValue.map((d) => d.valueOf()),\r\n  );\r\n  console.log(\r\n    'formatted:',\r\n    context.dayjsValue.map((d) => d.format('YYYY-MM-DD HH:mm:ss')),\r\n  );\r\n};\r\n\r\nconst queryRevenue = async () => {\r\n  if (!dateRange.value[0] || !dateRange.value[1]) {\r\n    MessagePlugin.warning('请选择日期范围');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const formattedStartDate = dateRange.value[0].format('YYYY-MM-DD HH:mm:ss');\r\n    const formattedEndDate = dateRange.value[1].format('YYYY-MM-DD HH:mm:ss');\r\n\r\n    const response = await axios.get('/api/orders/revenue', {\r\n      params: {\r\n        startDate: formattedStartDate,\r\n        endDate: formattedEndDate,\r\n      },\r\n    });\r\n\r\n    revenue.value = response.data.revenue;\r\n    profit.value = response.data.profit;\r\n    MessagePlugin.success('查询成功');\r\n  } catch (error) {\r\n    console.error('查询失败', error);\r\n    MessagePlugin.error('查询失败');\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.results-container {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>"],"mappings":";AA6BA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,aAAa,QAAQ,kBAAkB;AAChD,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,OAAO,GAAGH,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMI,MAAM,GAAGJ,GAAG,CAAC,IAAI,CAAC;IACxB,MAAMK,SAAS,GAAGL,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAEnC,MAAMM,MAAM,GAAGA,CAACC,KAAK,EAAEC,OAAO,KAAKC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEH,KAAK,EAAEC,OAAO,CAAC;IACzE,MAAMG,QAAQ,GAAGA,CAACJ,KAAK,EAAEC,OAAO,KAAK;MACnCC,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEH,KAAK,EAAEC,OAAO,CAAC;MACxCC,OAAO,CAACC,GAAG,CACT,YAAY,EACZF,OAAO,CAACI,UAAU,CAACC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,OAAO,CAAC,CAAC,CAC3C,CAAC;MACDN,OAAO,CAACC,GAAG,CACT,YAAY,EACZF,OAAO,CAACI,UAAU,CAACC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACE,MAAM,CAAC,qBAAqB,CAAC,CAC/D,CAAC;IACH,CAAC;IAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI,CAACZ,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC,IAAI,CAACF,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC,EAAE;QAC9CN,aAAa,CAACiB,OAAO,CAAC,SAAS,CAAC;QAChC;MACF;MAEA,IAAI;QACF,MAAMC,kBAAkB,GAAGd,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC,CAACS,MAAM,CAAC,qBAAqB,CAAC;QAC3E,MAAMI,gBAAgB,GAAGf,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC,CAACS,MAAM,CAAC,qBAAqB,CAAC;QAEzE,MAAMK,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAAC,qBAAqB,EAAE;UACtDC,MAAM,EAAE;YACNC,SAAS,EAAEL,kBAAkB;YAC7BM,OAAO,EAAEL;UACX;QACF,CAAC,CAAC;QAEFjB,OAAO,CAACI,KAAK,GAAGc,QAAQ,CAACK,IAAI,CAACvB,OAAO;QACrCC,MAAM,CAACG,KAAK,GAAGc,QAAQ,CAACK,IAAI,CAACtB,MAAM;QACnCH,aAAa,CAAC0B,OAAO,CAAC,MAAM,CAAC;MAC/B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdnB,OAAO,CAACmB,KAAK,CAAC,MAAM,EAAEA,KAAK,CAAC;QAC5B3B,aAAa,CAAC2B,KAAK,CAAC,MAAM,CAAC;MAC7B;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}