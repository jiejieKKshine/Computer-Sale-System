{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../../_chunks/dep-fa52aa21.mjs';\nimport { computed, createVNode } from 'vue';\nimport { i as isString_1 } from '../../_chunks/dep-03a7fb6c.mjs';\nimport { useTNodeJSX } from '../../hooks/tnode.mjs';\nimport { Loading } from '../../loading/index.mjs';\nimport useClassName from './useClassName.mjs';\nimport '../../hooks/useConfig.mjs';\nimport { useConfig } from '../../config-provider/useConfig.mjs';\nimport '../../_chunks/dep-4659d73b.mjs';\nimport '../../_chunks/dep-eca422c3.mjs';\nimport '../../_chunks/dep-bf7257e7.mjs';\nimport '../../_chunks/dep-eae2a67e.mjs';\nimport '../../_chunks/dep-626c497d.mjs';\nimport '../../_chunks/dep-29ef8419.mjs';\nimport '../../_chunks/dep-06dcbf4c.mjs';\nimport '../../_chunks/dep-2b09875b.mjs';\nimport '../../_chunks/dep-cda4f568.mjs';\nimport '../../_chunks/dep-03ad9cda.mjs';\nimport '../../_chunks/dep-7932c2e8.mjs';\nimport '../../_chunks/dep-ab4bb9b8.mjs';\nimport '../../_chunks/dep-d8a34055.mjs';\nimport '../../_chunks/dep-2f6e28a0.mjs';\nimport '../../_chunks/dep-5a17bf21.mjs';\nimport '../../_chunks/dep-bad871d5.mjs';\nimport '../../utils/render-tnode.mjs';\nimport '../../_chunks/dep-b91a8171.mjs';\nimport '../../_chunks/dep-1b78414a.mjs';\nimport '../../_chunks/dep-1a4bb2f2.mjs';\nimport '../../_chunks/dep-cc8ebcde.mjs';\nimport '../../_chunks/dep-76958824.mjs';\nimport '../../_chunks/dep-f5579c03.mjs';\nimport '../../_chunks/dep-6dc3d0e1.mjs';\nimport '../../_chunks/dep-d84f19b3.mjs';\nimport '../../_chunks/dep-3c65fae8.mjs';\nimport '../../_chunks/dep-bff7e93a.mjs';\nimport '../../_chunks/dep-49aeee3c.mjs';\nimport '../../_chunks/dep-b5bf85f5.mjs';\nimport '../../_chunks/dep-e9841b9e.mjs';\nimport '../../_chunks/dep-1b9718a2.mjs';\nimport '../../_chunks/dep-92f86d1d.mjs';\nimport '../../_chunks/dep-6ab5363f.mjs';\nimport '../../_chunks/dep-ec0bbd9f.mjs';\nimport '../../_chunks/dep-e065dc25.mjs';\nimport '../../_chunks/dep-400ec705.mjs';\nimport '../../_chunks/dep-02f9394e.mjs';\nimport '../../_chunks/dep-1725b1c7.mjs';\nimport '../../_chunks/dep-532409c5.mjs';\nimport '../../_common/js/global-config/default-config.mjs';\nimport '../../_common/js/global-config/locale/zh_CN.mjs';\nimport '../../_chunks/dep-9ed7da3e.mjs';\nimport '../../_chunks/dep-7f65fc46.mjs';\nimport '../../_chunks/dep-4f2cabb0.mjs';\nimport '../../_chunks/dep-5922c8f3.mjs';\nimport '../../_chunks/dep-732f0b7d.mjs';\nimport '../../_chunks/dep-0b414bea.mjs';\nimport '../../_chunks/dep-4d4e2af1.mjs';\nimport '../../_chunks/dep-fbd4eddb.mjs';\nimport '../../_chunks/dep-ae202bc0.mjs';\nimport '../../_chunks/dep-aeaef131.mjs';\nimport '../../_chunks/dep-69e0f6fc.mjs';\nimport '../../_chunks/dep-ea20409b.mjs';\nimport '../../loading/plugin.mjs';\nimport '../../loading/loading.mjs';\nimport '../../_chunks/dep-5efe53d1.mjs';\nimport '../../_chunks/dep-593f2b67.mjs';\nimport '../../loading/icon/gradient.mjs';\nimport '../../_common/js/loading/circle-adapter.mjs';\nimport '../../_common/js/utils/set-style.mjs';\nimport '../../_common/js/utils/helper.mjs';\nimport '../../_chunks/dep-4a990ea3.mjs';\nimport '../../_chunks/dep-5d3f7c0e.mjs';\nimport '../../_chunks/dep-73384992.mjs';\nimport '../../_chunks/dep-58a62202.mjs';\nimport '../../_chunks/dep-889e457b.mjs';\nimport '../../utils/dom.mjs';\nimport '../../utils/easing.mjs';\nimport '../../loading/props.mjs';\nimport '../../hooks/useTeleport.mjs';\nimport '../../_chunks/dep-bb899bfd.mjs';\nimport '../../config-provider/type.mjs';\nimport '../../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../../loading/type.mjs';\nfunction useAsyncLoading(props) {\n  var renderTNode = useTNodeJSX();\n  var _useConfig = useConfig(\"table\", props.locale),\n    globalConfig = _useConfig.globalConfig;\n  var _useClassName = useClassName(),\n    isLoadingClass = _useClassName.isLoadingClass,\n    isLoadMoreClass = _useClassName.isLoadMoreClass,\n    asyncLoadingClass = _useClassName.asyncLoadingClass;\n  var classes = computed(function () {\n    return [asyncLoadingClass, _defineProperty(_defineProperty({}, isLoadingClass, props.asyncLoading === \"loading\"), isLoadMoreClass, props.asyncLoading === \"load-more\")];\n  });\n  function onLoadClick() {\n    var _props$onAsyncLoading;\n    if (!isString_1(props.asyncLoading)) return;\n    (_props$onAsyncLoading = props.onAsyncLoadingClick) === null || _props$onAsyncLoading === void 0 || _props$onAsyncLoading.call(props, {\n      status: props.asyncLoading\n    });\n  }\n  function renderAsyncLoading() {\n    var asyncLoadingNode = renderTNode(\"asyncLoading\");\n    if (isString_1(asyncLoadingNode)) {\n      var asyncLoading = props.asyncLoading;\n      var loadingText = {\n        \"load-more\": globalConfig.value.loadingMoreText,\n        loading: globalConfig.value.loadingText\n      }[String(asyncLoading)];\n      return createVNode(\"div\", {\n        \"class\": classes.value,\n        \"onClick\": onLoadClick\n      }, [createVNode(Loading, {\n        \"indicator\": asyncLoading === \"loading\",\n        \"loading\": !!asyncLoading,\n        \"size\": \"small\",\n        \"text\": loadingText\n      }, null)]);\n    }\n    if (![null, false, void 0].includes(asyncLoadingNode)) {\n      return createVNode(\"div\", {\n        \"class\": classes.value,\n        \"onClick\": onLoadClick\n      }, [asyncLoadingNode]);\n    }\n    return null;\n  }\n  return {\n    renderAsyncLoading: renderAsyncLoading\n  };\n}\nexport { useAsyncLoading as default };","map":{"version":3,"names":["useAsyncLoading","props","renderTNode","useTNodeJSX","_useConfig","useConfig","locale","globalConfig","_useClassName","useClassName","isLoadingClass","isLoadMoreClass","asyncLoadingClass","classes","computed","_defineProperty","asyncLoading","onLoadClick","_props$onAsyncLoading","isString_1","onAsyncLoadingClick","call","status","renderAsyncLoading","asyncLoadingNode","loadingText","value","loadingMoreText","loading","String","createVNode","Loading","includes"],"sources":["../../../src/table/hooks/useAsyncLoading.tsx"],"sourcesContent":["import isString from 'lodash/isString';\nimport { computed } from 'vue';\nimport { useTNodeJSX } from '../../hooks/tnode';\nimport { TdPrimaryTableProps } from '../type';\nimport Loading from '../../loading';\nimport useClassName from './useClassName';\nimport { useConfig } from '../../hooks/useConfig';\n\nexport default function useAsyncLoading(props: TdPrimaryTableProps) {\n  const renderTNode = useTNodeJSX();\n  const { globalConfig } = useConfig('table', props.locale);\n  const { isLoadingClass, isLoadMoreClass, asyncLoadingClass } = useClassName();\n\n  const classes = computed(() => [\n    asyncLoadingClass,\n    {\n      [isLoadingClass]: props.asyncLoading === 'loading',\n      [isLoadMoreClass]: props.asyncLoading === 'load-more',\n    },\n  ]);\n\n  function onLoadClick() {\n    if (!isString(props.asyncLoading)) return;\n    props.onAsyncLoadingClick?.({ status: props.asyncLoading });\n  }\n\n  function renderAsyncLoading() {\n    const asyncLoadingNode = renderTNode('asyncLoading');\n    if (isString(asyncLoadingNode)) {\n      const { asyncLoading } = props;\n      const loadingText = {\n        'load-more': globalConfig.value.loadingMoreText,\n        loading: globalConfig.value.loadingText,\n      }[String(asyncLoading)];\n      return (\n        <div class={classes.value} onClick={onLoadClick}>\n          {<Loading indicator={asyncLoading === 'loading'} loading={!!asyncLoading} size=\"small\" text={loadingText} />}\n        </div>\n      );\n    }\n    if (![null, false, undefined].includes(asyncLoadingNode)) {\n      return (\n        <div class={classes.value} onClick={onLoadClick}>\n          {asyncLoadingNode}\n        </div>\n      );\n    }\n    return null;\n  }\n  return {\n    renderAsyncLoading,\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,SAAwBA,gBAAgBC,KAA4B;EAClE,IAAMC,WAAA,GAAcC,WAAY;EAChC,IAAAC,UAAA,GAAyBC,SAAU,UAASJ,KAAA,CAAMK,MAAM;IAAhDC,YAAa,GAAAH,UAAA,CAAbG,YAAa;EACrB,IAAAC,aAAA,GAA+DC,YAAa;IAApEC,cAAA,GAAAF,aAAA,CAAAE,cAAA;IAAgBC,eAAiB,GAAAH,aAAA,CAAjBG,eAAiB;IAAAC,iBAAA,GAAAJ,aAAA,CAAAI,iBAAA;EAEnC,IAAAC,OAAA,GAAUC,QAAA,CAAS;IAAA,OAAM,CAC7BF,iBAAA,EAAAG,eAAA,CAAAA,eAAA,KAEGL,cAAiB,EAAAT,KAAA,CAAMe,YAAiB,iBACxCL,eAAkB,EAAAV,KAAA,CAAMe,YAAiB,iBAE7C;GAAA;EAED,SAASC,WAAcA,CAAA;IAAA,IAAAC,qBAAA;IACjB,KAACC,UAAS,CAAAlB,KAAA,CAAMe,YAAY,GAAG;IACnC,CAAAE,qBAAA,GAAAjB,KAAA,CAAMmB,mBAAsB,cAAAF,qBAAA,eAA5BA,qBAAA,CAAAG,IAAA,CAAApB,KAAA,EAA4B;MAAEqB,MAAQ,EAAArB,KAAA,CAAMe;IAAa,CAAC;EAC5D;EAEA,SAASO,kBAAqBA,CAAA;IACtB,IAAAC,gBAAA,GAAmBtB,WAAA,CAAY,cAAc;IAC/C,IAAAiB,UAAA,CAASK,gBAAgB,CAAG;MACxB,IAAER,YAAA,GAAiBf,KAAA,CAAjBe,YAAA;MACR,IAAMS,WAAc;QAClB,aAAalB,YAAA,CAAamB,KAAM,CAAAC,eAAA;QAChCC,OAAA,EAASrB,YAAA,CAAamB,KAAM,CAAAD;MAC9B,EAAEI,MAAA,CAAOb,YAAY;MAEnB,OAAAc,WAAA;QAAA,OAAY,EAAAjB,OAAA,CAAQa,KAAA;iBAAgB,EAAAT;OAAA,GAAAa,WAAA,CAAAC,OAAA;QAAA,WACb,EAAAf,YAAA,KAAiB,SAAW;QAAA,SAAS,GAAC,CAACA,YAAA;QAAA;QAAA,MAAiC,EAAAS;MAAa;IAGhH;IACI,KAAC,CAAC,IAAM,SAAO,MAAS,CAAE,CAAAO,QAAA,CAASR,gBAAgB,CAAG;MAEtD,OAAAM,WAAA;QAAA,OAAY,EAAAjB,OAAA,CAAQa,KAAA;iBAAgB,EAAAT;MAAA,IACjCO,gBAAA;IAGP;IACO;EACT;EACO;IACLD,kBAAA,EAAAA;GACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}