{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { _ as _slicedToArray } from '../_chunks/dep-5efe53d1.mjs';\nimport { defineComponent, computed, createVNode, mergeProps } from 'vue';\nimport props from './props.mjs';\nimport { useContent, useTNodeJSX } from '../hooks/tnode.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/type.mjs';\nvar _Badge = defineComponent({\n  name: \"TBadge\",\n  inheritAttrs: false,\n  props: props,\n  setup: function setup(props2, _ref) {\n    var attrs = _ref.attrs;\n    var renderContent = useContent();\n    var renderTNodeJSX = useTNodeJSX();\n    var displayCount = computed(function () {\n      var count = renderTNodeJSX(\"count\");\n      if (Number.isNaN(Number(count))) {\n        return count;\n      }\n      count = Number(props2.count);\n      return count > props2.maxCount ? \"\".concat(props2.maxCount, \"+\") : count;\n    });\n    var getOffset = function getOffset() {\n      if (!props2.offset) return {};\n      var _props2$offset = _slicedToArray(props2.offset, 2),\n        xOffset = _props2$offset[0],\n        yOffset = _props2$offset[1];\n      xOffset = Number.isNaN(Number(xOffset)) ? xOffset : \"\".concat(xOffset, \"px\");\n      yOffset = Number.isNaN(Number(yOffset)) ? yOffset : \"\".concat(yOffset, \"px\");\n      return {\n        xOffset: xOffset,\n        yOffset: yOffset\n      };\n    };\n    var classPrefix = usePrefixClass();\n    var COMPONENT_NAME = usePrefixClass(\"badge\");\n    var isHidden = computed(function () {\n      return !props2.showZero && (displayCount.value === 0 || displayCount.value === \"0\");\n    });\n    var badgeClassNames = computed(function () {\n      return [_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, \"\".concat(COMPONENT_NAME.value, \"--dot\"), !!props2.dot), \"\".concat(COMPONENT_NAME.value, \"--circle\"), !props2.dot && props2.shape === \"circle\"), \"\".concat(COMPONENT_NAME.value, \"--round\"), !props2.dot && props2.shape === \"round\"), \"\".concat(classPrefix.value, \"-size-s\"), props2.size === \"small\")];\n    });\n    var inlineStyle = computed(function () {\n      var _getOffset = getOffset(),\n        xOffset = _getOffset.xOffset,\n        yOffset = _getOffset.yOffset;\n      return {\n        background: props2.color,\n        right: xOffset,\n        top: yOffset\n      };\n    });\n    return function () {\n      return createVNode(\"div\", mergeProps({\n        \"class\": COMPONENT_NAME.value\n      }, attrs), [renderContent(\"default\", \"content\"), isHidden.value ? null : createVNode(\"sup\", {\n        \"class\": badgeClassNames.value,\n        \"style\": inlineStyle.value\n      }, [props2.dot ? null : displayCount.value])]);\n    };\n  }\n});\nexport { _Badge as default };","map":{"version":3,"names":["_Badge","defineComponent","name","inheritAttrs","props","setup","props2","_ref","attrs","renderContent","useContent","renderTNodeJSX","useTNodeJSX","displayCount","computed","count","Number","isNaN","maxCount","concat","getOffset","offset","_props2$offset","_slicedToArray","xOffset","yOffset","classPrefix","usePrefixClass","COMPONENT_NAME","isHidden","showZero","value","badgeClassNames","_defineProperty","dot","shape","size","inlineStyle","_getOffset","background","color","right","top","createVNode","mergeProps"],"sources":["../../src/badge/badge.tsx"],"sourcesContent":["import { defineComponent, computed } from 'vue';\nimport props from './props';\nimport { useContent, useTNodeJSX } from '../hooks/tnode';\nimport { usePrefixClass } from '../hooks/useConfig';\n\nexport default defineComponent({\n  name: 'TBadge',\n  inheritAttrs: false,\n  props,\n  setup(props, { attrs }) {\n    const renderContent = useContent();\n    const renderTNodeJSX = useTNodeJSX();\n\n    /** 内容计算相关逻辑 start */\n    const displayCount = computed(() => {\n      let count = renderTNodeJSX('count');\n\n      if (Number.isNaN(Number(count))) {\n        return count;\n      }\n      count = Number(props.count);\n      return count > props.maxCount ? `${props.maxCount}+` : count;\n    });\n\n    const getOffset = () => {\n      if (!props.offset) return {};\n      let [xOffset, yOffset]: Array<string | number> = props.offset;\n      xOffset = Number.isNaN(Number(xOffset)) ? xOffset : `${xOffset}px`;\n      yOffset = Number.isNaN(Number(yOffset)) ? yOffset : `${yOffset}px`;\n      return { xOffset, yOffset };\n    };\n    /** 内容计算相关逻辑 end */\n\n    /** 样式计算相关逻辑 start */\n    const classPrefix = usePrefixClass();\n    const COMPONENT_NAME = usePrefixClass('badge');\n    const isHidden = computed(() => {\n      return !props.showZero && (displayCount.value === 0 || displayCount.value === '0');\n    });\n\n    const badgeClassNames = computed(() => {\n      return [\n        {\n          [`${COMPONENT_NAME.value}--dot`]: !!props.dot,\n          [`${COMPONENT_NAME.value}--circle`]: !props.dot && props.shape === 'circle',\n          [`${COMPONENT_NAME.value}--round`]: !props.dot && props.shape === 'round',\n          [`${classPrefix.value}-size-s`]: props.size === 'small',\n        },\n      ];\n    });\n\n    const inlineStyle = computed(() => {\n      const { xOffset, yOffset } = getOffset();\n      return {\n        background: props.color,\n        right: xOffset,\n        top: yOffset,\n      };\n    });\n    /** 样式计算相关逻辑 end */\n\n    return () => (\n      <div class={COMPONENT_NAME.value} {...attrs}>\n        {renderContent('default', 'content')}\n        {isHidden.value ? null : (\n          <sup class={badgeClassNames.value} style={inlineStyle.value}>\n            {props.dot ? null : displayCount.value}\n          </sup>\n        )}\n      </div>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}