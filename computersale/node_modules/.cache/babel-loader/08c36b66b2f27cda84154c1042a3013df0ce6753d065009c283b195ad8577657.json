{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { defineComponent, computed, createVNode } from 'vue';\nimport { Dialog } from '../../dialog/index.mjs';\nimport { useTNodeJSX } from '../../hooks/tnode.mjs';\nimport { usePrefixClass } from '../../hooks/useConfig.mjs';\nimport props from '../props.mjs';\nimport TImageItem from './ImageItem.mjs';\nimport TImageViewerUtils from './ImageViewerUtils.mjs';\nimport '../../dialog/dialog.mjs';\nimport '../../_chunks/dep-fa52aa21.mjs';\nimport '../../_chunks/dep-4659d73b.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../../dialog/props.mjs';\nimport '../../hooks/useGlobalIcon.mjs';\nimport '../../config-provider/useConfig.mjs';\nimport '../../_chunks/dep-06dcbf4c.mjs';\nimport '../../_chunks/dep-eca422c3.mjs';\nimport '../../_chunks/dep-bf7257e7.mjs';\nimport '../../_chunks/dep-2b09875b.mjs';\nimport '../../_chunks/dep-cda4f568.mjs';\nimport '../../_chunks/dep-bb899bfd.mjs';\nimport '../../_chunks/dep-5922c8f3.mjs';\nimport '../../_chunks/dep-92f86d1d.mjs';\nimport '../../_chunks/dep-6ab5363f.mjs';\nimport '../../_chunks/dep-6dc3d0e1.mjs';\nimport '../../_chunks/dep-76958824.mjs';\nimport '../../_chunks/dep-e9841b9e.mjs';\nimport '../../_chunks/dep-1a4bb2f2.mjs';\nimport '../../_chunks/dep-cc8ebcde.mjs';\nimport '../../_chunks/dep-29ef8419.mjs';\nimport '../../_chunks/dep-f5579c03.mjs';\nimport '../../_chunks/dep-49aeee3c.mjs';\nimport '../../_chunks/dep-b5bf85f5.mjs';\nimport '../../_chunks/dep-3c65fae8.mjs';\nimport '../../_chunks/dep-eae2a67e.mjs';\nimport '../../_chunks/dep-626c497d.mjs';\nimport '../../_chunks/dep-ec0bbd9f.mjs';\nimport '../../_chunks/dep-1b78414a.mjs';\nimport '../../_chunks/dep-d84f19b3.mjs';\nimport '../../_chunks/dep-732f0b7d.mjs';\nimport '../../_chunks/dep-03a7fb6c.mjs';\nimport '../../_chunks/dep-1b9718a2.mjs';\nimport '../../_chunks/dep-e065dc25.mjs';\nimport '../../_chunks/dep-400ec705.mjs';\nimport '../../_chunks/dep-02f9394e.mjs';\nimport '../../_chunks/dep-1725b1c7.mjs';\nimport '../../_chunks/dep-532409c5.mjs';\nimport '../../_common/js/global-config/default-config.mjs';\nimport '../../_common/js/global-config/locale/zh_CN.mjs';\nimport '../../_chunks/dep-9ed7da3e.mjs';\nimport '../../_chunks/dep-7f65fc46.mjs';\nimport '../../_chunks/dep-4f2cabb0.mjs';\nimport '../../config-provider/type.mjs';\nimport '../../dialog/hooks.mjs';\nimport '../../_chunks/dep-88ae49da.mjs';\nimport '../../_chunks/dep-7932c2e8.mjs';\nimport '../../_chunks/dep-ab4bb9b8.mjs';\nimport '../../_chunks/dep-aeaef131.mjs';\nimport '../../_chunks/dep-88c8d9ed.mjs';\nimport '../../_chunks/dep-2f6e28a0.mjs';\nimport '../../_chunks/dep-4ec29b23.mjs';\nimport '../../button/index.mjs';\nimport '../../button/button.mjs';\nimport '../../_chunks/dep-4a990ea3.mjs';\nimport '../../_chunks/dep-593f2b67.mjs';\nimport '../../loading/index.mjs';\nimport '../../_chunks/dep-bff7e93a.mjs';\nimport '../../_chunks/dep-0b414bea.mjs';\nimport '../../_chunks/dep-4d4e2af1.mjs';\nimport '../../_chunks/dep-fbd4eddb.mjs';\nimport '../../_chunks/dep-ae202bc0.mjs';\nimport '../../_chunks/dep-69e0f6fc.mjs';\nimport '../../_chunks/dep-ea20409b.mjs';\nimport '../../loading/plugin.mjs';\nimport '../../loading/loading.mjs';\nimport '../../_chunks/dep-5efe53d1.mjs';\nimport '../../loading/icon/gradient.mjs';\nimport '../../_common/js/loading/circle-adapter.mjs';\nimport '../../_common/js/utils/set-style.mjs';\nimport '../../_common/js/utils/helper.mjs';\nimport '../../_chunks/dep-5d3f7c0e.mjs';\nimport '../../_chunks/dep-73384992.mjs';\nimport '../../_chunks/dep-58a62202.mjs';\nimport '../../_chunks/dep-889e457b.mjs';\nimport '../../utils/dom.mjs';\nimport '../../utils/easing.mjs';\nimport '../../utils/render-tnode.mjs';\nimport '../../_chunks/dep-b91a8171.mjs';\nimport '../../_chunks/dep-03ad9cda.mjs';\nimport '../../_chunks/dep-d8a34055.mjs';\nimport '../../_chunks/dep-5a17bf21.mjs';\nimport '../../_chunks/dep-bad871d5.mjs';\nimport '../../loading/props.mjs';\nimport '../../hooks/useTeleport.mjs';\nimport '../../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../../loading/type.mjs';\nimport '../../button/props.mjs';\nimport '../../hooks/useRipple.mjs';\nimport '../../hooks/useKeepAnimation.mjs';\nimport '../../utils/set-style.mjs';\nimport '../../hooks/useDisabled.mjs';\nimport '../../_chunks/dep-df472119.mjs';\nimport '../../button/type.mjs';\nimport '../../hooks/useDestroyOnClose.mjs';\nimport '../../_common/js/utils/getScrollbarWidth.mjs';\nimport '../../hooks/usePopupManager.mjs';\nimport '../../_chunks/dep-f909a041.mjs';\nimport '../../dialog/type.mjs';\nimport '../../dialog/plugin.mjs';\nimport '../../_chunks/dep-0d047dce.mjs';\nimport '../../hooks/useImagePreviewUrl.mjs';\nimport '../../_common/js/upload/utils.mjs';\nimport '../../_common/js/log/log.mjs';\nimport '../hooks.mjs';\nimport '../../_common/js/input-number/number.mjs';\nimport '../../_common/js/input-number/large-number.mjs';\nimport '../../_common/js/log/index.mjs';\nimport '../../_chunks/dep-525a54df.mjs';\nimport '../../_chunks/dep-5993931e.mjs';\nimport '../../_chunks/dep-8dfc9324.mjs';\nimport './ImageModalIcon.mjs';\nimport '../../tooltip/index.mjs';\nimport '../../tooltip/tooltip.mjs';\nimport '../../tooltip/props.mjs';\nimport '../../popup/props.mjs';\nimport '../../popup/index.mjs';\nimport '../../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../../hooks/index.mjs';\nimport '../../hooks/icon.mjs';\nimport '../../hooks/slot.mjs';\nimport '../../hooks/useCommonClassName.mjs';\nimport '../../hooks/useDefaultValue.mjs';\nimport '../../hooks/useVirtualScroll.mjs';\nimport '../../hooks/useVModel.mjs';\nimport '../../popup/container.mjs';\nimport '../../hooks/useResizeObserver.mjs';\nimport '../../popup/type.mjs';\nimport '../../tooltip/util.mjs';\nimport '../../tooltip/type.mjs';\nimport '../utils.mjs';\nvar TImageViewerModal = defineComponent({\n  name: \"TImageViewerModal\",\n  props: {\n    zIndex: Number,\n    visible: Boolean,\n    index: Number,\n    images: props.images,\n    scale: Number,\n    rotate: Number,\n    mirror: Number,\n    title: props.title,\n    currentImage: {\n      type: Object,\n      \"default\": function _default() {\n        return {};\n      }\n    },\n    onRotate: Function,\n    onZoomIn: Function,\n    onZoomOut: Function,\n    onMirror: Function,\n    onReset: Function,\n    onClose: props.onClose,\n    draggable: {\n      type: Boolean,\n      \"default\": true\n    },\n    viewerScale: {\n      type: Object,\n      \"default\": function _default() {\n        return {};\n      }\n    },\n    showOverlay: Boolean,\n    closeBtn: props.closeBtn\n  },\n  setup: function setup(props2) {\n    var classPrefix = usePrefixClass();\n    var renderJSX = useTNodeJSX();\n    var style = computed(function () {\n      return {\n        minWidth: props2.viewerScale.minWidth,\n        minHeight: props2.viewerScale.minHeight\n      };\n    });\n    return function () {\n      return createVNode(Dialog, {\n        \"destroyOnClose\": true,\n        \"attach\": \"body\",\n        \"onClose\": props2.onClose,\n        \"visible\": props2.visible,\n        \"placement\": \"center\",\n        \"mode\": \"modeless\",\n        \"width\": 1e3,\n        \"cancelBtn\": null,\n        \"confirmBtn\": null,\n        \"draggable\": props2.draggable,\n        \"zIndex\": props2.zIndex,\n        \"showOverlay\": props2.showOverlay,\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__dialog\"),\n        \"header\": renderJSX(\"title\", \"\"),\n        \"footer\": function footer() {\n          return createVNode(\"div\", {\n            \"class\": \"\".concat(classPrefix.value, \"-image-viewer-mini__footer\")\n          }, [createVNode(TImageViewerUtils, {\n            \"onZoomIn\": props2.onZoomIn,\n            \"onZoomOut\": props2.onZoomOut,\n            \"scale\": props2.scale,\n            \"currentImage\": props2.currentImage,\n            \"onRotate\": props2.onRotate,\n            \"onMirror\": props2.onMirror,\n            \"onReset\": props2.onReset\n          }, null)]);\n        }\n      }, {\n        \"default\": function _default() {\n          return [createVNode(\"div\", {\n            \"class\": \"\".concat(classPrefix.value, \"-image-viewer-mini__content\"),\n            \"style\": style.value\n          }, [createVNode(TImageItem, {\n            \"rotate\": props2.rotate,\n            \"scale\": props2.scale,\n            \"mirror\": props2.mirror,\n            \"src\": props2.currentImage.mainImage,\n            \"placementSrc\": props2.currentImage.thumbnail,\n            \"isSvg\": props2.currentImage.isSvg\n          }, null)])];\n        }\n      });\n    };\n  }\n});\nexport { TImageViewerModal as default };","map":{"version":3,"names":["TImageViewerModal","defineComponent","name","props","zIndex","Number","visible","Boolean","index","images","scale","rotate","mirror","title","currentImage","type","Object","_default","onRotate","Function","onZoomIn","onZoomOut","onMirror","onReset","onClose","draggable","viewerScale","showOverlay","closeBtn","setup","props2","classPrefix","usePrefixClass","renderJSX","useTNodeJSX","style","computed","minWidth","minHeight","createVNode","Dialog","concat","value","footer","mainImage","thumbnail","isSvg"],"sources":["../../../src/image-viewer/base/ImageViewerModal.tsx"],"sourcesContent":["import { computed, defineComponent, PropType } from 'vue';\nimport TDialog from '../../dialog';\nimport { useTNodeJSX } from '../../hooks/tnode';\nimport { usePrefixClass } from '../../hooks/useConfig';\nimport props from '../props';\nimport { ImageInfo, TdImageViewerProps } from '../type';\nimport TImageItem from './ImageItem';\nimport TImageViewerUtils from './ImageViewerUtils';\n\nexport default defineComponent({\n  name: 'TImageViewerModal',\n  props: {\n    zIndex: Number,\n    visible: Boolean,\n    index: Number,\n    images: props.images,\n    scale: Number,\n    rotate: Number,\n    mirror: Number,\n    title: props.title,\n    currentImage: {\n      type: Object as PropType<ImageInfo>,\n      default() {\n        return {};\n      },\n    },\n    onRotate: Function as PropType<() => void>,\n    onZoomIn: Function as PropType<() => void>,\n    onZoomOut: Function as PropType<() => void>,\n    onMirror: Function as PropType<() => void>,\n    onReset: Function as PropType<() => void>,\n    onClose: props.onClose,\n    draggable: {\n      type: Boolean,\n      default: true,\n    },\n    viewerScale: {\n      type: Object as PropType<TdImageViewerProps['viewerScale']>,\n      default() {\n        return {};\n      },\n    },\n    showOverlay: Boolean,\n    closeBtn: props.closeBtn,\n  },\n  setup(props) {\n    const classPrefix = usePrefixClass();\n    const renderJSX = useTNodeJSX();\n    const style = computed(() => ({\n      minWidth: props.viewerScale.minWidth,\n      minHeight: props.viewerScale.minHeight,\n    }));\n\n    return () => (\n      <TDialog\n        destroyOnClose\n        attach=\"body\"\n        onClose={props.onClose}\n        visible={props.visible}\n        placement=\"center\"\n        mode=\"modeless\"\n        width={1000}\n        cancelBtn={null}\n        confirmBtn={null}\n        draggable={props.draggable}\n        zIndex={props.zIndex}\n        showOverlay={props.showOverlay}\n        class={`${classPrefix.value}-image-viewer__dialog`}\n        header={renderJSX('title', '')}\n        footer={() => (\n          <div class={`${classPrefix.value}-image-viewer-mini__footer`}>\n            <TImageViewerUtils\n              onZoomIn={props.onZoomIn}\n              onZoomOut={props.onZoomOut}\n              scale={props.scale}\n              currentImage={props.currentImage}\n              onRotate={props.onRotate}\n              onMirror={props.onMirror}\n              onReset={props.onReset}\n            />\n          </div>\n        )}\n      >\n        <div class={`${classPrefix.value}-image-viewer-mini__content`} style={style.value}>\n          <TImageItem\n            rotate={props.rotate}\n            scale={props.scale}\n            mirror={props.mirror}\n            src={props.currentImage.mainImage}\n            placementSrc={props.currentImage.thumbnail}\n            isSvg={props.currentImage.isSvg}\n          />\n        </div>\n      </TDialog>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}