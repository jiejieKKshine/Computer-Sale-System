{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _slicedToArray } from '../_chunks/dep-5efe53d1.mjs';\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { isVNode, defineComponent, toRefs, ref, computed, watch, nextTick, onMounted, createVNode, mergeProps } from 'vue';\nimport { p as pick_1 } from '../_chunks/dep-4de7e2ca.mjs';\nimport { g as get_1 } from '../_chunks/dep-ae202bc0.mjs';\nimport baseTableProps from './base-table-props.mjs';\nimport useTableHeader from './hooks/useTableHeader.mjs';\nimport useColumnResize from './hooks/useColumnResize.mjs';\nimport useFixed from './hooks/useFixed.mjs';\nimport usePagination from './hooks/usePagination.mjs';\nimport useVirtualScroll from '../hooks/useVirtualScrollNew.mjs';\nimport useAffix from './hooks/useAffix.mjs';\nimport { Loading } from '../loading/index.mjs';\nimport TBody, { extendTableProps } from './tbody.mjs';\nimport { useTNodeJSX } from '../hooks/tnode.mjs';\nimport useStyle, { formatCSSUnit } from './hooks/useStyle.mjs';\nimport useClassName from './hooks/useClassName.mjs';\nimport '../hooks/useConfig.mjs';\nimport { Affix } from '../affix/index.mjs';\nimport { ROW_LISTENERS } from './tr.mjs';\nimport THead from './thead.mjs';\nimport TFoot from './tfoot.mjs';\nimport { getAffixProps } from './utils.mjs';\nimport { getIEVersion } from '../_common/js/utils/helper.mjs';\nimport '../_common/js/log/index.mjs';\nimport { useRowHighlight } from './hooks/useRowHighlight.mjs';\nimport { useHoverKeyboardEvent } from './hooks/useHoverKeyboardEvent.mjs';\nimport { useElementLazyRender } from '../hooks/useElementLazyRender.mjs';\nimport { i as isFunction_1 } from '../_chunks/dep-06dcbf4c.mjs';\nimport { t as throttle_1 } from '../_chunks/dep-525a54df.mjs';\nimport { useConfig } from '../config-provider/useConfig.mjs';\nimport log from '../_common/js/log/log.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-aeaef131.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-0e581ac0.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-69e0f6fc.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-4ec29b23.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport './hooks/useMultiHeader.mjs';\nimport './ellipsis.mjs';\nimport '../_chunks/dep-5993931e.mjs';\nimport '../_chunks/dep-8dfc9324.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../tooltip/index.mjs';\nimport '../tooltip/tooltip.mjs';\nimport '../_chunks/dep-88ae49da.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-88c8d9ed.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../tooltip/props.mjs';\nimport '../popup/props.mjs';\nimport '../popup/index.mjs';\nimport '../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../popup/container.mjs';\nimport '../_chunks/dep-4a990ea3.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../popup/type.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../config-provider/type.mjs';\nimport '../tooltip/util.mjs';\nimport '../tooltip/type.mjs';\nimport '../_chunks/dep-889e457b.mjs';\nimport '../_chunks/dep-6a7115de.mjs';\nimport '../_chunks/dep-4d4e2af1.mjs';\nimport '../_chunks/dep-3c4e4325.mjs';\nimport '../_chunks/dep-fbd4eddb.mjs';\nimport '../_common/js/utils/getScrollbarWidth.mjs';\nimport '../pagination/index.mjs';\nimport '../pagination/pagination.mjs';\nimport '../_chunks/dep-5d3f7c0e.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../hooks/useGlobalIcon.mjs';\nimport '../input-number/index.mjs';\nimport '../input-number/input-number.mjs';\nimport '../button/index.mjs';\nimport '../button/button.mjs';\nimport '../button/props.mjs';\nimport '../hooks/useDisabled.mjs';\nimport '../_chunks/dep-df472119.mjs';\nimport '../_chunks/dep-bff7e93a.mjs';\nimport '../_chunks/dep-0b414bea.mjs';\nimport '../_chunks/dep-ea20409b.mjs';\nimport '../loading/plugin.mjs';\nimport '../loading/loading.mjs';\nimport '../loading/icon/gradient.mjs';\nimport '../_common/js/loading/circle-adapter.mjs';\nimport '../loading/props.mjs';\nimport '../hooks/useTeleport.mjs';\nimport '../_chunks/dep-73384992.mjs';\nimport '../_chunks/dep-58a62202.mjs';\nimport '../loading/type.mjs';\nimport '../button/type.mjs';\nimport '../input/index.mjs';\nimport '../input/input.mjs';\nimport '../input/props.mjs';\nimport '../hooks/useReadonly.mjs';\nimport '../input/useInput.mjs';\nimport '../form/const.mjs';\nimport '../input/useLengthLimit.mjs';\nimport '../input/useInputEventHandler.mjs';\nimport '../input/useInputWidth.mjs';\nimport '../input/input-group.mjs';\nimport '../input/input-group-props.mjs';\nimport '../input/type.mjs';\nimport '../input-number/props.mjs';\nimport '../input-number/hooks/useInputNumber.mjs';\nimport '../_common/js/input-number/number.mjs';\nimport '../_common/js/input-number/large-number.mjs';\nimport '../input-number/type.mjs';\nimport '../select/index.mjs';\nimport '../select/select.mjs';\nimport '../_chunks/dep-0d047dce.mjs';\nimport '../_chunks/dep-64c2053b.mjs';\nimport '../common-components/fake-arrow.mjs';\nimport '../select-input/index.mjs';\nimport '../select-input/select-input.mjs';\nimport '../select-input/props.mjs';\nimport '../select-input/useSingle.mjs';\nimport '../select-input/useMultiple.mjs';\nimport '../tag-input/index.mjs';\nimport '../tag-input/tag-input.mjs';\nimport '../tag-input/props.mjs';\nimport '../tag-input/hooks/useTagScroll.mjs';\nimport '../tag-input/useTagList.mjs';\nimport '../tag/index.mjs';\nimport '../tag/tag.mjs';\nimport '../_chunks/dep-9ac991f3.mjs';\nimport '../tag/props.mjs';\nimport '../tag/check-tag.mjs';\nimport '../tag/check-tag-props.mjs';\nimport '../_common/js/common.mjs';\nimport '../tag/check-tag-group.mjs';\nimport '../tag/check-tag-group-props.mjs';\nimport '../tag/type.mjs';\nimport '../tag-input/hooks/useHover.mjs';\nimport '../tag-input/hooks/useDragSorter.mjs';\nimport '../tag-input/type.mjs';\nimport '../select-input/useOverlayInnerStyle.mjs';\nimport '../select-input/type.mjs';\nimport '../select/select-panel.mjs';\nimport '../select/option.mjs';\nimport '../select/option-props.mjs';\nimport '../checkbox/index.mjs';\nimport '../checkbox/checkbox.mjs';\nimport '../checkbox/props.mjs';\nimport '../checkbox/constants.mjs';\nimport '../checkbox/hooks/useCheckboxLazyLoad.mjs';\nimport '../_common/js/utils/observe.mjs';\nimport '../checkbox/hooks/useKeyboardEvent.mjs';\nimport '../checkbox/group.mjs';\nimport '../checkbox/checkbox-group-props.mjs';\nimport '../checkbox/type.mjs';\nimport '../select/helper.mjs';\nimport '../select/optionGroup.mjs';\nimport '../select/option-group-props.mjs';\nimport '../select/props.mjs';\nimport '../select/hooks/usePanelVirtualScroll.mjs';\nimport '../select/hooks/useSelectOptions.mjs';\nimport '../select/hooks/useKeyboardControl.mjs';\nimport '../select/type.mjs';\nimport '../input-adornment/index.mjs';\nimport '../input-adornment/input-adornment.mjs';\nimport '../input-adornment/props.mjs';\nimport '../input-adornment/type.mjs';\nimport '../pagination/props.mjs';\nimport '../pagination/usePaginationClasses.mjs';\nimport '../pagination/useMoreAction.mjs';\nimport '../pagination/pagination-mini.mjs';\nimport '../pagination/pagination-mini-props.mjs';\nimport '../pagination/type.mjs';\nimport './hooks/useRowspanAndColspan.mjs';\nimport '../affix/affix.mjs';\nimport '../affix/props.mjs';\nimport '../affix/type.mjs';\nimport './hooks/useLazyLoad.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar BASE_TABLE_EVENTS = [\"page-change\", \"cell-click\", \"scroll\", \"scrollX\", \"scrollY\"];\nvar BASE_TABLE_ALL_EVENTS = ROW_LISTENERS.map(function (t) {\n  return \"row-\".concat(t);\n}).concat(BASE_TABLE_EVENTS);\nvar _BaseTable = defineComponent({\n  name: \"TBaseTable\",\n  props: _objectSpread(_objectSpread({}, baseTableProps), {}, {\n    renderExpandedRow: Function,\n    onLeafColumnsChange: Function,\n    thDraggable: Boolean\n  }),\n  emits: [\"show-element-change\"],\n  setup: function setup(props2, context) {\n    var _toRefs = toRefs(props2),\n      lazyLoad = _toRefs.lazyLoad;\n    var renderTNode = useTNodeJSX();\n    var tableRef = ref();\n    var tableElmRef = ref();\n    var tableBodyRef = ref();\n    var bottomContentRef = ref();\n    var tableFootHeight = ref(0);\n    var _useClassName = useClassName(),\n      classPrefix = _useClassName.classPrefix,\n      virtualScrollClasses = _useClassName.virtualScrollClasses,\n      tableLayoutClasses = _useClassName.tableLayoutClasses,\n      tableBaseClass = _useClassName.tableBaseClass,\n      tableColFixedClasses = _useClassName.tableColFixedClasses;\n    var _useStyle = useStyle(props2),\n      tableClasses = _useStyle.tableClasses,\n      sizeClassNames = _useStyle.sizeClassNames,\n      tableContentStyles = _useStyle.tableContentStyles,\n      tableElementStyles = _useStyle.tableElementStyles;\n    var _useConfig = useConfig(\"table\", props2.locale),\n      globalConfig = _useConfig.globalConfig;\n    var _useTableHeader = useTableHeader(props2),\n      isMultipleHeader = _useTableHeader.isMultipleHeader,\n      spansAndLeafNodes = _useTableHeader.spansAndLeafNodes,\n      thList = _useTableHeader.thList;\n    var finalColumns = computed(function () {\n      var _spansAndLeafNodes$va;\n      return ((_spansAndLeafNodes$va = spansAndLeafNodes.value) === null || _spansAndLeafNodes$va === void 0 ? void 0 : _spansAndLeafNodes$va.leafColumns) || props2.columns;\n    });\n    var tableSize = computed(function () {\n      var _props2$size;\n      return (_props2$size = props2.size) !== null && _props2$size !== void 0 ? _props2$size : globalConfig.value.size;\n    });\n    var _useElementLazyRender = useElementLazyRender(tableRef, lazyLoad),\n      showElement = _useElementLazyRender.showElement;\n    var paginationAffixRef = ref();\n    var horizontalScrollAffixRef = ref();\n    var headerTopAffixRef = ref();\n    var footerBottomAffixRef = ref();\n    var _useFixed = useFixed(props2, context, finalColumns, {\n        paginationAffixRef: paginationAffixRef,\n        horizontalScrollAffixRef: horizontalScrollAffixRef,\n        headerTopAffixRef: headerTopAffixRef,\n        footerBottomAffixRef: footerBottomAffixRef\n      }),\n      scrollbarWidth = _useFixed.scrollbarWidth,\n      virtualScrollHeaderPos = _useFixed.virtualScrollHeaderPos,\n      tableWidth = _useFixed.tableWidth,\n      tableElmWidth = _useFixed.tableElmWidth,\n      tableContentRef = _useFixed.tableContentRef,\n      isFixedHeader = _useFixed.isFixedHeader,\n      isWidthOverflow = _useFixed.isWidthOverflow,\n      isFixedColumn = _useFixed.isFixedColumn,\n      thWidthList = _useFixed.thWidthList,\n      showColumnShadow = _useFixed.showColumnShadow,\n      rowAndColFixedPosition = _useFixed.rowAndColFixedPosition,\n      setData = _useFixed.setData,\n      refreshTable = _useFixed.refreshTable,\n      setTableElmWidth = _useFixed.setTableElmWidth,\n      emitScrollEvent = _useFixed.emitScrollEvent,\n      setUseFixedTableElmRef = _useFixed.setUseFixedTableElmRef,\n      updateColumnFixedShadow = _useFixed.updateColumnFixedShadow,\n      getThWidthList = _useFixed.getThWidthList,\n      updateThWidthList = _useFixed.updateThWidthList,\n      addTableResizeObserver = _useFixed.addTableResizeObserver,\n      updateTableAfterColumnResize = _useFixed.updateTableAfterColumnResize;\n    var _useAffix = useAffix(props2),\n      affixHeaderRef = _useAffix.affixHeaderRef,\n      affixFooterRef = _useAffix.affixFooterRef,\n      horizontalScrollbarRef = _useAffix.horizontalScrollbarRef,\n      paginationRef = _useAffix.paginationRef,\n      showAffixHeader = _useAffix.showAffixHeader,\n      showAffixFooter = _useAffix.showAffixFooter,\n      showAffixPagination = _useAffix.showAffixPagination,\n      onHorizontalScroll = _useAffix.onHorizontalScroll,\n      setTableContentRef = _useAffix.setTableContentRef,\n      updateAffixHeaderOrFooter = _useAffix.updateAffixHeaderOrFooter;\n    var _usePagination = usePagination(props2, context),\n      dataSource = _usePagination.dataSource,\n      innerPagination = _usePagination.innerPagination,\n      isPaginateData = _usePagination.isPaginateData,\n      renderPagination = _usePagination.renderPagination;\n    var columnResizeParams = useColumnResize({\n      isWidthOverflow: isWidthOverflow,\n      tableContentRef: tableContentRef,\n      showColumnShadow: showColumnShadow,\n      getThWidthList: getThWidthList,\n      updateThWidthList: updateThWidthList,\n      setTableElmWidth: setTableElmWidth,\n      updateTableAfterColumnResize: updateTableAfterColumnResize,\n      onColumnResizeChange: props2.onColumnResizeChange\n    });\n    var resizeLineRef = columnResizeParams.resizeLineRef,\n      resizeLineStyle = columnResizeParams.resizeLineStyle,\n      setEffectColMap = columnResizeParams.setEffectColMap;\n    var dynamicBaseTableClasses = computed(function () {\n      return [tableClasses.value, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, tableBaseClass.headerFixed, isFixedHeader.value), tableBaseClass.columnFixed, isFixedColumn.value), tableBaseClass.widthOverflow, isWidthOverflow.value), tableBaseClass.multipleHeader, isMultipleHeader.value), tableColFixedClasses.leftShadow, showColumnShadow.left), tableColFixedClasses.rightShadow, showColumnShadow.right), tableBaseClass.columnResizableTable, props2.resizable), \"\".concat(classPrefix, \"-table__row--active-\").concat(props2.activeRowType), props2.activeRowType)];\n    });\n    var tableElmClasses = computed(function () {\n      return [[tableLayoutClasses[props2.tableLayout]]];\n    });\n    var showRightDivider = computed(function () {\n      return props2.bordered && isFixedHeader.value && (isMultipleHeader.value && isWidthOverflow.value || !isMultipleHeader.value);\n    });\n    var dividerBottom = computed(function () {\n      var _bottomContentRef$val, _paginationRef$value;\n      if (!props2.bordered) return 0;\n      var bottomRect = (_bottomContentRef$val = bottomContentRef.value) === null || _bottomContentRef$val === void 0 ? void 0 : _bottomContentRef$val.getBoundingClientRect();\n      var paginationRect = (_paginationRef$value = paginationRef.value) === null || _paginationRef$value === void 0 ? void 0 : _paginationRef$value.getBoundingClientRect();\n      return ((bottomRect === null || bottomRect === void 0 ? void 0 : bottomRect.height) || 0) + ((paginationRect === null || paginationRect === void 0 ? void 0 : paginationRect.height) || 0);\n    });\n    var _useRowHighlight = useRowHighlight(props2, tableRef),\n      tActiveRow = _useRowHighlight.tActiveRow,\n      onHighlightRow = _useRowHighlight.onHighlightRow,\n      addHighlightKeyboardListener = _useRowHighlight.addHighlightKeyboardListener,\n      removeHighlightKeyboardListener = _useRowHighlight.removeHighlightKeyboardListener;\n    var _useHoverKeyboardEven = useHoverKeyboardEvent(props2, tableRef),\n      hoverRow = _useHoverKeyboardEven.hoverRow,\n      needKeyboardRowHover = _useHoverKeyboardEven.needKeyboardRowHover,\n      clearHoverRow = _useHoverKeyboardEven.clearHoverRow,\n      addRowHoverKeyboardListener = _useHoverKeyboardEven.addRowHoverKeyboardListener,\n      removeRowHoverKeyboardListener = _useHoverKeyboardEven.removeRowHoverKeyboardListener;\n    watch(tableElmRef, function () {\n      setUseFixedTableElmRef(tableElmRef.value);\n    });\n    watch(function () {\n      return [props2.data, dataSource];\n    }, function () {\n      setData(isPaginateData.value ? dataSource.value : props2.data);\n    });\n    watch(spansAndLeafNodes, function () {\n      var _props2$onLeafColumns;\n      (_props2$onLeafColumns = props2.onLeafColumnsChange) === null || _props2$onLeafColumns === void 0 || _props2$onLeafColumns.call(props2, spansAndLeafNodes.value.leafColumns);\n      setEffectColMap(spansAndLeafNodes.value.leafColumns, null);\n    }, {\n      immediate: true\n    });\n    var onFixedChange = function onFixedChange() {\n      nextTick(function () {\n        onHorizontalScroll();\n        updateAffixHeaderOrFooter();\n      });\n    };\n    var syncThWidthList = throttle_1(function () {\n      updateThWidthList(getThWidthList(\"calculate\"));\n    });\n    var virtualScrollParams = computed(function () {\n      return {\n        data: props2.data,\n        scroll: _objectSpread(_objectSpread({}, props2.scroll), {}, {\n          fixedRows: props2.fixedRows\n        })\n      };\n    });\n    var virtualConfig = useVirtualScroll(tableContentRef, virtualScrollParams);\n    var lastScrollY = -1;\n    var onInnerVirtualScroll = function onInnerVirtualScroll(e) {\n      var target = e.target || e.srcElement;\n      var top = target.scrollTop;\n      if (lastScrollY !== top) {\n        virtualConfig.isVirtualScroll.value && virtualConfig.handleScroll();\n      } else {\n        lastScrollY = -1;\n        updateColumnFixedShadow(target);\n      }\n      lastScrollY = top;\n      emitScrollEvent(e);\n      if (props2.tableLayout === \"auto\") {\n        syncThWidthList();\n      }\n    };\n    var getTFootHeight = function getTFootHeight() {\n      var _tableElmRef$value$qu;\n      if (!tableElmRef.value) return;\n      tableFootHeight.value = (_tableElmRef$value$qu = tableElmRef.value.querySelector(\"tfoot\")) === null || _tableElmRef$value$qu === void 0 ? void 0 : _tableElmRef$value$qu.getBoundingClientRect().height;\n    };\n    var scrollColumnIntoView = function scrollColumnIntoView(colKey) {\n      if (!tableContentRef.value) return;\n      var thDom = tableContentRef.value.querySelector(\"th[data-colkey=\\\"\".concat(colKey, \"\\\"]\"));\n      var fixedThDom = tableContentRef.value.querySelectorAll(\"th.t-table__cell--fixed-left\");\n      var totalWidth = 0;\n      for (var i = 0, len = fixedThDom.length; i < len; i++) {\n        totalWidth += fixedThDom[i].getBoundingClientRect().width;\n      }\n      var domRect = thDom.getBoundingClientRect();\n      var contentRect = tableContentRef.value.getBoundingClientRect();\n      var distance = domRect.left - contentRect.left - totalWidth;\n      tableContentRef.value.scrollTo({\n        left: distance,\n        behavior: \"smooth\"\n      });\n    };\n    watch(tableContentRef, function () {\n      setTableContentRef(tableContentRef.value);\n      if (props2.tableLayout === \"auto\") {\n        syncThWidthList();\n      }\n    });\n    watch(function () {\n      return [tableElmRef.value, props2.footData, props2.footerSummary, props2.columns];\n    }, function () {\n      var timer = setTimeout(function () {\n        getTFootHeight();\n        clearTimeout(timer);\n      }, 0);\n    });\n    watch(tableRef, function (tableRef2) {\n      addTableResizeObserver(tableRef2);\n    });\n    onMounted(function () {\n      getTFootHeight();\n      setTableContentRef(tableContentRef.value);\n      addTableResizeObserver(tableRef.value);\n    });\n    var onTableFocus = function onTableFocus() {\n      props2.activeRowType && addHighlightKeyboardListener();\n      needKeyboardRowHover.value && addRowHoverKeyboardListener();\n    };\n    var onTableBlur = function onTableBlur() {\n      props2.activeRowType && removeHighlightKeyboardListener();\n      needKeyboardRowHover.value && removeRowHoverKeyboardListener();\n    };\n    var onInnerRowClick = function onInnerRowClick(ctx) {\n      var _props2$onRowClick;\n      (_props2$onRowClick = props2.onRowClick) === null || _props2$onRowClick === void 0 || _props2$onRowClick.call(props2, ctx);\n      props2.activeRowType && onHighlightRow(ctx);\n      needKeyboardRowHover.value && clearHoverRow();\n    };\n    watch([showElement], function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 1),\n        showElement2 = _ref3[0];\n      context.emit(\"show-element-change\", showElement2);\n    }, {\n      immediate: true\n    });\n    var tableData = computed(function () {\n      return isPaginateData.value ? dataSource.value : props2.data;\n    });\n    var scrollToElement = function scrollToElement(params) {\n      var index = params.index;\n      if (!index && index !== 0) {\n        var _tableData$value;\n        if (!params.key) {\n          log.error(\"Table\", \"scrollToElement: one of `index` or `key` must exist.\");\n          return;\n        }\n        index = (_tableData$value = tableData.value) === null || _tableData$value === void 0 ? void 0 : _tableData$value.findIndex(function (item) {\n          return get_1(item, props2.rowKey) === params.key;\n        });\n        if (index < 0) {\n          log.error(\"Table\", \"\".concat(params.key, \" does not exist in data, check `rowKey` or `data` please.\"));\n        }\n      }\n      virtualConfig.scrollToElement(_objectSpread(_objectSpread({}, params), {}, {\n        index: index - 1\n      }));\n    };\n    return {\n      thList: thList,\n      classPrefix: classPrefix,\n      innerPagination: innerPagination,\n      globalConfig: globalConfig,\n      tableFootHeight: tableFootHeight,\n      virtualScrollHeaderPos: virtualScrollHeaderPos,\n      tableSize: tableSize,\n      tableWidth: tableWidth,\n      tableElmWidth: tableElmWidth,\n      tableRef: tableRef,\n      tableElmRef: tableElmRef,\n      sizeClassNames: sizeClassNames,\n      tableBaseClass: tableBaseClass,\n      spansAndLeafNodes: spansAndLeafNodes,\n      dynamicBaseTableClasses: dynamicBaseTableClasses,\n      tableContentStyles: tableContentStyles,\n      tableElementStyles: tableElementStyles,\n      dividerBottom: dividerBottom,\n      virtualScrollClasses: virtualScrollClasses,\n      tableLayoutClasses: tableLayoutClasses,\n      tableElmClasses: tableElmClasses,\n      tableContentRef: tableContentRef,\n      isFixedHeader: isFixedHeader,\n      isWidthOverflow: isWidthOverflow,\n      isFixedColumn: isFixedColumn,\n      rowAndColFixedPosition: rowAndColFixedPosition,\n      showColumnShadow: showColumnShadow,\n      thWidthList: thWidthList,\n      isPaginateData: isPaginateData,\n      dataSource: dataSource,\n      affixHeaderRef: affixHeaderRef,\n      affixFooterRef: affixFooterRef,\n      bottomContentRef: bottomContentRef,\n      paginationRef: paginationRef,\n      showAffixHeader: showAffixHeader,\n      showAffixFooter: showAffixFooter,\n      scrollbarWidth: scrollbarWidth,\n      isMultipleHeader: isMultipleHeader,\n      showRightDivider: showRightDivider,\n      resizeLineRef: resizeLineRef,\n      resizeLineStyle: resizeLineStyle,\n      columnResizeParams: columnResizeParams,\n      horizontalScrollbarRef: horizontalScrollbarRef,\n      tableBodyRef: tableBodyRef,\n      virtualConfig: virtualConfig,\n      showAffixPagination: showAffixPagination,\n      tActiveRow: tActiveRow,\n      hoverRow: hoverRow,\n      showElement: showElement,\n      scrollToElement: scrollToElement,\n      renderPagination: renderPagination,\n      renderTNode: renderTNode,\n      onFixedChange: onFixedChange,\n      onHorizontalScroll: onHorizontalScroll,\n      updateAffixHeaderOrFooter: updateAffixHeaderOrFooter,\n      onInnerVirtualScroll: onInnerVirtualScroll,\n      refreshTable: refreshTable,\n      scrollColumnIntoView: scrollColumnIntoView,\n      onTableFocus: onTableFocus,\n      onTableBlur: onTableBlur,\n      onInnerRowClick: onInnerRowClick,\n      paginationAffixRef: paginationAffixRef,\n      horizontalScrollAffixRef: horizontalScrollAffixRef,\n      headerTopAffixRef: headerTopAffixRef,\n      footerBottomAffixRef: footerBottomAffixRef\n    };\n  },\n  render: function render() {\n    var _this$spansAndLeafNod,\n      _this$allowResizeColu,\n      _this = this,\n      _this$affixHeaderRef,\n      _this$footData,\n      _this$tableFootHeight,\n      _this$tableFootHeight2,\n      _affixHeaderHeight$va,\n      _this$tableContentRef;\n    if (!this.showElement) {\n      return createVNode(\"div\", {\n        \"ref\": \"tableRef\"\n      }, null);\n    }\n    var rowAndColFixedPosition = this.rowAndColFixedPosition,\n      tableLayout = this.tableLayout;\n    var data = this.isPaginateData ? this.dataSource : this.data;\n    var columns = ((_this$spansAndLeafNod = this.spansAndLeafNodes) === null || _this$spansAndLeafNod === void 0 ? void 0 : _this$spansAndLeafNod.leafColumns) || this.columns;\n    var columnResizable = (_this$allowResizeColu = this.allowResizeColumnWidth) !== null && _this$allowResizeColu !== void 0 ? _this$allowResizeColu : this.resizable;\n    if (columnResizable && tableLayout === \"auto\") {\n      log.warn(\"Table\", \"table-layout can not be `auto`, cause you are using column resizable, set `table-layout: fixed` please.\");\n    }\n    var defaultColWidth = tableLayout === \"fixed\" && this.isWidthOverflow ? \"100px\" : void 0;\n    var renderColGroup = function renderColGroup() {\n      var isAffixHeader = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      return createVNode(\"colgroup\", null, [columns.map(function (col) {\n        var style = {\n          width: formatCSSUnit((isAffixHeader || columnResizable ? _this.thWidthList[col.colKey] : void 0) || col.width) || defaultColWidth\n        };\n        if (col.minWidth) {\n          style.minWidth = formatCSSUnit(col.minWidth);\n        }\n        if (!style.width && !col.minWidth && _this.tableLayout === \"fixed\") {\n          style.minWidth = \"80px\";\n        }\n        return createVNode(\"col\", {\n          \"key\": col.colKey,\n          \"style\": style\n        }, null);\n      })]);\n    };\n    var renderAffixedHeader = function renderAffixedHeader() {\n      if (_this.showHeader === false) return null;\n      return !!(_this.virtualConfig.isVirtualScroll.value || _this.headerAffixedTop) && (_this.headerAffixedTop ? createVNode(Affix, mergeProps({\n        \"offsetTop\": 0\n      }, getAffixProps(_this.headerAffixedTop), {\n        \"onFixedChange\": _this.onFixedChange,\n        \"ref\": \"headerTopAffixRef\"\n      }), _isSlot(affixHeaderWithWrap) ? affixHeaderWithWrap : {\n        \"default\": function _default() {\n          return [affixHeaderWithWrap];\n        }\n      }) : _this.isFixedHeader && affixHeaderWithWrap);\n    };\n    var renderAffixedHorizontalScrollbar = function renderAffixedHorizontalScrollbar() {\n      return createVNode(Affix, mergeProps({\n        \"offsetBottom\": 0\n      }, getAffixProps(_this.horizontalScrollAffixedBottom), {\n        \"style\": {\n          marginTop: \"-\".concat(_this.scrollbarWidth * 2, \"px\")\n        },\n        \"horizontalScrollAffixedBottom\": true,\n        \"ref\": \"horizontalScrollAffixRef\"\n      }), {\n        \"default\": function _default() {\n          return [createVNode(\"div\", {\n            \"ref\": \"horizontalScrollbarRef\",\n            \"class\": [\"scrollbar\", _this.tableBaseClass.obviousScrollbar],\n            \"style\": {\n              width: \"\".concat(_this.tableWidth, \"px\"),\n              overflow: \"auto\",\n              opacity: Number(_this.showAffixFooter)\n            }\n          }, [createVNode(\"div\", {\n            \"style\": {\n              width: \"\".concat(_this.tableElmWidth, \"px\"),\n              height: \"5px\"\n            }\n          }, null)])];\n        }\n      });\n    };\n    var headProps = {\n      isFixedHeader: this.isFixedHeader,\n      rowAndColFixedPosition: this.rowAndColFixedPosition,\n      isMultipleHeader: this.isMultipleHeader,\n      bordered: this.bordered,\n      maxHeight: this.maxHeight,\n      height: this.height,\n      spansAndLeafNodes: this.spansAndLeafNodes,\n      thList: this.thList,\n      thWidthList: this.thWidthList,\n      resizable: this.resizable,\n      columnResizeParams: this.columnResizeParams,\n      classPrefix: this.classPrefix,\n      ellipsisOverlayClassName: this.tableSize !== \"medium\" ? this.sizeClassNames[this.tableSize] : \"\",\n      attach: this.attach,\n      showColumnShadow: this.showColumnShadow,\n      thDraggable: this.thDraggable\n    };\n    var IEHeaderWrap = getIEVersion() <= 11 ? 4 : 0;\n    var barWidth = this.isWidthOverflow ? this.scrollbarWidth : 0;\n    var affixHeaderHeight = ref((((_this$affixHeaderRef = this.affixHeaderRef) === null || _this$affixHeaderRef === void 0 ? void 0 : _this$affixHeaderRef.getBoundingClientRect().height) || 0) - IEHeaderWrap);\n    var timer = setTimeout(function () {\n      var _this$affixHeaderRef2;\n      affixHeaderHeight.value = (((_this$affixHeaderRef2 = _this.affixHeaderRef) === null || _this$affixHeaderRef2 === void 0 ? void 0 : _this$affixHeaderRef2.getBoundingClientRect().height) || 0) - IEHeaderWrap;\n      clearTimeout(timer);\n    }, 0);\n    var affixHeaderWrapHeight = computed(function () {\n      return affixHeaderHeight.value - barWidth;\n    });\n    var headerOpacity = baseTableProps.headerAffixedTop ? Number(this.showAffixHeader) : 1;\n    var affixHeaderWrapHeightStyle = computed(function () {\n      return {\n        width: \"\".concat(_this.tableWidth, \"px\"),\n        height: \"\".concat(affixHeaderWrapHeight.value, \"px\"),\n        opacity: headerOpacity\n      };\n    });\n    var affixedLeftBorder = this.bordered ? 1 : 0;\n    var affixedHeader = Boolean((this.headerAffixedTop || this.virtualConfig.isVirtualScroll.value) && this.tableWidth) && createVNode(\"div\", {\n      \"ref\": \"affixHeaderRef\",\n      \"style\": {\n        width: \"\".concat(this.tableWidth - affixedLeftBorder, \"px\"),\n        opacity: Number(this.showAffixHeader)\n      },\n      \"class\": [\"scrollbar\", _defineProperty({}, this.tableBaseClass.affixedHeaderElm, this.headerAffixedTop || this.virtualConfig.isVirtualScroll.value)]\n    }, [createVNode(\"table\", {\n      \"class\": this.tableElmClasses,\n      \"style\": _objectSpread(_objectSpread({}, this.tableElementStyles), {}, {\n        width: \"\".concat(this.tableElmWidth, \"px\")\n      })\n    }, [renderColGroup(true), createVNode(THead, headProps, this.$slots)])]);\n    var affixHeaderWithWrap = createVNode(\"div\", {\n      \"class\": this.tableBaseClass.affixedHeaderWrap,\n      \"style\": affixHeaderWrapHeightStyle.value\n    }, [affixedHeader]);\n    var marginScrollbarWidth = this.isWidthOverflow ? this.scrollbarWidth : 0;\n    if (this.bordered) {\n      marginScrollbarWidth += 1;\n    }\n    var showFooter = Boolean(this.virtualConfig.isVirtualScroll.value || this.footerAffixedBottom);\n    var hasFooter = ((_this$footData = this.footData) === null || _this$footData === void 0 ? void 0 : _this$footData.length) || this.footerSummary || this.$slots[\"footerSummary\"];\n    var affixedFooter = Boolean(showFooter && hasFooter && this.tableWidth) && createVNode(Affix, mergeProps({\n      \"class\": this.tableBaseClass.affixedFooterWrap,\n      \"onFixedChange\": this.onFixedChange,\n      \"offsetBottom\": marginScrollbarWidth || 0\n    }, getAffixProps(this.footerAffixedBottom), {\n      \"style\": {\n        marginTop: \"\".concat(-1 * (((_this$tableFootHeight = this.tableFootHeight) !== null && _this$tableFootHeight !== void 0 ? _this$tableFootHeight : 0) + marginScrollbarWidth), \"px\")\n      },\n      \"ref\": \"footerBottomAffixRef\"\n    }), {\n      \"default\": function _default() {\n        return [createVNode(\"div\", {\n          \"ref\": \"affixFooterRef\",\n          \"style\": {\n            width: \"\".concat(_this.tableWidth - affixedLeftBorder, \"px\"),\n            opacity: Number(_this.showAffixFooter)\n          },\n          \"class\": [\"scrollbar\", _defineProperty({}, _this.tableBaseClass.affixedFooterElm, _this.footerAffixedBottom || _this.virtualConfig.isVirtualScroll.value)]\n        }, [createVNode(\"table\", {\n          \"class\": _this.tableElmClasses,\n          \"style\": _objectSpread(_objectSpread({}, _this.tableElementStyles), {}, {\n            width: \"\".concat(_this.tableElmWidth, \"px\")\n          })\n        }, [renderColGroup(true), createVNode(TFoot, {\n          \"rowKey\": _this.rowKey,\n          \"isFixedHeader\": _this.isFixedHeader,\n          \"rowAndColFixedPosition\": rowAndColFixedPosition,\n          \"footData\": _this.footData,\n          \"columns\": columns,\n          \"rowAttributes\": _this.rowAttributes,\n          \"rowClassName\": _this.rowClassName,\n          \"thWidthList\": _this.thWidthList,\n          \"footerSummary\": _this.footerSummary,\n          \"rowspanAndColspanInFooter\": _this.rowspanAndColspanInFooter\n        }, _this.$slots)])])];\n      }\n    });\n    var translate = \"translate(0, \".concat(this.virtualConfig.scrollHeight.value + ((_this$tableFootHeight2 = this.tableFootHeight) !== null && _this$tableFootHeight2 !== void 0 ? _this$tableFootHeight2 : 0) + ((_affixHeaderHeight$va = affixHeaderHeight.value) !== null && _affixHeaderHeight$va !== void 0 ? _affixHeaderHeight$va : 0), \"px)\");\n    var virtualStyle = {\n      transform: translate,\n      \"-ms-transform\": translate,\n      \"-moz-transform\": translate,\n      \"-webkit-transform\": translate\n    };\n    var tableBodyProps = _objectSpread(_objectSpread({\n      classPrefix: this.classPrefix,\n      ellipsisOverlayClassName: this.tableSize !== \"medium\" ? this.sizeClassNames[this.tableSize] : \"\",\n      rowAndColFixedPosition: rowAndColFixedPosition,\n      showColumnShadow: this.showColumnShadow,\n      data: data,\n      virtualConfig: this.virtualConfig,\n      columns: this.spansAndLeafNodes.leafColumns,\n      tableElm: this.tableRef,\n      tableWidth: this.tableWidth,\n      isWidthOverflow: this.isWidthOverflow,\n      scroll: this.scroll,\n      cellEmptyContent: this.cellEmptyContent,\n      tableContentElm: this.tableContentRef,\n      handleRowMounted: this.virtualConfig.handleRowMounted,\n      renderExpandedRow: this.renderExpandedRow\n    }, pick_1(this.$props, extendTableProps)), {}, {\n      pagination: this.innerPagination,\n      attach: this.attach,\n      hoverRow: this.hoverRow,\n      activeRow: this.tActiveRow,\n      onRowClick: this.onInnerRowClick\n    });\n    var tableContent = createVNode(\"div\", {\n      \"ref\": \"tableContentRef\",\n      \"class\": this.tableBaseClass.content,\n      \"style\": this.tableContentStyles,\n      \"onScroll\": this.onInnerVirtualScroll\n    }, [this.virtualConfig.isVirtualScroll.value && createVNode(\"div\", {\n      \"class\": this.virtualScrollClasses.cursor,\n      \"style\": virtualStyle\n    }, null), createVNode(\"table\", {\n      \"ref\": \"tableElmRef\",\n      \"class\": this.tableElmClasses,\n      \"style\": _objectSpread(_objectSpread({}, this.tableElementStyles), {}, {\n        width: this.resizable && this.isWidthOverflow && this.tableElmWidth ? \"\".concat(this.tableElmWidth, \"px\") : this.tableElementStyles.width\n      })\n    }, [renderColGroup(false), this.showHeader && createVNode(THead, _objectSpread(_objectSpread({}, headProps), {}, {\n      thWidthList: columnResizable ? this.thWidthList : {}\n    }), this.$slots), createVNode(TBody, tableBodyProps, this.$slots), createVNode(TFoot, {\n      \"rowKey\": this.rowKey,\n      \"isFixedHeader\": this.isFixedHeader,\n      \"rowAndColFixedPosition\": rowAndColFixedPosition,\n      \"footData\": this.footData,\n      \"columns\": columns,\n      \"rowAttributes\": this.rowAttributes,\n      \"rowClassName\": this.rowClassName,\n      \"footerSummary\": this.footerSummary,\n      \"rowspanAndColspanInFooter\": this.rowspanAndColspanInFooter,\n      \"virtualScroll\": this.virtualConfig.isVirtualScroll.value\n    }, this.$slots)])]);\n    var getCustomLoadingText = isFunction_1(this.loading) ? this.loading : this.$slots.loading;\n    var loadingContent = this.loading !== void 0 && createVNode(Loading, mergeProps({\n      \"loading\": !!this.loading,\n      \"text\": getCustomLoadingText,\n      \"attach\": this.tableRef ? function () {\n        return _this.tableRef;\n      } : void 0,\n      \"showOverlay\": true,\n      \"size\": \"small\"\n    }, this.loadingProps), null);\n    var topContent = this.renderTNode(\"topContent\");\n    var bottomContent = this.renderTNode(\"bottomContent\");\n    var pagination = createVNode(\"div\", {\n      \"ref\": \"paginationRef\",\n      \"class\": this.tableBaseClass.paginationWrap,\n      \"style\": {\n        opacity: Number(this.showAffixPagination)\n      }\n    }, [this.renderPagination()]);\n    var bottom = !!bottomContent && createVNode(\"div\", {\n      \"ref\": \"bottomContentRef\",\n      \"class\": this.tableBaseClass.bottomContent\n    }, [bottomContent]);\n    return createVNode(\"div\", {\n      \"ref\": \"tableRef\",\n      \"tabindex\": \"0\",\n      \"class\": this.dynamicBaseTableClasses,\n      \"onFocus\": this.onTableFocus,\n      \"onBlur\": this.onTableBlur\n    }, [!!topContent && createVNode(\"div\", {\n      \"class\": this.tableBaseClass.topContent\n    }, [topContent]), renderAffixedHeader(), tableContent, affixedFooter, loadingContent, bottom, this.showRightDivider && createVNode(\"div\", {\n      \"class\": this.tableBaseClass.scrollbarDivider,\n      \"style\": {\n        right: \"\".concat(this.scrollbarWidth, \"px\"),\n        bottom: this.dividerBottom ? \"\".concat(this.dividerBottom, \"px\") : void 0,\n        height: \"\".concat((_this$tableContentRef = this.tableContentRef) === null || _this$tableContentRef === void 0 ? void 0 : _this$tableContentRef.getBoundingClientRect().height, \"px\")\n      }\n    }, null), this.horizontalScrollAffixedBottom && renderAffixedHorizontalScrollbar(), this.paginationAffixedBottom ? createVNode(Affix, mergeProps({\n      \"offsetBottom\": 0\n    }, getAffixProps(this.paginationAffixedBottom), {\n      \"ref\": \"paginationAffixRef\"\n    }), _isSlot(pagination) ? pagination : {\n      \"default\": function _default() {\n        return [pagination];\n      }\n    }) : pagination, createVNode(\"div\", {\n      \"ref\": \"resizeLineRef\",\n      \"class\": this.tableBaseClass.resizeLine,\n      \"style\": this.resizeLineStyle\n    }, null)]);\n  }\n});\nexport { BASE_TABLE_ALL_EVENTS, BASE_TABLE_EVENTS, _BaseTable as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","BASE_TABLE_EVENTS","BASE_TABLE_ALL_EVENTS","ROW_LISTENERS","map","t","concat","_BaseTable","defineComponent","name","props","_objectSpread","baseTableProps","renderExpandedRow","Function","onLeafColumnsChange","thDraggable","Boolean","emits","setup","props2","context","_toRefs","toRefs","lazyLoad","renderTNode","useTNodeJSX","tableRef","ref","tableElmRef","tableBodyRef","bottomContentRef","tableFootHeight","_useClassName","useClassName","classPrefix","virtualScrollClasses","tableLayoutClasses","tableBaseClass","tableColFixedClasses","_useStyle","useStyle","tableClasses","sizeClassNames","tableContentStyles","tableElementStyles","_useConfig","useConfig","locale","globalConfig","_useTableHeader","useTableHeader","isMultipleHeader","spansAndLeafNodes","thList","finalColumns","computed","_spansAndLeafNodes$va","value","leafColumns","columns","tableSize","_props2$size","size","_useElementLazyRender","useElementLazyRender","showElement","paginationAffixRef","horizontalScrollAffixRef","headerTopAffixRef","footerBottomAffixRef","_useFixed","useFixed","scrollbarWidth","virtualScrollHeaderPos","tableWidth","tableElmWidth","tableContentRef","isFixedHeader","isWidthOverflow","isFixedColumn","thWidthList","showColumnShadow","rowAndColFixedPosition","setData","refreshTable","setTableElmWidth","emitScrollEvent","setUseFixedTableElmRef","updateColumnFixedShadow","getThWidthList","updateThWidthList","addTableResizeObserver","updateTableAfterColumnResize","_useAffix","useAffix","affixHeaderRef","affixFooterRef","horizontalScrollbarRef","paginationRef","showAffixHeader","showAffixFooter","showAffixPagination","onHorizontalScroll","setTableContentRef","updateAffixHeaderOrFooter","_usePagination","usePagination","dataSource","innerPagination","isPaginateData","renderPagination","columnResizeParams","useColumnResize","onColumnResizeChange","resizeLineRef","resizeLineStyle","setEffectColMap","dynamicBaseTableClasses","_defineProperty","headerFixed","columnFixed","widthOverflow","multipleHeader","leftShadow","left","rightShadow","right","columnResizableTable","resizable","activeRowType","tableElmClasses","tableLayout","showRightDivider","bordered","dividerBottom","_bottomContentRef$val","_paginationRef$value","bottomRect","getBoundingClientRect","paginationRect","height","_useRowHighlight","useRowHighlight","tActiveRow","onHighlightRow","addHighlightKeyboardListener","removeHighlightKeyboardListener","_useHoverKeyboardEven","useHoverKeyboardEvent","hoverRow","needKeyboardRowHover","clearHoverRow","addRowHoverKeyboardListener","removeRowHoverKeyboardListener","watch","data","_props2$onLeafColumns","immediate","onFixedChange","nextTick","syncThWidthList","throttle_1","virtualScrollParams","scroll","fixedRows","virtualConfig","useVirtualScroll","lastScrollY","onInnerVirtualScroll","e","target","srcElement","top","scrollTop","isVirtualScroll","handleScroll","getTFootHeight","_tableElmRef$value$qu","querySelector","scrollColumnIntoView","colKey","thDom","fixedThDom","querySelectorAll","totalWidth","i","len","length","width","domRect","contentRect","distance","scrollTo","behavior","footData","footerSummary","timer","setTimeout","clearTimeout","tableRef2","onMounted","onTableFocus","onTableBlur","onInnerRowClick","ctx","_props2$onRowClick","onRowClick","_ref2","_ref3","_slicedToArray","showElement2","emit","tableData","scrollToElement","params","index","_tableData$value","key","log","error","findIndex","item","get_1","rowKey","render","_this$spansAndLeafNod","_this$allowResizeColu","_this","_this$affixHeaderRef","_this$footData","_this$tableFootHeight","_this$tableFootHeight2","_affixHeaderHeight$va","_this$tableContentRef","createVNode","columnResizable","allowResizeColumnWidth","warn","defaultColWidth","renderColGroup","isAffixHeader","arguments","undefined","col","style","formatCSSUnit","minWidth","renderAffixedHeader","showHeader","headerAffixedTop","Affix","mergeProps","getAffixProps","affixHeaderWithWrap","_default","renderAffixedHorizontalScrollbar","horizontalScrollAffixedBottom","marginTop","obviousScrollbar","overflow","opacity","Number","headProps","maxHeight","ellipsisOverlayClassName","attach","IEHeaderWrap","getIEVersion","barWidth","affixHeaderHeight","_this$affixHeaderRef2","affixHeaderWrapHeight","headerOpacity","affixHeaderWrapHeightStyle","affixedLeftBorder","affixedHeader","affixedHeaderElm","THead","$slots","affixedHeaderWrap","marginScrollbarWidth","showFooter","footerAffixedBottom","hasFooter","affixedFooter","affixedFooterWrap","affixedFooterElm","TFoot","rowAttributes","rowClassName","rowspanAndColspanInFooter","translate","scrollHeight","virtualStyle","transform","tableBodyProps","tableElm","cellEmptyContent","tableContentElm","handleRowMounted","pick_1","$props","extendTableProps","pagination","activeRow","tableContent","content","cursor","TBody","getCustomLoadingText","isFunction_1","loading","loadingContent","Loading","loadingProps","topContent","bottomContent","paginationWrap","bottom","scrollbarDivider","paginationAffixedBottom","resizeLine"],"sources":["../../src/table/base-table.tsx"],"sourcesContent":["import { computed, defineComponent, SetupContext, ref, nextTick, PropType, watch, onMounted, toRefs } from 'vue';\nimport pick from 'lodash/pick';\nimport get from 'lodash/get';\nimport props from './base-table-props';\nimport useTableHeader from './hooks/useTableHeader';\nimport useColumnResize from './hooks/useColumnResize';\nimport useFixed from './hooks/useFixed';\nimport usePagination from './hooks/usePagination';\nimport useVirtualScrollNew from '../hooks/useVirtualScrollNew';\nimport useAffix from './hooks/useAffix';\nimport Loading from '../loading';\nimport TBody, { extendTableProps } from './tbody';\nimport { BaseTableProps } from './interface';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport useStyle, { formatCSSUnit } from './hooks/useStyle';\nimport useClassName from './hooks/useClassName';\nimport { useConfig } from '../hooks/useConfig';\nimport { Affix } from '../affix';\nimport { ROW_LISTENERS } from './tr';\nimport THead from './thead';\nimport TFoot from './tfoot';\nimport { getAffixProps } from './utils';\nimport { Styles, ComponentScrollToElementParams } from '../common';\nimport { getIEVersion } from '../_common/js/utils/helper';\nimport { BaseTableInstanceFunctions } from './type';\nimport log from '../_common/js/log';\nimport { useRowHighlight } from './hooks/useRowHighlight';\nimport useHoverKeyboardEvent from './hooks/useHoverKeyboardEvent';\nimport useElementLazyRender from '../hooks/useElementLazyRender';\nimport isFunction from 'lodash/isFunction';\nimport throttle from 'lodash/throttle';\n\nexport const BASE_TABLE_EVENTS = ['page-change', 'cell-click', 'scroll', 'scrollX', 'scrollY'];\nexport const BASE_TABLE_ALL_EVENTS = ROW_LISTENERS.map((t) => `row-${t}`).concat(BASE_TABLE_EVENTS);\n\nexport interface TableListeners {\n  [key: string]: Function;\n}\n\nexport default defineComponent({\n  name: 'TBaseTable',\n\n  props: {\n    ...props,\n    /**\n     * 渲染展开行，非公开属性，请勿在业务中使用\n     */\n    renderExpandedRow: Function as PropType<BaseTableProps['renderExpandedRow']>,\n    onLeafColumnsChange: Function as PropType<BaseTableProps['onLeafColumnsChange']>,\n    thDraggable: Boolean,\n  },\n\n  emits: ['show-element-change'],\n\n  setup(props: BaseTableProps, context: SetupContext) {\n    const { lazyLoad } = toRefs(props);\n    const renderTNode = useTNodeJSX();\n    const tableRef = ref<HTMLDivElement>();\n    const tableElmRef = ref<HTMLTableElement>();\n    const tableBodyRef = ref<HTMLTableElement>();\n    const bottomContentRef = ref<HTMLDivElement>();\n    const tableFootHeight = ref(0);\n    const { classPrefix, virtualScrollClasses, tableLayoutClasses, tableBaseClass, tableColFixedClasses } =\n      useClassName();\n    // 表格基础样式类\n    const { tableClasses, sizeClassNames, tableContentStyles, tableElementStyles } = useStyle(props);\n    const { globalConfig } = useConfig('table', props.locale);\n    const { isMultipleHeader, spansAndLeafNodes, thList } = useTableHeader(props);\n    const finalColumns = computed(() => spansAndLeafNodes.value?.leafColumns || props.columns);\n    const tableSize = computed(() => props.size ?? globalConfig.value.size);\n\n    const { showElement } = useElementLazyRender(tableRef, lazyLoad);\n\n    // 吸附相关ref 用来做视图resize后重新定位\n    const paginationAffixRef = ref();\n    const horizontalScrollAffixRef = ref();\n    const headerTopAffixRef = ref();\n    const footerBottomAffixRef = ref();\n\n    // 固定表头和固定列逻辑\n    const {\n      scrollbarWidth,\n      virtualScrollHeaderPos,\n      tableWidth,\n      tableElmWidth,\n      tableContentRef,\n      isFixedHeader,\n      isWidthOverflow,\n      isFixedColumn,\n      thWidthList,\n      showColumnShadow,\n      rowAndColFixedPosition,\n      setData,\n      refreshTable,\n      setTableElmWidth,\n      emitScrollEvent,\n      setUseFixedTableElmRef,\n      updateColumnFixedShadow,\n      getThWidthList,\n      updateThWidthList,\n      addTableResizeObserver,\n      updateTableAfterColumnResize,\n    } = useFixed(props, context, finalColumns, {\n      paginationAffixRef,\n      horizontalScrollAffixRef,\n      headerTopAffixRef,\n      footerBottomAffixRef,\n    });\n\n    // 1. 表头吸顶；2. 表尾吸底；3. 底部滚动条吸底；4. 分页器吸底\n    const {\n      affixHeaderRef,\n      affixFooterRef,\n      horizontalScrollbarRef,\n      paginationRef,\n      showAffixHeader,\n      showAffixFooter,\n      showAffixPagination,\n      onHorizontalScroll,\n      setTableContentRef,\n      updateAffixHeaderOrFooter,\n    } = useAffix(props);\n\n    const { dataSource, innerPagination, isPaginateData, renderPagination } = usePagination(props, context);\n\n    // 列宽拖拽逻辑\n    const columnResizeParams = useColumnResize({\n      isWidthOverflow,\n      tableContentRef,\n      showColumnShadow,\n      getThWidthList,\n      updateThWidthList,\n      setTableElmWidth,\n      updateTableAfterColumnResize,\n      onColumnResizeChange: props.onColumnResizeChange,\n    });\n    const { resizeLineRef, resizeLineStyle, setEffectColMap } = columnResizeParams;\n\n    const dynamicBaseTableClasses = computed(() => [\n      tableClasses.value,\n      {\n        [tableBaseClass.headerFixed]: isFixedHeader.value,\n        [tableBaseClass.columnFixed]: isFixedColumn.value,\n        [tableBaseClass.widthOverflow]: isWidthOverflow.value,\n        [tableBaseClass.multipleHeader]: isMultipleHeader.value,\n        [tableColFixedClasses.leftShadow]: showColumnShadow.left,\n        [tableColFixedClasses.rightShadow]: showColumnShadow.right,\n        [tableBaseClass.columnResizableTable]: props.resizable,\n        [`${classPrefix}-table__row--active-${props.activeRowType}`]: props.activeRowType,\n      },\n    ]);\n\n    const tableElmClasses = computed(() => [[tableLayoutClasses[props.tableLayout]]]);\n\n    const showRightDivider = computed(\n      () =>\n        props.bordered &&\n        isFixedHeader.value &&\n        ((isMultipleHeader.value && isWidthOverflow.value) || !isMultipleHeader.value),\n    );\n\n    const dividerBottom = computed(() => {\n      if (!props.bordered) return 0;\n      const bottomRect = bottomContentRef.value?.getBoundingClientRect();\n      const paginationRect = paginationRef.value?.getBoundingClientRect();\n      return (bottomRect?.height || 0) + (paginationRect?.height || 0);\n    });\n\n    // 行高亮\n    const { tActiveRow, onHighlightRow, addHighlightKeyboardListener, removeHighlightKeyboardListener } =\n      useRowHighlight(props, tableRef);\n\n    const {\n      hoverRow,\n      needKeyboardRowHover,\n      clearHoverRow,\n      addRowHoverKeyboardListener,\n      removeRowHoverKeyboardListener,\n    } = useHoverKeyboardEvent(props, tableRef);\n\n    watch(tableElmRef, () => {\n      setUseFixedTableElmRef(tableElmRef.value);\n    });\n\n    watch(\n      () => [props.data, dataSource],\n      () => {\n        setData(isPaginateData.value ? dataSource.value : props.data);\n      },\n    );\n\n    watch(\n      spansAndLeafNodes,\n      () => {\n        props.onLeafColumnsChange?.(spansAndLeafNodes.value.leafColumns);\n        setEffectColMap(spansAndLeafNodes.value.leafColumns, null);\n      },\n      { immediate: true },\n    );\n\n    const onFixedChange = () => {\n      nextTick(() => {\n        onHorizontalScroll();\n        updateAffixHeaderOrFooter();\n      });\n    };\n\n    const syncThWidthList = throttle(() => {\n      updateThWidthList(getThWidthList('calculate'));\n    });\n\n    // 虚拟滚动相关数据\n    const virtualScrollParams = computed(() => ({\n      data: props.data,\n      // 传递 fixedRows 的配置\n      scroll: { ...props.scroll, fixedRows: props.fixedRows },\n    }));\n    const virtualConfig = useVirtualScrollNew(tableContentRef, virtualScrollParams);\n\n    let lastScrollY = -1;\n    const onInnerVirtualScroll = (e: WheelEvent) => {\n      const target = (e.target || e.srcElement) as HTMLElement;\n      const top = target.scrollTop;\n      // 排除横向滚动触发的纵向虚拟滚动计算\n      if (lastScrollY !== top) {\n        virtualConfig.isVirtualScroll.value && virtualConfig.handleScroll();\n      } else {\n        lastScrollY = -1;\n        updateColumnFixedShadow(target);\n      }\n      lastScrollY = top;\n      emitScrollEvent(e);\n      if (props.tableLayout === 'auto') {\n        syncThWidthList();\n      }\n    };\n\n    // used for top margin\n    const getTFootHeight = () => {\n      if (!tableElmRef.value) return;\n      tableFootHeight.value = tableElmRef.value.querySelector('tfoot')?.getBoundingClientRect().height;\n    };\n\n    // 对外暴露方法，修改时需谨慎（expose）\n    const scrollColumnIntoView: BaseTableInstanceFunctions['scrollColumnIntoView'] = (colKey: string) => {\n      if (!tableContentRef.value) return;\n      const thDom = tableContentRef.value.querySelector(`th[data-colkey=\"${colKey}\"]`);\n      const fixedThDom = tableContentRef.value.querySelectorAll('th.t-table__cell--fixed-left');\n      let totalWidth = 0;\n      for (let i = 0, len = fixedThDom.length; i < len; i++) {\n        totalWidth += fixedThDom[i].getBoundingClientRect().width;\n      }\n      const domRect = thDom.getBoundingClientRect();\n      const contentRect = tableContentRef.value.getBoundingClientRect();\n      const distance = domRect.left - contentRect.left - totalWidth;\n      tableContentRef.value.scrollTo({ left: distance, behavior: 'smooth' });\n    };\n\n    watch(tableContentRef, () => {\n      setTableContentRef(tableContentRef.value);\n      // auto 布局下，初始化表头列宽，避免 affix 表头列宽不对齐\n      if (props.tableLayout === 'auto') {\n        syncThWidthList();\n      }\n    });\n\n    // 应该有多种情况下需要更新 foot 高度\n    // 原方案只监听 tableElmRef，但是可能有异步渲染的情况，footer 的渲染晚于 dom 引用的产生\n    // 加入 timeout，避免渲染延迟导致的高度获取失败\n    watch(\n      () => [tableElmRef.value, props.footData, props.footerSummary, props.columns],\n      () => {\n        const timer = setTimeout(() => {\n          getTFootHeight();\n          clearTimeout(timer);\n        }, 0);\n      },\n    );\n\n    watch(tableRef, (tableRef) => {\n      addTableResizeObserver(tableRef);\n    });\n\n    onMounted(() => {\n      getTFootHeight();\n      setTableContentRef(tableContentRef.value);\n      addTableResizeObserver(tableRef.value);\n    });\n\n    const onTableFocus = () => {\n      props.activeRowType && addHighlightKeyboardListener();\n      needKeyboardRowHover.value && addRowHoverKeyboardListener();\n    };\n\n    const onTableBlur = () => {\n      props.activeRowType && removeHighlightKeyboardListener();\n      needKeyboardRowHover.value && removeRowHoverKeyboardListener();\n    };\n\n    const onInnerRowClick: BaseTableProps['onRowClick'] = (ctx) => {\n      props.onRowClick?.(ctx);\n      props.activeRowType && onHighlightRow(ctx);\n      needKeyboardRowHover.value && clearHoverRow();\n    };\n\n    watch(\n      [showElement],\n      ([showElement]) => {\n        context.emit('show-element-change', showElement);\n      },\n      { immediate: true },\n    );\n\n    const tableData = computed(() => (isPaginateData.value ? dataSource.value : props.data));\n\n    const scrollToElement = (params: ComponentScrollToElementParams) => {\n      let { index } = params;\n      if (!index && index !== 0) {\n        if (!params.key) {\n          log.error('Table', 'scrollToElement: one of `index` or `key` must exist.');\n          return;\n        }\n        index = tableData.value?.findIndex((item) => get(item, props.rowKey) === params.key);\n        if (index < 0) {\n          log.error('Table', `${params.key} does not exist in data, check \\`rowKey\\` or \\`data\\` please.`);\n        }\n      }\n      virtualConfig.scrollToElement({ ...params, index: index - 1 });\n    };\n\n    return {\n      thList,\n      classPrefix,\n      innerPagination,\n      globalConfig,\n      tableFootHeight,\n      virtualScrollHeaderPos,\n      tableSize,\n      tableWidth,\n      tableElmWidth,\n      tableRef,\n      tableElmRef,\n      sizeClassNames,\n      tableBaseClass,\n      spansAndLeafNodes,\n      dynamicBaseTableClasses,\n      tableContentStyles,\n      tableElementStyles,\n      dividerBottom,\n      virtualScrollClasses,\n      tableLayoutClasses,\n      tableElmClasses,\n      tableContentRef,\n      isFixedHeader,\n      isWidthOverflow,\n      isFixedColumn,\n      rowAndColFixedPosition,\n      showColumnShadow,\n      thWidthList,\n      isPaginateData,\n      dataSource,\n      affixHeaderRef,\n      affixFooterRef,\n      bottomContentRef,\n      paginationRef,\n      showAffixHeader,\n      showAffixFooter,\n      scrollbarWidth,\n      isMultipleHeader,\n      showRightDivider,\n      resizeLineRef,\n      resizeLineStyle,\n      columnResizeParams,\n      horizontalScrollbarRef,\n      tableBodyRef,\n      virtualConfig,\n      showAffixPagination,\n      tActiveRow,\n      hoverRow,\n      showElement,\n      scrollToElement,\n      renderPagination,\n      renderTNode,\n      onFixedChange,\n      onHorizontalScroll,\n      updateAffixHeaderOrFooter,\n      onInnerVirtualScroll,\n      refreshTable,\n      scrollColumnIntoView,\n      onTableFocus,\n      onTableBlur,\n      onInnerRowClick,\n      paginationAffixRef,\n      horizontalScrollAffixRef,\n      headerTopAffixRef,\n      footerBottomAffixRef,\n    };\n  },\n\n  render() {\n    if (!this.showElement) {\n      return <div ref=\"tableRef\"></div>;\n    }\n\n    const { rowAndColFixedPosition, tableLayout } = this;\n    const data = this.isPaginateData ? this.dataSource : this.data;\n    const columns = this.spansAndLeafNodes?.leafColumns || this.columns;\n\n    const columnResizable = this.allowResizeColumnWidth ?? this.resizable;\n    if (columnResizable && tableLayout === 'auto') {\n      log.warn(\n        'Table',\n        'table-layout can not be `auto`, cause you are using column resizable, set `table-layout: fixed` please.',\n      );\n    }\n\n    const defaultColWidth = tableLayout === 'fixed' && this.isWidthOverflow ? '100px' : undefined;\n\n    const renderColGroup = (isAffixHeader = true) => (\n      <colgroup>\n        {columns.map((col) => {\n          const style: Styles = {\n            width:\n              formatCSSUnit(\n                (isAffixHeader || columnResizable ? this.thWidthList[col.colKey] : undefined) || col.width,\n              ) || defaultColWidth,\n          };\n          if (col.minWidth) {\n            style.minWidth = formatCSSUnit(col.minWidth);\n          }\n          // 没有设置任何宽度的场景下，需要保留表格正常显示的最小宽度，否则会出现因宽度过小的抖动问题\n          if (!style.width && !col.minWidth && this.tableLayout === 'fixed') {\n            style.minWidth = '80px';\n          }\n          return <col key={col.colKey} style={style}></col>;\n        })}\n      </colgroup>\n    );\n\n    const renderAffixedHeader = () => {\n      if (this.showHeader === false) return null;\n      return (\n        !!(this.virtualConfig.isVirtualScroll.value || this.headerAffixedTop) &&\n        (this.headerAffixedTop ? (\n          <Affix\n            offsetTop={0}\n            {...getAffixProps(this.headerAffixedTop)}\n            onFixedChange={this.onFixedChange}\n            ref=\"headerTopAffixRef\"\n          >\n            {affixHeaderWithWrap}\n          </Affix>\n        ) : (\n          this.isFixedHeader && affixHeaderWithWrap\n        ))\n      );\n    };\n\n    const renderAffixedHorizontalScrollbar = () => (\n      <Affix\n        offsetBottom={0}\n        {...getAffixProps(this.horizontalScrollAffixedBottom)}\n        style={{ marginTop: `-${this.scrollbarWidth * 2}px` }}\n        horizontalScrollAffixedBottom\n        ref=\"horizontalScrollAffixRef\"\n      >\n        <div\n          ref=\"horizontalScrollbarRef\"\n          class={['scrollbar', this.tableBaseClass.obviousScrollbar]}\n          style={{\n            width: `${this.tableWidth}px`,\n            overflow: 'auto',\n            opacity: Number(this.showAffixFooter),\n          }}\n        >\n          <div style={{ width: `${this.tableElmWidth}px`, height: '5px' }}></div>\n        </div>\n      </Affix>\n    );\n\n    const headProps = {\n      isFixedHeader: this.isFixedHeader,\n      rowAndColFixedPosition: this.rowAndColFixedPosition,\n      isMultipleHeader: this.isMultipleHeader,\n      bordered: this.bordered,\n      maxHeight: this.maxHeight,\n      height: this.height,\n      spansAndLeafNodes: this.spansAndLeafNodes,\n      thList: this.thList,\n      thWidthList: this.thWidthList,\n      resizable: this.resizable,\n      columnResizeParams: this.columnResizeParams,\n      classPrefix: this.classPrefix,\n      ellipsisOverlayClassName: this.tableSize !== 'medium' ? this.sizeClassNames[this.tableSize] : '',\n      attach: this.attach,\n      showColumnShadow: this.showColumnShadow,\n      thDraggable: this.thDraggable,\n    };\n\n    /**\n     * Affixed Header\n     */\n    // IE 浏览器需要遮挡 header 吸顶滚动条，要减去 getBoundingClientRect.height 的滚动条高度 4 像素\n    const IEHeaderWrap = getIEVersion() <= 11 ? 4 : 0;\n    const barWidth = this.isWidthOverflow ? this.scrollbarWidth : 0;\n    const affixHeaderHeight = ref((this.affixHeaderRef?.getBoundingClientRect().height || 0) - IEHeaderWrap);\n    // 等待表头渲染完成后再更新高度，有可能列变动带来多级表头的高度变化，错误高度会导致滚动条显示\n    const timer = setTimeout(() => {\n      affixHeaderHeight.value = (this.affixHeaderRef?.getBoundingClientRect().height || 0) - IEHeaderWrap;\n      clearTimeout(timer);\n    }, 0);\n    const affixHeaderWrapHeight = computed(() => affixHeaderHeight.value - barWidth);\n    // 两类场景：1. 虚拟滚动，永久显示表头，直到表头消失在可视区域； 2. 表头吸顶，根据滚动情况判断是否显示吸顶表头\n    const headerOpacity = props.headerAffixedTop ? Number(this.showAffixHeader) : 1;\n    const affixHeaderWrapHeightStyle = computed(() => {\n      return {\n        width: `${this.tableWidth}px`,\n        height: `${affixHeaderWrapHeight.value}px`,\n        opacity: headerOpacity,\n      };\n    });\n    // 多级表头左边线缺失\n    const affixedLeftBorder = this.bordered ? 1 : 0;\n    const affixedHeader = Boolean(\n      (this.headerAffixedTop || this.virtualConfig.isVirtualScroll.value) && this.tableWidth,\n    ) && (\n      <div\n        ref=\"affixHeaderRef\"\n        style={{\n          width: `${this.tableWidth - affixedLeftBorder}px`,\n          opacity: Number(this.showAffixHeader),\n        }}\n        class={[\n          'scrollbar',\n          {\n            [this.tableBaseClass.affixedHeaderElm]: this.headerAffixedTop || this.virtualConfig.isVirtualScroll.value,\n          },\n        ]}\n      >\n        <table class={this.tableElmClasses} style={{ ...this.tableElementStyles, width: `${this.tableElmWidth}px` }}>\n          {renderColGroup(true)}\n          <THead v-slots={this.$slots} {...headProps} />\n        </table>\n      </div>\n    );\n\n    // 添加这一层，是为了隐藏表头的横向滚动条。如果以后不需要照顾 IE 10 以下的项目，则可直接移除这一层\n    // 彼时，可更为使用 CSS 样式中的 .hideScrollbar()\n    const affixHeaderWithWrap = (\n      <div class={this.tableBaseClass.affixedHeaderWrap} style={affixHeaderWrapHeightStyle.value}>\n        {affixedHeader}\n      </div>\n    );\n\n    /**\n     * Affixed Footer\n     */\n    let marginScrollbarWidth = this.isWidthOverflow ? this.scrollbarWidth : 0;\n    if (this.bordered) {\n      marginScrollbarWidth += 1;\n    }\n    // Hack: Affix 组件，marginTop 临时使用 负 margin 定位位置\n    const showFooter = Boolean(this.virtualConfig.isVirtualScroll.value || this.footerAffixedBottom);\n    const hasFooter = this.footData?.length || this.footerSummary || this.$slots['footerSummary'];\n    const affixedFooter = Boolean(showFooter && hasFooter && this.tableWidth) && (\n      <Affix\n        class={this.tableBaseClass.affixedFooterWrap}\n        onFixedChange={this.onFixedChange}\n        offsetBottom={marginScrollbarWidth || 0}\n        {...getAffixProps(this.footerAffixedBottom)}\n        style={{ marginTop: `${-1 * ((this.tableFootHeight ?? 0) + marginScrollbarWidth)}px` }}\n        ref=\"footerBottomAffixRef\"\n      >\n        <div\n          ref=\"affixFooterRef\"\n          style={{ width: `${this.tableWidth - affixedLeftBorder}px`, opacity: Number(this.showAffixFooter) }}\n          class={[\n            'scrollbar',\n            {\n              [this.tableBaseClass.affixedFooterElm]:\n                this.footerAffixedBottom || this.virtualConfig.isVirtualScroll.value,\n            },\n          ]}\n        >\n          <table class={this.tableElmClasses} style={{ ...this.tableElementStyles, width: `${this.tableElmWidth}px` }}>\n            {/* 此处和 Vue2 不同，Vue3 里面必须每一处单独写 <colgroup> */}\n            {renderColGroup(true)}\n            <TFoot\n              rowKey={this.rowKey}\n              v-slots={this.$slots}\n              isFixedHeader={this.isFixedHeader}\n              rowAndColFixedPosition={rowAndColFixedPosition}\n              footData={this.footData}\n              columns={columns}\n              rowAttributes={this.rowAttributes}\n              rowClassName={this.rowClassName}\n              thWidthList={this.thWidthList}\n              footerSummary={this.footerSummary}\n              rowspanAndColspanInFooter={this.rowspanAndColspanInFooter}\n            ></TFoot>\n          </table>\n        </div>\n      </Affix>\n    );\n\n    // 通过 translate 撑开虚拟滚动的高度，应该是内容高度加上表头和表尾的高度\n    const translate = `translate(0, ${\n      this.virtualConfig.scrollHeight.value + (this.tableFootHeight ?? 0) + (affixHeaderHeight.value ?? 0)\n    }px)`;\n    const virtualStyle = {\n      transform: translate,\n      '-ms-transform': translate,\n      '-moz-transform': translate,\n      '-webkit-transform': translate,\n    };\n    const tableBodyProps = {\n      classPrefix: this.classPrefix,\n      ellipsisOverlayClassName: this.tableSize !== 'medium' ? this.sizeClassNames[this.tableSize] : '',\n      rowAndColFixedPosition,\n      showColumnShadow: this.showColumnShadow,\n      data: data,\n      virtualConfig: this.virtualConfig,\n      columns: this.spansAndLeafNodes.leafColumns,\n      tableElm: this.tableRef,\n      tableWidth: this.tableWidth,\n      isWidthOverflow: this.isWidthOverflow,\n      scroll: this.scroll,\n      cellEmptyContent: this.cellEmptyContent,\n      tableContentElm: this.tableContentRef,\n      handleRowMounted: this.virtualConfig.handleRowMounted,\n      renderExpandedRow: this.renderExpandedRow,\n      ...pick(this.$props, extendTableProps),\n      // 内部使用分页信息必须取 innerPagination\n      pagination: this.innerPagination,\n      attach: this.attach,\n      hoverRow: this.hoverRow,\n      activeRow: this.tActiveRow,\n      onRowClick: this.onInnerRowClick,\n    };\n    const tableContent = (\n      <div\n        ref=\"tableContentRef\"\n        class={this.tableBaseClass.content}\n        style={this.tableContentStyles}\n        onScroll={this.onInnerVirtualScroll}\n      >\n        {this.virtualConfig.isVirtualScroll.value && (\n          <div class={this.virtualScrollClasses.cursor} style={virtualStyle} />\n        )}\n\n        <table\n          ref=\"tableElmRef\"\n          class={this.tableElmClasses}\n          style={{\n            ...this.tableElementStyles,\n            width:\n              this.resizable && this.isWidthOverflow && this.tableElmWidth\n                ? `${this.tableElmWidth}px`\n                : this.tableElementStyles.width,\n          }}\n        >\n          {renderColGroup(false)}\n          {this.showHeader && (\n            <THead v-slots={this.$slots} {...{ ...headProps, thWidthList: columnResizable ? this.thWidthList : {} }} />\n          )}\n          <TBody v-slots={this.$slots} {...tableBodyProps} />\n          <TFoot\n            v-slots={this.$slots}\n            rowKey={this.rowKey}\n            isFixedHeader={this.isFixedHeader}\n            rowAndColFixedPosition={rowAndColFixedPosition}\n            footData={this.footData}\n            columns={columns}\n            rowAttributes={this.rowAttributes}\n            rowClassName={this.rowClassName}\n            footerSummary={this.footerSummary}\n            rowspanAndColspanInFooter={this.rowspanAndColspanInFooter}\n            virtualScroll={this.virtualConfig.isVirtualScroll.value}\n          ></TFoot>\n        </table>\n      </div>\n    );\n\n    const getCustomLoadingText = isFunction(this.loading) ? this.loading : this.$slots.loading;\n    const loadingContent = this.loading !== undefined && (\n      <Loading\n        loading={!!this.loading}\n        text={getCustomLoadingText}\n        attach={this.tableRef ? () => this.tableRef : undefined}\n        showOverlay\n        size=\"small\"\n        {...(this.loadingProps as BaseTableProps['loadingProps'])}\n      ></Loading>\n    );\n\n    const topContent = this.renderTNode('topContent');\n    const bottomContent = this.renderTNode('bottomContent');\n    const pagination = (\n      <div\n        ref=\"paginationRef\"\n        class={this.tableBaseClass.paginationWrap}\n        style={{ opacity: Number(this.showAffixPagination) }}\n      >\n        {this.renderPagination()}\n      </div>\n    );\n\n    const bottom = !!bottomContent && (\n      <div ref=\"bottomContentRef\" class={this.tableBaseClass.bottomContent}>\n        {bottomContent}\n      </div>\n    );\n\n    return (\n      <div\n        ref=\"tableRef\"\n        tabindex=\"0\"\n        class={this.dynamicBaseTableClasses}\n        onFocus={this.onTableFocus}\n        onBlur={this.onTableBlur}\n      >\n        {!!topContent && <div class={this.tableBaseClass.topContent}>{topContent}</div>}\n\n        {renderAffixedHeader()}\n\n        {tableContent}\n\n        {affixedFooter}\n\n        {loadingContent}\n\n        {bottom}\n\n        {/* 右侧滚动条分隔线 */}\n        {this.showRightDivider && (\n          <div\n            class={this.tableBaseClass.scrollbarDivider}\n            style={{\n              right: `${this.scrollbarWidth}px`,\n              bottom: this.dividerBottom ? `${this.dividerBottom}px` : undefined,\n              height: `${this.tableContentRef?.getBoundingClientRect().height}px`,\n            }}\n          ></div>\n        )}\n\n        {/* 吸底的滚动条 */}\n        {this.horizontalScrollAffixedBottom && renderAffixedHorizontalScrollbar()}\n\n        {/* 吸底的分页器 */}\n        {this.paginationAffixedBottom ? (\n          <Affix offsetBottom={0} {...getAffixProps(this.paginationAffixedBottom)} ref=\"paginationAffixRef\">\n            {pagination}\n          </Affix>\n        ) : (\n          pagination\n        )}\n\n        {/* 调整列宽时的指示线。由于层级需要比较高，因而放在根节点，避免被吸顶表头覆盖。非必要情况，请勿调整辅助线位置 */}\n        <div ref=\"resizeLineRef\" class={this.tableBaseClass.resizeLine} style={this.resizeLineStyle}></div>\n      </div>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}