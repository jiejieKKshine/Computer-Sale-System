{"ast":null,"code":"/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, ref, watch, createVNode, mergeProps } from 'vue';\nimport { Input } from '../input/index.mjs';\nimport './utils/index.mjs';\nimport { useBaseClassName } from './hooks.mjs';\nimport { useCommonClassName } from '../hooks/useConfig.mjs';\nimport { Color } from '../_common/js/color-picker/color.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../input/input.mjs';\nimport '../_chunks/dep-5d3f7c0e.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../input/props.mjs';\nimport '../hooks/useDisabled.mjs';\nimport '../_chunks/dep-df472119.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../hooks/useReadonly.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/type.mjs';\nimport '../hooks/tnode.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../input/useInput.mjs';\nimport '../_chunks/dep-5efe53d1.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '../form/const.mjs';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../input/useLengthLimit.mjs';\nimport '../_common/js/log/index.mjs';\nimport '../_common/js/utils/helper.mjs';\nimport '../_chunks/dep-4a990ea3.mjs';\nimport '../_chunks/dep-73384992.mjs';\nimport '../_chunks/dep-58a62202.mjs';\nimport '../_chunks/dep-889e457b.mjs';\nimport '../input/useInputEventHandler.mjs';\nimport '../input/useInputWidth.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../input/input-group.mjs';\nimport '../input/input-group-props.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../input/type.mjs';\nimport '../_common/js/color-picker/index.mjs';\nimport '../_common/js/color-picker/cmyk.mjs';\nimport '../_common/js/color-picker/draggable.mjs';\nimport '../_chunks/dep-f909a041.mjs';\nimport '../_common/js/color-picker/gradient.mjs';\nimport '../_chunks/dep-9ac991f3.mjs';\nvar DefaultTrigger = defineComponent({\n  name: \"DefaultTrigger\",\n  inheritAttrs: false,\n  props: {\n    color: {\n      type: String,\n      \"default\": \"\"\n    },\n    disabled: {\n      type: Boolean,\n      \"default\": false\n    },\n    borderless: {\n      type: Boolean,\n      \"default\": false\n    },\n    clearable: {\n      type: Boolean,\n      \"default\": false\n    },\n    inputProps: {\n      type: Object,\n      \"default\": function _default() {\n        return {\n          autoWidth: true\n        };\n      }\n    },\n    onTriggerChange: {\n      type: Function,\n      \"default\": function _default() {\n        return function () {};\n      }\n    },\n    size: {\n      type: String,\n      \"default\": \"medium\"\n    }\n  },\n  setup: function setup(props) {\n    var baseClassName = useBaseClassName();\n    var value = ref(props.color);\n    var _useCommonClassName = useCommonClassName(),\n      sizeClassNames = _useCommonClassName.SIZE;\n    watch(function () {\n      return [props.color];\n    }, function () {\n      return value.value = props.color;\n    });\n    var handleChange = function handleChange(input) {\n      if (input === props.color) {\n        return;\n      }\n      if (input && !Color.isValid(input)) {\n        value.value = props.color;\n      } else {\n        value.value = input;\n      }\n      props.onTriggerChange(value.value);\n    };\n    return {\n      baseClassName: baseClassName,\n      value: value,\n      handleChange: handleChange,\n      sizeClassNames: sizeClassNames\n    };\n  },\n  render: function render() {\n    var _this = this;\n    var baseClassName = this.baseClassName,\n      sizeClassNames = this.sizeClassNames;\n    var inputSlots = {\n      label: function label() {\n        return createVNode(\"div\", {\n          \"class\": [\"\".concat(baseClassName, \"__trigger--default__color\"), \"\".concat(baseClassName, \"--bg-alpha\")]\n        }, [createVNode(\"span\", {\n          \"class\": [\"color-inner\", _defineProperty({}, sizeClassNames[_this.size], _this.size !== \"medium\")],\n          \"style\": {\n            background: _this.value\n          }\n        }, null)]);\n      }\n    };\n    return createVNode(Input, mergeProps({\n      \"borderless\": this.borderless,\n      \"clearable\": this.clearable,\n      \"size\": this.size,\n      \"modelValue\": _this.value,\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return _this.value = $event;\n      },\n      \"disabled\": this.disabled,\n      \"onBlur\": this.handleChange\n    }, this.inputProps), inputSlots);\n  }\n});\nexport { DefaultTrigger as default };","map":{"version":3,"names":["DefaultTrigger","defineComponent","name","inheritAttrs","props","color","type","String","disabled","Boolean","borderless","clearable","inputProps","Object","_default","autoWidth","onTriggerChange","Function","size","setup","baseClassName","useBaseClassName","value","ref","_useCommonClassName","useCommonClassName","sizeClassNames","SIZE","watch","handleChange","input","Color","isValid","render","_this","inputSlots","label","createVNode","concat","_defineProperty","background","Input","mergeProps","onUpdateModelValue","$event"],"sources":["../../src/color-picker/trigger.tsx"],"sourcesContent":["import { defineComponent, PropType, ref, watch } from 'vue';\nimport TInput from '../input';\nimport { Color } from './utils';\nimport { TdColorPickerProps } from './type';\nimport { useBaseClassName } from './hooks';\nimport { useCommonClassName } from '../hooks/useConfig';\n\nexport default defineComponent({\n  name: 'DefaultTrigger',\n  inheritAttrs: false,\n  props: {\n    color: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    borderless: {\n      type: Boolean,\n      default: false,\n    },\n    clearable: {\n      type: Boolean,\n      default: false,\n    },\n    inputProps: {\n      type: Object as PropType<TdColorPickerProps['inputProps']>,\n      default: () => {\n        return {\n          autoWidth: true,\n        };\n      },\n    },\n    onTriggerChange: {\n      type: Function,\n      default: () => {\n        return () => {};\n      },\n    },\n    size: {\n      type: String as PropType<TdColorPickerProps['size']>,\n      default: 'medium',\n    },\n  },\n  setup(props) {\n    const baseClassName = useBaseClassName();\n    const value = ref(props.color);\n    const { SIZE: sizeClassNames } = useCommonClassName();\n    watch(\n      () => [props.color],\n      () => (value.value = props.color),\n    );\n\n    const handleChange = (input: string) => {\n      if (input === props.color) {\n        return;\n      }\n      if (input && !Color.isValid(input)) {\n        value.value = props.color;\n      } else {\n        value.value = input;\n      }\n      props.onTriggerChange(value.value);\n    };\n\n    return {\n      baseClassName,\n      value,\n      handleChange,\n      sizeClassNames,\n    };\n  },\n\n  render() {\n    const { baseClassName, sizeClassNames } = this;\n\n    const inputSlots = {\n      label: () => {\n        return (\n          <div class={[`${baseClassName}__trigger--default__color`, `${baseClassName}--bg-alpha`]}>\n            <span\n              class={[\n                'color-inner',\n                {\n                  [sizeClassNames[this.size]]: this.size !== 'medium',\n                },\n              ]}\n              style={{\n                background: this.value,\n              }}\n            ></span>\n          </div>\n        );\n      },\n    };\n    return (\n      <TInput\n        borderless={this.borderless}\n        clearable={this.clearable}\n        size={this.size}\n        v-slots={inputSlots}\n        v-model={this.value}\n        disabled={this.disabled}\n        onBlur={this.handleChange}\n        {...this.inputProps}\n      />\n    );\n  },\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,IAAAA,cAAA,GAAeC,eAAgB;EAC7BC,IAAM;EACNC,YAAc;EACdC,KAAO;IACLC,KAAO;MACLC,IAAM,EAAAC,MAAA;MACN,SAAS;KACX;IACAC,QAAU;MACRF,IAAM,EAAAG,OAAA;MACN,SAAS;KACX;IACAC,UAAY;MACVJ,IAAM,EAAAG,OAAA;MACN,SAAS;KACX;IACAE,SAAW;MACTL,IAAM,EAAAG,OAAA;MACN,SAAS;KACX;IACAG,UAAY;MACVN,IAAM,EAAAO,MAAA;MACN,SAAS,WAATC,SAAA,EAAe;QACN;UACLC,SAAW;SACb;MACF;KACF;IACAC,eAAiB;MACfV,IAAM,EAAAW,QAAA;MACN,SAAS,WAATH,SAAA,EAAe;QACb,OAAO,YAAM,EAAC;MAChB;KACF;IACAI,IAAM;MACJZ,IAAM,EAAAC,MAAA;MACN,SAAS;IACX;GACF;EACAY,KAAA,WAAAA,MAAMf,KAAO;IACX,IAAMgB,aAAA,GAAgBC,gBAAiB;IACjC,IAAAC,KAAA,GAAQC,GAAI,CAAAnB,KAAA,CAAMC,KAAK;IAC7B,IAAAmB,mBAAA,GAAiCC,kBAAmB;MAAtCC,cAAe,GAAAF,mBAAA,CAArBG,IAAA;IACRC,KAAA,CACE;MAAA,OAAM,CAACxB,KAAA,CAAMC,KAAK;KAClB;MAAA,OAAOiB,KAAM,CAAAA,KAAA,GAAQlB,KAAM,CAAAC,KAAA;IAAA,CAC7B;IAEM,IAAAwB,YAAA,GAAe,SAAfA,aAAgBC,KAAkB;MAClC,IAAAA,KAAA,KAAU1B,KAAA,CAAMC,KAAO;QACzB;MACF;MACA,IAAIyB,KAAS,KAACC,KAAM,CAAAC,OAAA,CAAQF,KAAK,CAAG;QAClCR,KAAA,CAAMA,KAAA,GAAQlB,KAAM,CAAAC,KAAA;MACtB,CAAO;QACLiB,KAAA,CAAMA,KAAQ,GAAAQ,KAAA;MAChB;MACM1B,KAAA,CAAAY,eAAA,CAAgBM,KAAA,CAAMA,KAAK;KACnC;IAEO;MACLF,aAAA,EAAAA,aAAA;MACAE,KAAA,EAAAA,KAAA;MACAO,YAAA,EAAAA,YAAA;MACAH,cAAA,EAAAA;KACF;GACF;EAEAO,MAAS,WAATA,MAASA,CAAA;IAAA,IAAAC,KAAA;IACD,IAAEd,aAAe,GAAmB,KAAlCA,aAAe;MAAAM,cAAA,GAAmB,KAAnBA,cAAA;IAEvB,IAAMS,UAAa;MACjBC,KAAA,EAAO,SAAPA,MAAA,EAAa;QAET,OAAAC,WAAA;UAAA,SAAY,IAAAC,MAAA,CAAIlB,aAA0C,mCAAAkB,MAAA,CAAGlB,aAAyB;QAAA,IAAAiB,WAAA;UAAA,SAE3E,CACL,eAAAE,eAAA,KAEGb,cAAA,CAAeQ,KAAK,CAAAhB,IAAA,GAAQgB,KAAA,CAAKhB,IAAS;iBAGxC;YACLsB,UAAA,EAAYN,KAAK,CAAAZ;UACnB;QAAA;MAIR;KACF;IAEE,OAAAe,WAAA,CAAAI,KAAA,EAAAC,UAAA;MAAA,YACc,OAAKhC,UAAA;iBACN,OAAKC,SAChB;MAAA,MAAM,MAAK,CAAAO,IAAA;MAAA,YAEF,EAAAgB,KAAK,CAAAZ,KAAA;MAAA,gCAAAqB,mBAAAC,MAAA;QAAA,OAALV,KAAK,CAAAZ,KAAA,GAAAsB,MAAA;MAAA;MAAA,UACJ,OAAKpC,QAAA;gBACP,KAAKqB;IACT,QAAKjB,UACX,GALWuB,UACT;EAMN;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}