{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, computed, createVNode } from 'vue';\nimport props from './props.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/type.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar swiperItemProps = {\n  index: {\n    type: Number\n  },\n  currentIndex: {\n    type: Number\n  },\n  isSwitching: {\n    type: Boolean,\n    \"default\": false\n  },\n  getWrapAttribute: {\n    type: Function\n  },\n  swiperItemLength: {\n    type: Number,\n    \"default\": 0\n  }\n};\nvar CARD_SCALE = 210 / 332;\nvar itemWidth = 0.415;\nvar _SwiperItem = defineComponent({\n  name: \"TSwiperItem\",\n  props: _objectSpread(_objectSpread({}, props), swiperItemProps),\n  setup: function setup(props2, _ref) {\n    var slots = _ref.slots;\n    var prefix = usePrefixClass();\n    var active = computed(function () {\n      return props2.index === props2.currentIndex;\n    });\n    var disposeIndex = computed(function () {\n      if (props2.type !== \"card\") return 0;\n      if (props2.currentIndex === 0 && props2.index === props2.swiperItemLength - 1) {\n        return -1;\n      }\n      if (props2.currentIndex === props2.swiperItemLength - 1 && props2.index === 0) {\n        return props2.swiperItemLength;\n      }\n      if (props2.index < props2.currentIndex - 1 && props2.currentIndex - props2.index >= props2.swiperItemLength / 2) {\n        return props2.swiperItemLength + 1;\n      }\n      if (props2.index > props2.currentIndex + 1 && props2.index - props2.currentIndex >= props2.swiperItemLength / 2) {\n        return -2;\n      }\n      return props2.index;\n    });\n    var translateX = computed(function () {\n      if (props2.type !== \"card\") return 0;\n      var wrapWidth = props2.getWrapAttribute(\"offsetWidth\") || 0;\n      var translateIndex = !active.value && props2.swiperItemLength > 2 ? disposeIndex.value : props2.index;\n      var inStage = Math.abs(translateIndex - props2.currentIndex) <= 1;\n      if (inStage) {\n        return wrapWidth * ((translateIndex - props2.currentIndex) * (1 - itemWidth * CARD_SCALE) - itemWidth + 1) / 2;\n      }\n      if (translateIndex < props2.currentIndex) {\n        return -itemWidth * (1 + CARD_SCALE) * wrapWidth / 2;\n      }\n      return (2 + itemWidth * (CARD_SCALE - 1)) * wrapWidth / 2;\n    });\n    var zIndex = computed(function () {\n      if (props2.type !== \"card\") return 0;\n      var translateIndex = !active.value && props2.swiperItemLength > 2 ? disposeIndex.value : props2.index;\n      var isActivity = translateIndex === props2.currentIndex;\n      var inStage = Math.round(Math.abs(translateIndex - props2.currentIndex)) <= 1;\n      if (isActivity) {\n        return 2;\n      }\n      if (inStage) {\n        return 1;\n      }\n      return 0;\n    });\n    var itemStyle = computed(function () {\n      if (props2.animation === \"fade\") {\n        return {\n          opacity: active.value ? 1 : 0,\n          transition: props2.isSwitching ? \"opacity \".concat(props2.duration / 1e3, \"s\") : \"\",\n          zIndex: active.value ? 1 : 0\n        };\n      }\n      if (props2.type === \"card\") {\n        var translateIndex = !active.value && props2.swiperItemLength > 2 ? disposeIndex.value : props2.index;\n        var isActivity = translateIndex === props2.currentIndex;\n        return {\n          transform: \"translateX(\".concat(translateX.value, \"px) scale(\").concat(isActivity ? 1 : CARD_SCALE, \")\"),\n          transition: \"transform \".concat(props2.duration / 1e3, \"s ease\"),\n          zIndex: zIndex.value\n        };\n      }\n      return {};\n    });\n    return function () {\n      var _slots$default;\n      return createVNode(\"div\", {\n        \"class\": [\"\".concat(prefix.value, \"-swiper__container__item\"), _defineProperty(_defineProperty(_defineProperty({}, \"\".concat(prefix.value, \"-swiper__card\"), props2.type === \"card\"), \"\".concat(prefix.value, \"-is-active\"), props2.type === \"card\" && active.value), \"\".concat(prefix.value, \"-swiper__fade\"), props2.animation === \"fade\")],\n        \"style\": itemStyle.value\n      }, [((_slots$default = slots[\"default\"]) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots, {})) || []]);\n    };\n  }\n});\nexport { _SwiperItem as default };","map":{"version":3,"names":["swiperItemProps","index","type","Number","currentIndex","isSwitching","Boolean","getWrapAttribute","Function","swiperItemLength","CARD_SCALE","itemWidth","_SwiperItem","defineComponent","name","props","_objectSpread","setup","props2","_ref","slots","prefix","usePrefixClass","active","computed","disposeIndex","translateX","wrapWidth","translateIndex","value","inStage","Math","abs","zIndex","isActivity","round","itemStyle","animation","opacity","transition","concat","duration","transform","_slots$default","createVNode","_defineProperty","call"],"sources":["../../src/swiper/swiper-item.tsx"],"sourcesContent":["import { defineComponent, computed } from 'vue';\nimport props from './props';\nimport { usePrefixClass } from '../hooks/useConfig';\n\nconst swiperItemProps = {\n  index: {\n    type: Number,\n  },\n  currentIndex: {\n    type: Number,\n  },\n  isSwitching: {\n    type: Boolean,\n    default: false,\n  },\n  getWrapAttribute: {\n    type: Function,\n  },\n  swiperItemLength: {\n    type: Number,\n    default: 0,\n  },\n};\nconst CARD_SCALE = 210 / 332; // 缩放比例\nconst itemWidth = 0.415; // 依据设计稿使用t-swiper__card控制每个swiper的宽度为41.5%\n\nexport default defineComponent({\n  name: 'TSwiperItem',\n  props: {\n    ...props,\n    ...swiperItemProps,\n  },\n  setup(props, { slots }) {\n    const prefix = usePrefixClass();\n    const active = computed(() => props.index === props.currentIndex);\n    const disposeIndex = computed(() => {\n      if (props.type !== 'card') return 0;\n      if (props.currentIndex === 0 && props.index === props.swiperItemLength - 1) {\n        return -1;\n      }\n      if (props.currentIndex === props.swiperItemLength - 1 && props.index === 0) {\n        return props.swiperItemLength;\n      }\n      if (props.index < props.currentIndex - 1 && props.currentIndex - props.index >= props.swiperItemLength / 2) {\n        return props.swiperItemLength + 1;\n      }\n      if (props.index > props.currentIndex + 1 && props.index - props.currentIndex >= props.swiperItemLength / 2) {\n        return -2;\n      }\n      return props.index;\n    });\n    const translateX = computed(() => {\n      if (props.type !== 'card') return 0;\n      const wrapWidth = props.getWrapAttribute('offsetWidth') || 0;\n      const translateIndex = !active.value && props.swiperItemLength > 2 ? disposeIndex.value : props.index;\n      const inStage = Math.abs(translateIndex - props.currentIndex) <= 1;\n      if (inStage) {\n        return (wrapWidth * ((translateIndex - props.currentIndex) * (1 - itemWidth * CARD_SCALE) - itemWidth + 1)) / 2;\n      }\n      if (translateIndex < props.currentIndex) {\n        return (-itemWidth * (1 + CARD_SCALE) * wrapWidth) / 2;\n      }\n      return ((2 + itemWidth * (CARD_SCALE - 1)) * wrapWidth) / 2;\n    });\n    const zIndex = computed(() => {\n      if (props.type !== 'card') return 0;\n      const translateIndex = !active.value && props.swiperItemLength > 2 ? disposeIndex.value : props.index;\n      const isActivity = translateIndex === props.currentIndex;\n      const inStage = Math.round(Math.abs(translateIndex - props.currentIndex)) <= 1;\n      if (isActivity) {\n        return 2;\n      }\n      if (inStage) {\n        return 1;\n      }\n      return 0;\n    });\n    const itemStyle = computed(() => {\n      if (props.animation === 'fade') {\n        return {\n          opacity: active.value ? 1 : 0,\n          transition: props.isSwitching ? `opacity ${props.duration / 1000}s` : '',\n          zIndex: active.value ? 1 : 0,\n        };\n      }\n      if (props.type === 'card') {\n        const translateIndex = !active.value && props.swiperItemLength > 2 ? disposeIndex.value : props.index;\n        const isActivity = translateIndex === props.currentIndex;\n        return {\n          transform: `translateX(${translateX.value}px) scale(${isActivity ? 1 : CARD_SCALE})`,\n          transition: `transform ${props.duration / 1000}s ease`,\n          zIndex: zIndex.value,\n        };\n      }\n      return {};\n    });\n\n    return () => (\n      <div\n        class={[\n          `${prefix.value}-swiper__container__item`,\n          {\n            [`${prefix.value}-swiper__card`]: props.type === 'card',\n            [`${prefix.value}-is-active`]: props.type === 'card' && active.value,\n            [`${prefix.value}-swiper__fade`]: props.animation === 'fade',\n          },\n        ]}\n        style={itemStyle.value}\n      >\n        {slots.default?.({}) || []}\n      </div>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}