{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _asyncToGenerator, r as regenerator } from '../../_chunks/dep-0d047dce.mjs';\nimport { defineComponent, toRefs, ref, computed, watch, onMounted, createVNode } from 'vue';\nimport { ImageErrorIcon } from 'tdesign-icons-vue-next';\nimport { usePrefixClass } from '../../hooks/useConfig.mjs';\nimport { useImagePreviewUrl } from '../../hooks/useImagePreviewUrl.mjs';\nimport { useDrag } from '../hooks.mjs';\nimport { useConfig } from '../../config-provider/useConfig.mjs';\nimport '../../_chunks/dep-4659d73b.mjs';\nimport '../../_chunks/dep-eca422c3.mjs';\nimport '../../_chunks/dep-06dcbf4c.mjs';\nimport '../../_chunks/dep-bf7257e7.mjs';\nimport '../../_chunks/dep-2b09875b.mjs';\nimport '../../_chunks/dep-cda4f568.mjs';\nimport '../../_chunks/dep-bb899bfd.mjs';\nimport '../../_chunks/dep-5922c8f3.mjs';\nimport '../../_chunks/dep-92f86d1d.mjs';\nimport '../../_chunks/dep-6ab5363f.mjs';\nimport '../../_chunks/dep-6dc3d0e1.mjs';\nimport '../../_chunks/dep-76958824.mjs';\nimport '../../_chunks/dep-e9841b9e.mjs';\nimport '../../_chunks/dep-1a4bb2f2.mjs';\nimport '../../_chunks/dep-cc8ebcde.mjs';\nimport '../../_chunks/dep-29ef8419.mjs';\nimport '../../_chunks/dep-f5579c03.mjs';\nimport '../../_chunks/dep-49aeee3c.mjs';\nimport '../../_chunks/dep-b5bf85f5.mjs';\nimport '../../_chunks/dep-3c65fae8.mjs';\nimport '../../_chunks/dep-eae2a67e.mjs';\nimport '../../_chunks/dep-626c497d.mjs';\nimport '../../_chunks/dep-ec0bbd9f.mjs';\nimport '../../_chunks/dep-1b78414a.mjs';\nimport '../../_chunks/dep-d84f19b3.mjs';\nimport '../../_chunks/dep-732f0b7d.mjs';\nimport '../../_chunks/dep-03a7fb6c.mjs';\nimport '../../_chunks/dep-1b9718a2.mjs';\nimport '../../_chunks/dep-e065dc25.mjs';\nimport '../../_chunks/dep-400ec705.mjs';\nimport '../../_chunks/dep-02f9394e.mjs';\nimport '../../_chunks/dep-1725b1c7.mjs';\nimport '../../_chunks/dep-532409c5.mjs';\nimport '../../_common/js/global-config/default-config.mjs';\nimport '../../_common/js/global-config/locale/zh_CN.mjs';\nimport '../../_chunks/dep-9ed7da3e.mjs';\nimport '../../_chunks/dep-7f65fc46.mjs';\nimport '../../_chunks/dep-4f2cabb0.mjs';\nimport '../../config-provider/type.mjs';\nimport '../../_chunks/dep-5efe53d1.mjs';\nimport '../../_chunks/dep-593f2b67.mjs';\nimport '../../_common/js/upload/utils.mjs';\nimport '../../_common/js/log/log.mjs';\nimport '../../_chunks/dep-fa52aa21.mjs';\nimport '../../_common/js/input-number/number.mjs';\nimport '../../_chunks/dep-58a62202.mjs';\nimport '../../_chunks/dep-889e457b.mjs';\nimport '../../_common/js/input-number/large-number.mjs';\nimport '../../_common/js/log/index.mjs';\nimport '../../_chunks/dep-525a54df.mjs';\nimport '../../_chunks/dep-5993931e.mjs';\nimport '../../_chunks/dep-8dfc9324.mjs';\nimport '../../_chunks/dep-ab4bb9b8.mjs';\nvar TImageItem = defineComponent({\n  name: \"TImageItem\",\n  props: {\n    rotate: Number,\n    scale: Number,\n    mirror: Number,\n    src: [String, Object],\n    placementSrc: [String, Object],\n    isSvg: Boolean\n  },\n  setup: function setup(props) {\n    var _toRefs = toRefs(props),\n      src = _toRefs.src,\n      placementSrc = _toRefs.placementSrc,\n      isSvg = _toRefs.isSvg;\n    var classPrefix = usePrefixClass();\n    var error = ref(false);\n    var loaded = ref(false);\n    var _useDrag = useDrag({\n        translateX: 0,\n        translateY: 0\n      }),\n      transform = _useDrag.transform,\n      mouseDownHandler = _useDrag.mouseDownHandler;\n    var _useConfig = useConfig(\"imageViewer\"),\n      globalConfig = _useConfig.globalConfig;\n    var errorText = globalConfig.value.errorText;\n    var svgElRef = ref();\n    var imgStyle = computed(function () {\n      return {\n        transform: \"rotate(\".concat(props.rotate, \"deg) scale(\").concat(props.scale, \")\"),\n        display: !props.placementSrc || loaded.value ? \"block\" : \"none\"\n      };\n    });\n    var placementImgStyle = computed(function () {\n      return {\n        transform: \"rotate(\".concat(props.rotate, \"deg) scale(\").concat(props.scale, \")\"),\n        display: !loaded.value ? \"block\" : \"none\"\n      };\n    });\n    var boxStyle = computed(function () {\n      var _transform$value = transform.value,\n        translateX = _transform$value.translateX,\n        translateY = _transform$value.translateY;\n      return {\n        transform: \"translate(\".concat(translateX, \"px, \").concat(translateY, \"px) scale(\").concat(props.mirror, \", 1)\")\n      };\n    });\n    var resetStatus = function resetStatus() {\n      error.value = false;\n      loaded.value = false;\n      if (isSvg.value) {\n        createSvgShadow(mainImagePreviewUrl.value);\n      }\n    };\n    var createSvgShadow = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/regenerator.mark(function _callee(url) {\n        var _element$classList;\n        var response, svgText, element, shadowRoot, container, svgElement, svgViewBox, viewBoxValues, svgViewBoxWidth, bbox, calculatedViewBox;\n        return regenerator.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(url);\n            case 2:\n              response = _context.sent;\n              if (response.ok) {\n                _context.next = 6;\n                break;\n              }\n              error.value = true;\n              throw new Error(\"Failed to fetch SVG: \".concat(response.statusText));\n            case 6:\n              _context.next = 8;\n              return response.text();\n            case 8:\n              svgText = _context.sent;\n              element = svgElRef.value;\n              element.innerHTML = \"\";\n              (_element$classList = element.classList) === null || _element$classList === void 0 || _element$classList.add(\"\".concat(classPrefix.value, \"-image-viewer__modal-image-svg\"));\n              shadowRoot = element.attachShadow({\n                mode: \"closed\"\n              });\n              container = document.createElement(\"div\");\n              container.style.background = \"var(--td-bg-color-container)\";\n              container.style.padding = \"4px\";\n              container.style.borderRadius = \"4px\";\n              container.style.maxHeight = \"100%\";\n              container.style.maxWidth = \"100%\";\n              container.style.boxSizing = \"border-box\";\n              container.style.height = \"auto\";\n              container.innerHTML = svgText;\n              shadowRoot.appendChild(container);\n              svgElement = container.querySelector(\"svg\");\n              if (svgElement) {\n                svgViewBox = svgElement.getAttribute(\"viewBox\");\n                if (svgViewBox) {\n                  viewBoxValues = svgViewBox.split(/[\\s\\,]/).filter(function (v) {\n                    return v;\n                  }).map(parseFloat);\n                  svgViewBoxWidth = viewBoxValues[2];\n                  container.style.width = \"\".concat(svgViewBoxWidth, \"px\");\n                } else {\n                  bbox = svgElement.getBBox();\n                  calculatedViewBox = \"\".concat(bbox.x, \" \").concat(bbox.y, \" \").concat(bbox.width, \" \").concat(bbox.height);\n                  svgElement.setAttribute(\"viewBox\", calculatedViewBox);\n                  container.style.width = \"\".concat(bbox.width, \"px\");\n                }\n                svgElement.style.maxHeight = \"100%\";\n                svgElement.style.maxWidth = \"100%\";\n                svgElement.style.height = \"auto\";\n                svgElement.style.display = \"block\";\n                svgElement.style.lineHeight = \"normal\";\n              }\n              loaded.value = true;\n            case 26:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function createSvgShadow(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var _useImagePreviewUrl = useImagePreviewUrl(src),\n      mainImagePreviewUrl = _useImagePreviewUrl.previewUrl;\n    var _useImagePreviewUrl2 = useImagePreviewUrl(placementSrc),\n      placementImagePreviewUrl = _useImagePreviewUrl2.previewUrl;\n    watch([mainImagePreviewUrl, placementImagePreviewUrl], function () {\n      resetStatus();\n    });\n    onMounted(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator.mark(function _callee2() {\n      return regenerator.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!isSvg.value) {\n              _context2.next = 3;\n              break;\n            }\n            _context2.next = 3;\n            return createSvgShadow(mainImagePreviewUrl.value);\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    })));\n    return function () {\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__modal-pic\")\n      }, [createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__modal-box\"),\n        \"style\": boxStyle.value\n      }, [error.value && createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__img-error\")\n      }, [createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__img-error-content\")\n      }, [createVNode(ImageErrorIcon, {\n        \"size\": \"4em\"\n      }, null), createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__img-error-text\")\n      }, [errorText])])]), !error.value && !!props.placementSrc && placementImagePreviewUrl.value && createVNode(\"img\", {\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__modal-image\"),\n        \"onMousedown\": function onMousedown(event) {\n          event.stopPropagation();\n          mouseDownHandler(event);\n        },\n        \"src\": placementImagePreviewUrl.value,\n        \"style\": placementImgStyle.value,\n        \"alt\": \"image\",\n        \"draggable\": \"false\"\n      }, null), !error.value && mainImagePreviewUrl.value && !isSvg.value && createVNode(\"img\", {\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__modal-image\"),\n        \"onMousedown\": function onMousedown(event) {\n          event.stopPropagation();\n          mouseDownHandler(event);\n        },\n        \"src\": mainImagePreviewUrl.value,\n        \"onLoad\": function onLoad() {\n          return loaded.value = true;\n        },\n        \"onError\": function onError() {\n          return error.value = true;\n        },\n        \"style\": imgStyle.value,\n        \"alt\": \"image\",\n        \"draggable\": \"false\"\n      }, null), !error.value && mainImagePreviewUrl.value && isSvg.value && createVNode(\"div\", {\n        \"ref\": svgElRef,\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__modal-image\"),\n        \"onMousedown\": function onMousedown(event) {\n          event.stopPropagation();\n          mouseDownHandler(event);\n        },\n        \"data-alt\": \"svg\",\n        \"style\": imgStyle.value,\n        \"draggable\": \"false\"\n      }, null)])]);\n    };\n  }\n});\nexport { TImageItem as default };","map":{"version":3,"names":["TImageItem","defineComponent","name","props","rotate","Number","scale","mirror","src","String","Object","placementSrc","isSvg","Boolean","setup","_toRefs","toRefs","classPrefix","usePrefixClass","error","ref","loaded","_useDrag","useDrag","translateX","translateY","transform","mouseDownHandler","_useConfig","useConfig","globalConfig","errorText","value","svgElRef","imgStyle","computed","concat","display","placementImgStyle","boxStyle","_transform$value","resetStatus","createSvgShadow","mainImagePreviewUrl","_ref","_asyncToGenerator","regenerator","mark","_callee","url","_element$classList","response","svgText","element","shadowRoot","container","svgElement","svgViewBox","viewBoxValues","svgViewBoxWidth","bbox","calculatedViewBox","wrap","_callee$","_context","prev","next","fetch","sent","ok","Error","statusText","text","innerHTML","classList","add","attachShadow","mode","document","createElement","style","background","padding","borderRadius","maxHeight","maxWidth","boxSizing","height","appendChild","querySelector","getAttribute","split","filter","v","map","parseFloat","width","getBBox","x","y","setAttribute","lineHeight","stop","_x","apply","arguments","_useImagePreviewUrl","useImagePreviewUrl","previewUrl","_useImagePreviewUrl2","placementImagePreviewUrl","watch","onMounted","_callee2","_callee2$","_context2","createVNode","ImageErrorIcon","onMousedown","event","stopPropagation","onLoad","onError"],"sources":["../../../src/image-viewer/base/ImageItem.tsx"],"sourcesContent":["import { ImageErrorIcon } from 'tdesign-icons-vue-next';\nimport { PropType, computed, defineComponent, onMounted, ref, toRefs, watch } from 'vue';\nimport { useConfig, usePrefixClass } from '../../hooks/useConfig';\nimport { useImagePreviewUrl } from '../../hooks/useImagePreviewUrl';\nimport { useDrag } from '../hooks';\n\nexport default defineComponent({\n  name: 'TImageItem',\n  props: {\n    rotate: Number,\n    scale: Number,\n    mirror: Number,\n    src: [String, Object] as PropType<string | File>,\n    placementSrc: [String, Object] as PropType<string | File>,\n    isSvg: Boolean,\n  },\n\n  setup(props) {\n    const { src, placementSrc, isSvg } = toRefs(props);\n    const classPrefix = usePrefixClass();\n    const error = ref(false);\n    const loaded = ref(false);\n    const { transform, mouseDownHandler } = useDrag({ translateX: 0, translateY: 0 });\n    const { globalConfig } = useConfig('imageViewer');\n    const errorText = globalConfig.value.errorText;\n    const svgElRef = ref<HTMLDivElement>();\n\n    const imgStyle = computed(() => ({\n      transform: `rotate(${props.rotate}deg) scale(${props.scale})`,\n      display: !props.placementSrc || loaded.value ? 'block' : 'none',\n    }));\n    const placementImgStyle = computed(() => ({\n      transform: `rotate(${props.rotate}deg) scale(${props.scale})`,\n      display: !loaded.value ? 'block' : 'none',\n    }));\n    const boxStyle = computed(() => {\n      const { translateX, translateY } = transform.value;\n      return {\n        transform: `translate(${translateX}px, ${translateY}px) scale(${props.mirror}, 1)`,\n      };\n    });\n\n    const resetStatus = () => {\n      error.value = false;\n      loaded.value = false;\n      if (isSvg.value) {\n        createSvgShadow(mainImagePreviewUrl.value);\n      }\n    };\n\n    const createSvgShadow = async (url: string) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        error.value = true;\n        throw new Error(`Failed to fetch SVG: ${response.statusText}`);\n      }\n      const svgText = await response.text();\n\n      const element = svgElRef.value;\n      element.innerHTML = '';\n      element.classList?.add(`${classPrefix.value}-image-viewer__modal-image-svg`);\n      const shadowRoot = element.attachShadow({ mode: 'closed' });\n\n      const container = document.createElement('div');\n\n      container.style.background = 'var(--td-bg-color-container)';\n      container.style.padding = '4px';\n      container.style.borderRadius = '4px';\n      container.style.maxHeight = '100%';\n      container.style.maxWidth = '100%';\n      container.style.boxSizing = 'border-box';\n      container.style.height = 'auto';\n      container.innerHTML = svgText;\n      shadowRoot.appendChild(container);\n\n      const svgElement = container.querySelector('svg');\n      if (svgElement) {\n        const svgViewBox = svgElement.getAttribute('viewBox');\n        if (svgViewBox) {\n          const viewBoxValues = svgViewBox\n            .split(/[\\s\\,]/)\n            .filter(function (v) {\n              return v;\n            })\n            .map(parseFloat);\n\n          // svg viewbox x(0) and y(1) offset, width(2) and height(3),eg\n          const svgViewBoxWidth = viewBoxValues[2];\n          // const svgViewBoxHeight = viewBoxValues[3];\n          container.style.width = `${svgViewBoxWidth}px`;\n        } else {\n          const bbox = svgElement.getBBox();\n          const calculatedViewBox = `${bbox.x} ${bbox.y} ${bbox.width} ${bbox.height}`;\n          svgElement.setAttribute('viewBox', calculatedViewBox);\n\n          container.style.width = `${bbox.width}px`;\n        }\n        svgElement.style.maxHeight = '100%';\n        svgElement.style.maxWidth = '100%';\n        svgElement.style.height = 'auto';\n        svgElement.style.display = 'block';\n        svgElement.style.lineHeight = 'normal';\n      }\n      loaded.value = true;\n    };\n\n    const { previewUrl: mainImagePreviewUrl } = useImagePreviewUrl(src);\n    const { previewUrl: placementImagePreviewUrl } = useImagePreviewUrl(placementSrc);\n\n    watch([mainImagePreviewUrl, placementImagePreviewUrl], () => {\n      resetStatus();\n    });\n\n    onMounted(async () => {\n      if (isSvg.value) {\n        await createSvgShadow(mainImagePreviewUrl.value);\n      }\n    });\n\n    return () => (\n      <div class={`${classPrefix.value}-image-viewer__modal-pic`}>\n        <div class={`${classPrefix.value}-image-viewer__modal-box`} style={boxStyle.value}>\n          {error.value && (\n            <div class={`${classPrefix.value}-image-viewer__img-error`}>\n              {/* 脱离文档流 */}\n              <div class={`${classPrefix.value}-image-viewer__img-error-content`}>\n                <ImageErrorIcon size=\"4em\" />\n                <div class={`${classPrefix.value}-image-viewer__img-error-text`}>{errorText}</div>\n              </div>\n            </div>\n          )}\n\n          {!error.value && !!props.placementSrc && placementImagePreviewUrl.value && (\n            <img\n              class={`${classPrefix.value}-image-viewer__modal-image`}\n              onMousedown={(event: MouseEvent) => {\n                event.stopPropagation();\n                mouseDownHandler(event);\n              }}\n              src={placementImagePreviewUrl.value}\n              style={placementImgStyle.value}\n              alt=\"image\"\n              draggable=\"false\"\n            />\n          )}\n\n          {!error.value && mainImagePreviewUrl.value && !isSvg.value && (\n            <img\n              class={`${classPrefix.value}-image-viewer__modal-image`}\n              onMousedown={(event: MouseEvent) => {\n                event.stopPropagation();\n                mouseDownHandler(event);\n              }}\n              src={mainImagePreviewUrl.value}\n              onLoad={() => (loaded.value = true)}\n              onError={() => (error.value = true)}\n              style={imgStyle.value}\n              alt=\"image\"\n              draggable=\"false\"\n            />\n          )}\n\n          {!error.value && mainImagePreviewUrl.value && isSvg.value && (\n            <div\n              ref={svgElRef}\n              class={`${classPrefix.value}-image-viewer__modal-image`}\n              onMousedown={(event: MouseEvent) => {\n                event.stopPropagation();\n                mouseDownHandler(event);\n              }}\n              data-alt=\"svg\"\n              style={imgStyle.value}\n              draggable=\"false\"\n            ></div>\n          )}\n        </div>\n      </div>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}