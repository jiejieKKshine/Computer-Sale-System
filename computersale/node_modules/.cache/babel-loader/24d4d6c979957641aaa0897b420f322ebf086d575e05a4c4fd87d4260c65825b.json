{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.every.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport { reactive, ref, onMounted, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode } from 'vue';\nimport axios from 'axios';\nimport dayjs from 'dayjs';\nexport default {\n  __name: 'MaintainComponent',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const formData = reactive({\n      labelAlign: 'right',\n      aid: ''\n    });\n    const data = ref([]);\n    const total = ref(0);\n    const editFormData = reactive({\n      sales_detail: '',\n      way: '',\n      service_time: '',\n      eid: '',\n      ename: '',\n      cost: '',\n      service_fee: '',\n      profit: ''\n    });\n    const orderDetail = ref({\n      items: [],\n      total_price: 0\n    });\n    const visible = ref(false);\n    const successVisible = ref(false); // 成功提示对话框的显示状态\n    const failureVisible = ref(false); // 失败提示对话框的显示状态\n    const isRepairCompleted = ref(false); // 新增状态变量用于禁用确认按钮\n\n    const stripe = ref(true);\n    const bordered = ref(true);\n    const hover = ref(false);\n    const tableLayout = ref(false);\n    const size = ref('medium');\n    const showHeader = ref(true);\n    const columns = ref([{\n      colKey: 'aid',\n      title: '维修单号',\n      width: '100'\n    }, {\n      colKey: 'apply_time',\n      title: '申请时间',\n      width: '150'\n    }, {\n      colKey: 'oid',\n      title: '关联订单号',\n      width: '100'\n    },\n    // 新增列\n    {\n      colKey: 'cname',\n      title: '顾客名',\n      width: '80'\n    }, {\n      colKey: 'status',\n      title: '订单状态',\n      width: '100'\n    }, {\n      colKey: 'sales_detail',\n      title: '售后详细',\n      width: '150'\n    }, {\n      colKey: 'way',\n      title: '售后方式',\n      width: '100'\n    }, {\n      colKey: 'service_time',\n      title: '服务时间',\n      width: '150'\n    }, {\n      colKey: 'ename',\n      title: '职工名',\n      width: '100'\n    }, {\n      colKey: 'profit',\n      title: '利润',\n      width: '100'\n    },\n    // 修改列标题为利润\n    {\n      colKey: 'edit',\n      title: '编辑信息',\n      width: '100',\n      cell: (h, {\n        row\n      }) => {\n        return _createVNode(_resolveComponent(\"t-button\"), {\n          \"theme\": \"primary\",\n          \"onClick\": () => showEditDialog(row)\n        }, {\n          default: () => [_createTextVNode(\"\\u7F16\\u8F91\")]\n        });\n      }\n    }, {\n      colKey: 'confirm',\n      title: '确认',\n      width: '100',\n      cell: (h, {\n        row\n      }) => {\n        return _createVNode(_resolveComponent(\"t-button\"), {\n          \"theme\": \"primary\",\n          \"disabled\": row.status !== '待维修',\n          \"onClick\": () => confirmRepair(row.aid)\n        }, {\n          default: () => [_createTextVNode(\"\\u786E\\u8BA4\")]\n        });\n      }\n    }]);\n    const orderColumns = ref([{\n      colKey: 'pid',\n      title: '产品号',\n      width: '100'\n    },\n    // 添加产品号列\n    {\n      colKey: 'product_name',\n      title: '商品名',\n      width: '150'\n    }, {\n      colKey: 'unit_price',\n      title: '单价',\n      width: '100'\n    }, {\n      colKey: 'count',\n      title: '数量',\n      width: '100'\n    }, {\n      colKey: 'number',\n      title: '商品库存',\n      width: '100'\n    }, {\n      colKey: 'cost',\n      title: '进价',\n      width: '100'\n    }, {\n      colKey: 'warranty',\n      title: '是否在保修期内',\n      width: '150',\n      cell: (h, {\n        row\n      }) => {\n        return row.warranty; // Display the warranty status\n      }\n    }, {\n      colKey: 'exchange_count',\n      title: '更换数量',\n      width: '100',\n      cell: (h, {\n        row\n      }) => {\n        // 添加更换数量列\n        return _createVNode(_resolveComponent(\"t-input\"), {\n          \"modelValue\": row.exchange_count,\n          \"onUpdate:modelValue\": $event => row.exchange_count = $event\n        }, null);\n      }\n    }]);\n    const handleRowClick = e => {\n      console.log(e);\n    };\n    const pagination = {\n      defaultCurrent: 1,\n      defaultPageSize: 5,\n      total: total.value\n    };\n    const fetchData = async (aid = '') => {\n      try {\n        console.log('开始请求数据开始啦...');\n        const response = await axios.get(aid ? `/api/repairs/search` : `/api/repairs`, {\n          params: {\n            aid\n          }\n        });\n        console.log('请求数据成功:', response.data);\n        console.log(\"查询id:\", aid);\n        data.value = response.data;\n        total.value = response.data.length;\n        pagination.total = total.value;\n      } catch (error) {\n        console.error('请求数据失败:', error);\n      }\n    };\n    const fetchEmployeeData = async () => {\n      try {\n        const response = await axios.get('/api/employee');\n        const employees = response.data;\n        employeeOptions.value = employees;\n        employeeNumberOptions.value = employees.map(emp => ({\n          label: emp.eid,\n          value: emp.eid\n        }));\n        employeeNameOptions.value = employees.map(emp => ({\n          label: emp.ename,\n          value: emp.ename\n        }));\n      } catch (error) {\n        console.error('获取员工数据失败:', error);\n      }\n    };\n    const handleQuery = () => {\n      fetchData(formData.aid);\n    };\n    const showEditDialog = async row => {\n      try {\n        const response = await axios.get(`/api/orders/content`, {\n          params: {\n            oid: row.oid\n          }\n        });\n        const applyTime = dayjs(row.apply_time);\n        console.log('申请时间:', applyTime.format('YYYY-MM-DD HH:mm:ss'));\n        orderDetail.value.items = response.data.map(item => {\n          console.log('下单时间:', item.order_time);\n          const orderTime = dayjs(item.order_time);\n          const warrantyPeriodYears = item.warranty_period;\n          console.log('订单保修期:', warrantyPeriodYears);\n          const warrantyEndDate = orderTime.add(warrantyPeriodYears, 'year');\n          console.log('保修期结束时间:', warrantyEndDate.format('YYYY-MM-DD HH:mm:ss'));\n          const isUnderWarranty = warrantyEndDate.isAfter(applyTime) ? '是' : '否';\n          // 保留上次更改的值\n          const existingItem = orderDetail.value.items.find(i => i.pid === item.pid);\n          const exchange_count = existingItem ? existingItem.exchange_count : 0;\n          return {\n            ...item,\n            warranty: isUnderWarranty,\n            pid: item.pid,\n            exchange_count\n          };\n        });\n        console.log('订单详情:', orderDetail.value.items);\n      } catch (error) {\n        console.error('获取订单详细信息失败:', error);\n      }\n      await fetchEmployeeData();\n      editFormData.aid = row.aid;\n      editFormData.sales_detail = row.sales_detail;\n      editFormData.way = row.way;\n      editFormData.service_time = row.service_time;\n      editFormData.eid = row.eid;\n      editFormData.ename = row.ename;\n      editFormData.cost = row.cost;\n      editFormData.service_fee = row.service_fee;\n      editFormData.profit = row.profit;\n      isRepairCompleted.value = row.status === '已维修'; // 根据订单状态设置确认按钮是否禁用\n      visible.value = true;\n    };\n    const confirmRepair = async aid => {\n      console.log('维修单已确认:', aid);\n\n      // 获取当前维修单的信息\n      const repairOrder = data.value.find(item => item.aid === aid);\n      console.log('维修单信息:', repairOrder);\n\n      // 获取并转换 service_time 格式\n      repairOrder.service_time = dayjs(repairOrder.service_time).format('YYYY-MM-DDTHH:mm:ss');\n\n      // 更新维修单状态为\"已维修\"\n      repairOrder.status = '已维修';\n\n      // 获取编辑表单里的商品pid和更换数量\n      const productUpdates = orderDetail.value.items.map(item => ({\n        pid: item.pid,\n        exchangeCount: parseInt(item.exchange_count, 10)\n      }));\n      try {\n        // 发送维修单信息到后端\n        console.log('维修单信息', repairOrder);\n        await axios.post('/api/repairs/update', repairOrder);\n\n        // 发送产品pid和更换数量到后端\n        console.log('啦啦啦维修单商品信息', productUpdates);\n        await axios.post('/api/product/update', productUpdates);\n        console.log('数据已成功发送到后端');\n        successVisible.value = true; // 显示成功提示对话框\n      } catch (error) {\n        console.error('发送数据到后端失败:', error);\n        failureVisible.value = true; // 显示失败提示对话框\n      }\n    };\n    const onConfirm = () => {\n      // 检查更换数量是否小于商品库存\n      const isValid = orderDetail.value.items.every(item => item.exchange_count <= item.number);\n      if (!isValid) {\n        failureVisible.value = true; // 显示失败提示对话框\n        return;\n      }\n      console.log('编辑后的数据:', editFormData);\n      visible.value = false;\n      const index = data.value.findIndex(item => item.aid === editFormData.aid);\n      if (index !== -1) {\n        data.value[index] = {\n          ...data.value[index],\n          ...editFormData\n        }; // 更新列表中的数据\n      }\n      successVisible.value = true; // 显示成功提示对话框\n    };\n    const onSuccessClose = () => {\n      successVisible.value = false;\n    };\n    const onFailureClose = () => {\n      failureVisible.value = false;\n    };\n    const employeeOptions = ref([]);\n    const employeeNumberOptions = ref([]);\n    const employeeNameOptions = ref([]);\n    const onEmployeeNumberChange = value => {\n      const selectedEmployee = employeeOptions.value.find(emp => emp.eid === value);\n      if (selectedEmployee) {\n        editFormData.ename = selectedEmployee.ename;\n      }\n    };\n    const onEmployeeNameChange = value => {\n      const selectedEmployee = employeeOptions.value.find(emp => emp.ename === value);\n      if (selectedEmployee) {\n        editFormData.eid = selectedEmployee.eid;\n      }\n    };\n    const close = context => {\n      console.log('关闭弹窗，点击关闭按钮、按下ESC、点击蒙层等触发', context);\n    };\n    const onCancel = context => {\n      console.log('点击了取消按钮', context);\n    };\n    const onEscKeydown = context => {\n      console.log('按下了ESC', context);\n    };\n    const onCloseBtnClick = context => {\n      console.log('点击了关闭按钮', context);\n    };\n    const onOverlayClick = context => {\n      console.log('点击了蒙层', context);\n    };\n\n    // 新增计算利润函数\n    const calculateProfit = () => {\n      editFormData.profit = (parseFloat(editFormData.service_fee) || 0) - (parseFloat(editFormData.cost) || 0);\n    };\n    onMounted(() => {\n      fetchData();\n    });\n    const __returned__ = {\n      formData,\n      data,\n      total,\n      editFormData,\n      orderDetail,\n      visible,\n      successVisible,\n      failureVisible,\n      isRepairCompleted,\n      stripe,\n      bordered,\n      hover,\n      tableLayout,\n      size,\n      showHeader,\n      columns,\n      orderColumns,\n      handleRowClick,\n      pagination,\n      fetchData,\n      fetchEmployeeData,\n      handleQuery,\n      showEditDialog,\n      confirmRepair,\n      onConfirm,\n      onSuccessClose,\n      onFailureClose,\n      employeeOptions,\n      employeeNumberOptions,\n      employeeNameOptions,\n      onEmployeeNumberChange,\n      onEmployeeNameChange,\n      close,\n      onCancel,\n      onEscKeydown,\n      onCloseBtnClick,\n      onOverlayClick,\n      calculateProfit,\n      reactive,\n      ref,\n      onMounted,\n      get axios() {\n        return axios;\n      },\n      get dayjs() {\n        return dayjs;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","onMounted","createTextVNode","_createTextVNode","resolveComponent","_resolveComponent","createVNode","_createVNode","axios","dayjs","formData","labelAlign","aid","data","total","editFormData","sales_detail","way","service_time","eid","ename","cost","service_fee","profit","orderDetail","items","total_price","visible","successVisible","failureVisible","isRepairCompleted","stripe","bordered","hover","tableLayout","size","showHeader","columns","colKey","title","width","cell","h","row","onClick","showEditDialog","default","status","confirmRepair","orderColumns","warranty","exchange_count","$event","handleRowClick","e","console","log","pagination","defaultCurrent","defaultPageSize","value","fetchData","response","get","params","length","error","fetchEmployeeData","employees","employeeOptions","employeeNumberOptions","map","emp","label","employeeNameOptions","handleQuery","oid","applyTime","apply_time","format","item","order_time","orderTime","warrantyPeriodYears","warranty_period","warrantyEndDate","add","isUnderWarranty","isAfter","existingItem","find","i","pid","repairOrder","productUpdates","exchangeCount","parseInt","post","onConfirm","isValid","every","number","index","findIndex","onSuccessClose","onFailureClose","onEmployeeNumberChange","selectedEmployee","onEmployeeNameChange","close","context","onCancel","onEscKeydown","onCloseBtnClick","onOverlayClick","calculateProfit","parseFloat"],"sources":["E:/三年级上册/ComputerSale/computersale/src/views/MaintainComponent.vue"],"sourcesContent":["<template>\r\n  <!-- 搜索框代码 -->\r\n  <t-space direction=\"vertical\" size=\"large\">\r\n    <t-form :data=\"formData\" :label-align=\"formData.labelAlign\" :label-width=\"60\">\r\n      <t-form-item label=\"维修单号\" name=\"aid\" style=\"display: flex; align-items: center;\">\r\n        <t-input v-model=\"formData.aid\" style=\"flex-grow: 1; margin-right: 20px;\"></t-input>\r\n        <t-button theme=\"primary\" type=\"submit\" @click=\"handleQuery\">查询</t-button>\r\n      </t-form-item>\r\n    </t-form>\r\n  </t-space>\r\n\r\n  <!-- 维修单列表代码 -->\r\n  <t-space direction=\"vertical\">\r\n    <!-- 按钮操作区域 -->\r\n    <t-radio-group v-model=\"size\" variant=\"default-filled\">\r\n      <t-radio-button value=\"medium\">维修单列表</t-radio-button>\r\n    </t-radio-group>\r\n\r\n    <!-- 当数据为空需要占位时，会显示 cellEmptyContent -->\r\n    <t-table\r\n      row-key=\"index\"\r\n      :data=\"data\"\r\n      :columns=\"columns\"\r\n      :stripe=\"stripe\"\r\n      :bordered=\"bordered\"\r\n      :hover=\"hover\"\r\n      :table-layout=\"tableLayout ? 'auto' : 'fixed'\"\r\n      :size=\"size\"\r\n      :pagination=\"pagination\"\r\n      :show-header=\"showHeader\"\r\n      cell-empty-content=\"-\"\r\n      resizable\r\n      lazy-load\r\n      @row-click=\"handleRowClick\"\r\n    >\r\n    </t-table>\r\n  </t-space>\r\n\r\n  <!-- 维修单编辑对话框 -->\r\n  <t-dialog\r\n    v-model:visible=\"visible\"\r\n    header=\"编辑维修单\"\r\n    width=\"60%\"\r\n    :confirm-on-enter=\"true\"\r\n    :on-cancel=\"onCancel\"\r\n    :on-esc-keydown=\"onEscKeydown\"\r\n    :on-close-btn-click=\"onCloseBtnClick\"\r\n    :on-overlay-click=\"onOverlayClick\"\r\n    :on-close=\"close\"\r\n    :on-confirm=\"onConfirm\"\r\n    :confirm-button-props=\"{ disabled: isRepairCompleted }\" \r\n  >\r\n    <t-space direction=\"vertical\" style=\"width: 100%; overflow: auto; max-height: 400px;\">\r\n      <t-table\r\n        row-key=\"index\"\r\n        :data=\"orderDetail.items\"\r\n        :columns=\"orderColumns\"\r\n        :stripe=\"true\"\r\n        :bordered=\"true\"\r\n        :hover=\"true\"\r\n        :table-layout=\"'auto'\"\r\n        :size=\"'medium'\"\r\n        :show-header=\"true\"\r\n        cell-empty-content=\"-\"\r\n        resizable\r\n      >\r\n      </t-table>\r\n      <div style=\"text-align: right; margin-top: 10px;\">\r\n        <!-- <strong>订单总价: {{ orderDetail.total_price.toFixed(2) }}</strong> -->\r\n      </div>\r\n    </t-space>\r\n\r\n    <t-form :data=\"editFormData\" :label-align=\"'right'\" :label-width=\"80\">\r\n      <t-form-item label=\"售后详细\" name=\"sales_detail\">\r\n        <t-input v-model=\"editFormData.sales_detail\"></t-input>\r\n      </t-form-item>\r\n      <t-form-item label=\"售后方式\" name=\"way\">\r\n        <t-input v-model=\"editFormData.way\"></t-input>\r\n      </t-form-item>\r\n      <t-form-item label=\"服务时间\" name=\"service_time\">\r\n        <t-date-picker v-model=\"editFormData.service_time\" format=\"YYYY-MM-DD HH:mm:ss\"></t-date-picker>\r\n      </t-form-item>\r\n      <t-form-item label=\"职工号\" name=\"eid\">\r\n        <t-select v-model=\"editFormData.eid\" placeholder=\"请选择职工号\" :options=\"employeeNumberOptions\" @change=\"onEmployeeNumberChange\"></t-select>\r\n      </t-form-item>\r\n      <t-form-item label=\"职工名\" name=\"ename\">\r\n        <t-select v-model=\"editFormData.ename\" placeholder=\"请选择职工名\" :options=\"employeeNameOptions\" @change=\"onEmployeeNameChange\"></t-select>\r\n      </t-form-item>\r\n      <div style=\"margin-top: 10px; color: red;\">上门维修需加20元服务费</div>\r\n      <t-form-item label=\"成本费\" name=\"cost\">\r\n        <t-input v-model=\"editFormData.cost\" @input=\"calculateProfit\"></t-input>\r\n      </t-form-item>\r\n      <t-form-item label=\"服务费\" name=\"service_fee\">\r\n        <t-input v-model=\"editFormData.service_fee\" @input=\"calculateProfit\"></t-input>\r\n      </t-form-item>\r\n      <t-form-item label=\"利润\" name=\"profit\">\r\n        <t-input v-model=\"editFormData.profit\" disabled></t-input>\r\n      </t-form-item>\r\n    </t-form>\r\n  </t-dialog>\r\n\r\n  <!-- 成功提示对话框 -->\r\n  <t-dialog v-model:visible=\"successVisible\" header=\"提示\" @close=\"onSuccessClose\">\r\n    确认成功！\r\n  </t-dialog>\r\n\r\n  <!-- 失败提示对话框 -->\r\n  <t-dialog v-model:visible=\"failureVisible\" header=\"提示\" @close=\"onFailureClose\">\r\n    确认失败！\r\n  </t-dialog>\r\n</template>\r\n\r\n<script setup lang=\"jsx\">\r\nimport { reactive, ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\n\r\nconst formData = reactive({\r\n  labelAlign: 'right',\r\n  aid: '',\r\n});\r\n\r\nconst data = ref([]);\r\nconst total = ref(0);\r\nconst editFormData = reactive({ sales_detail: '', way: '', service_time: '', eid: '', ename: '', cost: '', service_fee: '', profit: '' });\r\nconst orderDetail = ref({ items: [], total_price: 0 });\r\nconst visible = ref(false);\r\nconst successVisible = ref(false); // 成功提示对话框的显示状态\r\nconst failureVisible = ref(false); // 失败提示对话框的显示状态\r\nconst isRepairCompleted = ref(false); // 新增状态变量用于禁用确认按钮\r\n\r\nconst stripe = ref(true);\r\nconst bordered = ref(true);\r\nconst hover = ref(false);\r\nconst tableLayout = ref(false);\r\nconst size = ref('medium');\r\nconst showHeader = ref(true);\r\n\r\nconst columns = ref([\r\n  { colKey: 'aid', title: '维修单号', width: '100' },\r\n  { colKey: 'apply_time', title: '申请时间', width: '150' },\r\n  { colKey: 'oid', title: '关联订单号', width: '100' }, // 新增列\r\n  { colKey: 'cname', title: '顾客名', width: '80' },\r\n  { colKey: 'status', title: '订单状态', width: '100' },\r\n  { colKey: 'sales_detail', title: '售后详细', width: '150' },\r\n  { colKey: 'way', title: '售后方式', width: '100' },\r\n  { colKey: 'service_time', title: '服务时间', width: '150' },\r\n  { colKey: 'ename', title: '职工名', width: '100' },\r\n  { colKey: 'profit', title: '利润', width: '100' }, // 修改列标题为利润\r\n  { colKey: 'edit', title: '编辑信息', width: '100', cell: (h, { row }) => {\r\n    return <t-button theme=\"primary\" onClick={() => showEditDialog(row)}>编辑</t-button>;\r\n  }},\r\n  { colKey: 'confirm', title: '确认', width: '100', cell: (h, { row }) => {\r\n    return (\r\n      <t-button\r\n        theme=\"primary\"\r\n        disabled={row.status !== '待维修'}\r\n        onClick={() => confirmRepair(row.aid)}\r\n      >\r\n        确认\r\n      </t-button>\r\n    );\r\n  }},\r\n]);\r\n\r\nconst orderColumns = ref([\r\n  { colKey: 'pid', title: '产品号', width: '100' }, // 添加产品号列\r\n  { colKey: 'product_name', title: '商品名', width: '150' },\r\n  { colKey: 'unit_price', title: '单价', width: '100' },\r\n  { colKey: 'count', title: '数量', width: '100' },\r\n  { colKey: 'number', title: '商品库存', width: '100' },\r\n  { colKey: 'cost', title: '进价', width: '100' },\r\n  { colKey: 'warranty', title: '是否在保修期内', width: '150', cell: (h, { row }) => {\r\n    return row.warranty; // Display the warranty status\r\n  }},\r\n  { colKey: 'exchange_count', title: '更换数量', width: '100', cell: (h, { row }) => { // 添加更换数量列\r\n    return <t-input v-model={row.exchange_count} />;\r\n  }},\r\n]);\r\n\r\nconst handleRowClick = (e) => {\r\n  console.log(e);\r\n};\r\n\r\nconst pagination = {\r\n  defaultCurrent: 1,\r\n  defaultPageSize: 5,\r\n  total: total.value,\r\n};\r\n\r\nconst fetchData = async (aid = '') => {\r\n  try {\r\n    console.log('开始请求数据开始啦...');\r\n    const response = await axios.get(aid ? `/api/repairs/search` : `/api/repairs`, {\r\n      params: { aid }\r\n    });\r\n    console.log('请求数据成功:', response.data);\r\n    console.log(\"查询id:\", aid);\r\n    data.value = response.data;\r\n    total.value = response.data.length;\r\n    pagination.total = total.value;\r\n  } catch (error) {\r\n    console.error('请求数据失败:', error);\r\n  }\r\n};\r\n\r\nconst fetchEmployeeData = async () => {\r\n  try {\r\n    const response = await axios.get('/api/employee');\r\n    const employees = response.data;\r\n    employeeOptions.value = employees;\r\n    employeeNumberOptions.value = employees.map(emp => ({ label: emp.eid, value: emp.eid }));\r\n    employeeNameOptions.value = employees.map(emp => ({ label: emp.ename, value: emp.ename }));\r\n  } catch (error) {\r\n    console.error('获取员工数据失败:', error);\r\n  }\r\n};\r\n\r\nconst handleQuery = () => {\r\n  fetchData(formData.aid);\r\n};\r\n\r\nconst showEditDialog = async (row) => {\r\n  try {\r\n    const response = await axios.get(`/api/orders/content`, { params: { oid: row.oid } });\r\n    const applyTime = dayjs(row.apply_time);\r\n    console.log('申请时间:', applyTime.format('YYYY-MM-DD HH:mm:ss'));\r\n\r\n    orderDetail.value.items = response.data.map(item => {\r\n      console.log('下单时间:', item.order_time);\r\n      const orderTime = dayjs(item.order_time);\r\n      const warrantyPeriodYears = item.warranty_period;\r\n      console.log('订单保修期:', warrantyPeriodYears);\r\n      const warrantyEndDate = orderTime.add(warrantyPeriodYears, 'year');\r\n      console.log('保修期结束时间:', warrantyEndDate.format('YYYY-MM-DD HH:mm:ss'));\r\n\r\n      const isUnderWarranty = warrantyEndDate.isAfter(applyTime) ? '是' : '否';\r\n      // 保留上次更改的值\r\n      const existingItem = orderDetail.value.items.find(i => i.pid === item.pid);\r\n      const exchange_count = existingItem ? existingItem.exchange_count : 0;\r\n\r\n      return { ...item, warranty: isUnderWarranty, pid: item.pid, exchange_count };\r\n    });\r\n\r\n    console.log('订单详情:', orderDetail.value.items);\r\n  } catch (error) {\r\n    console.error('获取订单详细信息失败:', error);\r\n  }\r\n\r\n  await fetchEmployeeData();\r\n\r\n  editFormData.aid = row.aid;\r\n  editFormData.sales_detail = row.sales_detail;\r\n  editFormData.way = row.way;\r\n  editFormData.service_time = row.service_time;\r\n  editFormData.eid = row.eid;\r\n  editFormData.ename = row.ename;\r\n  editFormData.cost = row.cost;\r\n  editFormData.service_fee = row.service_fee;\r\n  editFormData.profit = row.profit;\r\n  isRepairCompleted.value = (row.status === '已维修'); // 根据订单状态设置确认按钮是否禁用\r\n  visible.value = true;\r\n};\r\n\r\nconst confirmRepair = async (aid) => {\r\n  console.log('维修单已确认:', aid);\r\n\r\n  // 获取当前维修单的信息\r\n  const repairOrder = data.value.find(item => item.aid === aid);\r\n  console.log('维修单信息:', repairOrder);\r\n\r\n  // 获取并转换 service_time 格式\r\n  repairOrder.service_time = dayjs(repairOrder.service_time).format('YYYY-MM-DDTHH:mm:ss');\r\n\r\n  // 更新维修单状态为\"已维修\"\r\n  repairOrder.status = '已维修';\r\n\r\n  // 获取编辑表单里的商品pid和更换数量\r\n  const productUpdates = orderDetail.value.items.map(item => ({\r\n    pid: item.pid,\r\n    exchangeCount: parseInt(item.exchange_count, 10),\r\n  }));\r\n\r\n  try {\r\n    // 发送维修单信息到后端\r\n    console.log('维修单信息', repairOrder);\r\n    await axios.post('/api/repairs/update', repairOrder);\r\n\r\n    // 发送产品pid和更换数量到后端\r\n    console.log('啦啦啦维修单商品信息', productUpdates);\r\n    await axios.post('/api/product/update', productUpdates);\r\n\r\n    console.log('数据已成功发送到后端');\r\n    successVisible.value = true; // 显示成功提示对话框\r\n  } catch (error) {\r\n    console.error('发送数据到后端失败:', error);\r\n    failureVisible.value = true; // 显示失败提示对话框\r\n  }\r\n};\r\n\r\nconst onConfirm = () => {\r\n  // 检查更换数量是否小于商品库存\r\n  const isValid = orderDetail.value.items.every(item => item.exchange_count <= item.number);\r\n  if (!isValid) {\r\n    failureVisible.value = true; // 显示失败提示对话框\r\n    return;\r\n  }\r\n  \r\n  console.log('编辑后的数据:', editFormData);\r\n  visible.value = false;\r\n  const index = data.value.findIndex(item => item.aid === editFormData.aid);\r\n  if (index !== -1) {\r\n    data.value[index] = { ...data.value[index], ...editFormData }; // 更新列表中的数据\r\n  }\r\n  successVisible.value = true; // 显示成功提示对话框\r\n};\r\n\r\nconst onSuccessClose = () => {\r\n  successVisible.value = false;\r\n};\r\n\r\nconst onFailureClose = () => {\r\n  failureVisible.value = false;\r\n};\r\n\r\nconst employeeOptions = ref([]);\r\nconst employeeNumberOptions = ref([]);\r\nconst employeeNameOptions = ref([]);\r\n\r\nconst onEmployeeNumberChange = (value) => {\r\n  const selectedEmployee = employeeOptions.value.find(emp => emp.eid === value);\r\n  if (selectedEmployee) {\r\n    editFormData.ename = selectedEmployee.ename;\r\n  }\r\n};\r\n\r\nconst onEmployeeNameChange = (value) => {\r\n  const selectedEmployee = employeeOptions.value.find(emp => emp.ename === value);\r\n  if (selectedEmployee) {\r\n    editFormData.eid = selectedEmployee.eid;\r\n  }\r\n};\r\n\r\nconst close = (context) => {\r\n  console.log('关闭弹窗，点击关闭按钮、按下ESC、点击蒙层等触发', context);\r\n};\r\n\r\nconst onCancel = (context) => {\r\n  console.log('点击了取消按钮', context);\r\n};\r\n\r\nconst onEscKeydown = (context) => {\r\n  console.log('按下了ESC', context);\r\n};\r\n\r\nconst onCloseBtnClick = (context) => {\r\n  console.log('点击了关闭按钮', context);\r\n};\r\n\r\nconst onOverlayClick = (context) => {\r\n  console.log('点击了蒙层', context);\r\n};\r\n\r\n// 新增计算利润函数\r\nconst calculateProfit = () => {\r\n  editFormData.profit = (parseFloat(editFormData.service_fee) || 0) - (parseFloat(editFormData.cost) || 0);\r\n};\r\n\r\nonMounted(() => {\r\n  fetchData();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* 样式范围限定在当前组件 */\r\n</style>"],"mappings":";;;;AAiHA,SAASA,QAAQ,EAAEC,GAAG,EAAEC,SAAS,EAAAC,eAAA,IAAAC,gBAAA,EAAAC,gBAAA,IAAAC,iBAAA,EAAAC,WAAA,IAAAC,YAAA,QAAQ,KAAK;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,QAAQ,GAAGX,QAAQ,CAAC;MACxBY,UAAU,EAAE,OAAO;MACnBC,GAAG,EAAE;IACP,CAAC,CAAC;IAEF,MAAMC,IAAI,GAAGb,GAAG,CAAC,EAAE,CAAC;IACpB,MAAMc,KAAK,GAAGd,GAAG,CAAC,CAAC,CAAC;IACpB,MAAMe,YAAY,GAAGhB,QAAQ,CAAC;MAAEiB,YAAY,EAAE,EAAE;MAAEC,GAAG,EAAE,EAAE;MAAEC,YAAY,EAAE,EAAE;MAAEC,GAAG,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,IAAI,EAAE,EAAE;MAAEC,WAAW,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAG,CAAC,CAAC;IACzI,MAAMC,WAAW,GAAGxB,GAAG,CAAC;MAAEyB,KAAK,EAAE,EAAE;MAAEC,WAAW,EAAE;IAAE,CAAC,CAAC;IACtD,MAAMC,OAAO,GAAG3B,GAAG,CAAC,KAAK,CAAC;IAC1B,MAAM4B,cAAc,GAAG5B,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;IACnC,MAAM6B,cAAc,GAAG7B,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;IACnC,MAAM8B,iBAAiB,GAAG9B,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;;IAEtC,MAAM+B,MAAM,GAAG/B,GAAG,CAAC,IAAI,CAAC;IACxB,MAAMgC,QAAQ,GAAGhC,GAAG,CAAC,IAAI,CAAC;IAC1B,MAAMiC,KAAK,GAAGjC,GAAG,CAAC,KAAK,CAAC;IACxB,MAAMkC,WAAW,GAAGlC,GAAG,CAAC,KAAK,CAAC;IAC9B,MAAMmC,IAAI,GAAGnC,GAAG,CAAC,QAAQ,CAAC;IAC1B,MAAMoC,UAAU,GAAGpC,GAAG,CAAC,IAAI,CAAC;IAE5B,MAAMqC,OAAO,GAAGrC,GAAG,CAAC,CAClB;MAAEsC,MAAM,EAAE,KAAK;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM,CAAC,EAC9C;MAAEF,MAAM,EAAE,YAAY;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM,CAAC,EACrD;MAAEF,MAAM,EAAE,KAAK;MAAEC,KAAK,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAM,CAAC;IAAE;IACjD;MAAEF,MAAM,EAAE,OAAO;MAAEC,KAAK,EAAE,KAAK;MAAEC,KAAK,EAAE;IAAK,CAAC,EAC9C;MAAEF,MAAM,EAAE,QAAQ;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM,CAAC,EACjD;MAAEF,MAAM,EAAE,cAAc;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM,CAAC,EACvD;MAAEF,MAAM,EAAE,KAAK;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM,CAAC,EAC9C;MAAEF,MAAM,EAAE,cAAc;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM,CAAC,EACvD;MAAEF,MAAM,EAAE,OAAO;MAAEC,KAAK,EAAE,KAAK;MAAEC,KAAK,EAAE;IAAM,CAAC,EAC/C;MAAEF,MAAM,EAAE,QAAQ;MAAEC,KAAK,EAAE,IAAI;MAAEC,KAAK,EAAE;IAAM,CAAC;IAAE;IACjD;MAAEF,MAAM,EAAE,MAAM;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE,KAAK;MAAEC,IAAI,EAAEA,CAACC,CAAC,EAAE;QAAEC;MAAI,CAAC,KAAK;QACnE,OAAApC,YAAA,CAAAF,iBAAA;UAAA;UAAA,WAA0CuC,CAAA,KAAMC,cAAc,CAACF,GAAG;QAAC;UAAAG,OAAA,EAAAA,CAAA,MAAA3C,gBAAA;QAAA;MACrE;IAAC,CAAC,EACF;MAAEmC,MAAM,EAAE,SAAS;MAAEC,KAAK,EAAE,IAAI;MAAEC,KAAK,EAAE,KAAK;MAAEC,IAAI,EAAEA,CAACC,CAAC,EAAE;QAAEC;MAAI,CAAC,KAAK;QACpE,OAAApC,YAAA,CAAAF,iBAAA;UAAA;UAAA,YAGcsC,GAAG,CAACI,MAAM,KAAK,KAAK;UAAA,WACrBH,CAAA,KAAMI,aAAa,CAACL,GAAG,CAAC/B,GAAG;QAAC;UAAAkC,OAAA,EAAAA,CAAA,MAAA3C,gBAAA;QAAA;MAK3C;IAAC,CAAC,CACH,CAAC;IAEF,MAAM8C,YAAY,GAAGjD,GAAG,CAAC,CACvB;MAAEsC,MAAM,EAAE,KAAK;MAAEC,KAAK,EAAE,KAAK;MAAEC,KAAK,EAAE;IAAM,CAAC;IAAE;IAC/C;MAAEF,MAAM,EAAE,cAAc;MAAEC,KAAK,EAAE,KAAK;MAAEC,KAAK,EAAE;IAAM,CAAC,EACtD;MAAEF,MAAM,EAAE,YAAY;MAAEC,KAAK,EAAE,IAAI;MAAEC,KAAK,EAAE;IAAM,CAAC,EACnD;MAAEF,MAAM,EAAE,OAAO;MAAEC,KAAK,EAAE,IAAI;MAAEC,KAAK,EAAE;IAAM,CAAC,EAC9C;MAAEF,MAAM,EAAE,QAAQ;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAM,CAAC,EACjD;MAAEF,MAAM,EAAE,MAAM;MAAEC,KAAK,EAAE,IAAI;MAAEC,KAAK,EAAE;IAAM,CAAC,EAC7C;MAAEF,MAAM,EAAE,UAAU;MAAEC,KAAK,EAAE,SAAS;MAAEC,KAAK,EAAE,KAAK;MAAEC,IAAI,EAAEA,CAACC,CAAC,EAAE;QAAEC;MAAI,CAAC,KAAK;QAC1E,OAAOA,GAAG,CAACO,QAAQ,CAAC,CAAC;MACvB;IAAC,CAAC,EACF;MAAEZ,MAAM,EAAE,gBAAgB;MAAEC,KAAK,EAAE,MAAM;MAAEC,KAAK,EAAE,KAAK;MAAEC,IAAI,EAAEA,CAACC,CAAC,EAAE;QAAEC;MAAI,CAAC,KAAK;QAAE;QAC/E,OAAApC,YAAA,CAAAF,iBAAA;UAAA,cAAyBsC,GAAG,CAACQ,cAAc;UAAA,uBAAAC,MAAA,IAAlBT,GAAG,CAACQ,cAAc,GAAAC;QAAA;MAC7C;IAAC,CAAC,CACH,CAAC;IAEF,MAAMC,cAAc,GAAIC,CAAC,IAAK;MAC5BC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IAChB,CAAC;IAED,MAAMG,UAAU,GAAG;MACjBC,cAAc,EAAE,CAAC;MACjBC,eAAe,EAAE,CAAC;MAClB7C,KAAK,EAAEA,KAAK,CAAC8C;IACf,CAAC;IAED,MAAMC,SAAS,GAAG,MAAAA,CAAOjD,GAAG,GAAG,EAAE,KAAK;MACpC,IAAI;QACF2C,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC3B,MAAMM,QAAQ,GAAG,MAAMtD,KAAK,CAACuD,GAAG,CAACnD,GAAG,GAAG,qBAAqB,GAAG,cAAc,EAAE;UAC7EoD,MAAM,EAAE;YAAEpD;UAAI;QAChB,CAAC,CAAC;QACF2C,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEM,QAAQ,CAACjD,IAAI,CAAC;QACrC0C,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE5C,GAAG,CAAC;QACzBC,IAAI,CAAC+C,KAAK,GAAGE,QAAQ,CAACjD,IAAI;QAC1BC,KAAK,CAAC8C,KAAK,GAAGE,QAAQ,CAACjD,IAAI,CAACoD,MAAM;QAClCR,UAAU,CAAC3C,KAAK,GAAGA,KAAK,CAAC8C,KAAK;MAChC,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdX,OAAO,CAACW,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MACjC;IACF,CAAC;IAED,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI;QACF,MAAML,QAAQ,GAAG,MAAMtD,KAAK,CAACuD,GAAG,CAAC,eAAe,CAAC;QACjD,MAAMK,SAAS,GAAGN,QAAQ,CAACjD,IAAI;QAC/BwD,eAAe,CAACT,KAAK,GAAGQ,SAAS;QACjCE,qBAAqB,CAACV,KAAK,GAAGQ,SAAS,CAACG,GAAG,CAACC,GAAG,KAAK;UAAEC,KAAK,EAAED,GAAG,CAACrD,GAAG;UAAEyC,KAAK,EAAEY,GAAG,CAACrD;QAAI,CAAC,CAAC,CAAC;QACxFuD,mBAAmB,CAACd,KAAK,GAAGQ,SAAS,CAACG,GAAG,CAACC,GAAG,KAAK;UAAEC,KAAK,EAAED,GAAG,CAACpD,KAAK;UAAEwC,KAAK,EAAEY,GAAG,CAACpD;QAAM,CAAC,CAAC,CAAC;MAC5F,CAAC,CAAC,OAAO8C,KAAK,EAAE;QACdX,OAAO,CAACW,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;MACnC;IACF,CAAC;IAED,MAAMS,WAAW,GAAGA,CAAA,KAAM;MACxBd,SAAS,CAACnD,QAAQ,CAACE,GAAG,CAAC;IACzB,CAAC;IAED,MAAMiC,cAAc,GAAG,MAAOF,GAAG,IAAK;MACpC,IAAI;QACF,MAAMmB,QAAQ,GAAG,MAAMtD,KAAK,CAACuD,GAAG,CAAC,qBAAqB,EAAE;UAAEC,MAAM,EAAE;YAAEY,GAAG,EAAEjC,GAAG,CAACiC;UAAI;QAAE,CAAC,CAAC;QACrF,MAAMC,SAAS,GAAGpE,KAAK,CAACkC,GAAG,CAACmC,UAAU,CAAC;QACvCvB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEqB,SAAS,CAACE,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAE7DvD,WAAW,CAACoC,KAAK,CAACnC,KAAK,GAAGqC,QAAQ,CAACjD,IAAI,CAAC0D,GAAG,CAACS,IAAI,IAAI;UAClDzB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEwB,IAAI,CAACC,UAAU,CAAC;UACrC,MAAMC,SAAS,GAAGzE,KAAK,CAACuE,IAAI,CAACC,UAAU,CAAC;UACxC,MAAME,mBAAmB,GAAGH,IAAI,CAACI,eAAe;UAChD7B,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAE2B,mBAAmB,CAAC;UAC1C,MAAME,eAAe,GAAGH,SAAS,CAACI,GAAG,CAACH,mBAAmB,EAAE,MAAM,CAAC;UAClE5B,OAAO,CAACC,GAAG,CAAC,UAAU,EAAE6B,eAAe,CAACN,MAAM,CAAC,qBAAqB,CAAC,CAAC;UAEtE,MAAMQ,eAAe,GAAGF,eAAe,CAACG,OAAO,CAACX,SAAS,CAAC,GAAG,GAAG,GAAG,GAAG;UACtE;UACA,MAAMY,YAAY,GAAGjE,WAAW,CAACoC,KAAK,CAACnC,KAAK,CAACiE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKZ,IAAI,CAACY,GAAG,CAAC;UAC1E,MAAMzC,cAAc,GAAGsC,YAAY,GAAGA,YAAY,CAACtC,cAAc,GAAG,CAAC;UAErE,OAAO;YAAE,GAAG6B,IAAI;YAAE9B,QAAQ,EAAEqC,eAAe;YAAEK,GAAG,EAAEZ,IAAI,CAACY,GAAG;YAAEzC;UAAe,CAAC;QAC9E,CAAC,CAAC;QAEFI,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEhC,WAAW,CAACoC,KAAK,CAACnC,KAAK,CAAC;MAC/C,CAAC,CAAC,OAAOyC,KAAK,EAAE;QACdX,OAAO,CAACW,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;MACrC;MAEA,MAAMC,iBAAiB,CAAC,CAAC;MAEzBpD,YAAY,CAACH,GAAG,GAAG+B,GAAG,CAAC/B,GAAG;MAC1BG,YAAY,CAACC,YAAY,GAAG2B,GAAG,CAAC3B,YAAY;MAC5CD,YAAY,CAACE,GAAG,GAAG0B,GAAG,CAAC1B,GAAG;MAC1BF,YAAY,CAACG,YAAY,GAAGyB,GAAG,CAACzB,YAAY;MAC5CH,YAAY,CAACI,GAAG,GAAGwB,GAAG,CAACxB,GAAG;MAC1BJ,YAAY,CAACK,KAAK,GAAGuB,GAAG,CAACvB,KAAK;MAC9BL,YAAY,CAACM,IAAI,GAAGsB,GAAG,CAACtB,IAAI;MAC5BN,YAAY,CAACO,WAAW,GAAGqB,GAAG,CAACrB,WAAW;MAC1CP,YAAY,CAACQ,MAAM,GAAGoB,GAAG,CAACpB,MAAM;MAChCO,iBAAiB,CAAC8B,KAAK,GAAIjB,GAAG,CAACI,MAAM,KAAK,KAAM,CAAC,CAAC;MAClDpB,OAAO,CAACiC,KAAK,GAAG,IAAI;IACtB,CAAC;IAED,MAAMZ,aAAa,GAAG,MAAOpC,GAAG,IAAK;MACnC2C,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE5C,GAAG,CAAC;;MAE3B;MACA,MAAMiF,WAAW,GAAGhF,IAAI,CAAC+C,KAAK,CAAC8B,IAAI,CAACV,IAAI,IAAIA,IAAI,CAACpE,GAAG,KAAKA,GAAG,CAAC;MAC7D2C,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEqC,WAAW,CAAC;;MAElC;MACAA,WAAW,CAAC3E,YAAY,GAAGT,KAAK,CAACoF,WAAW,CAAC3E,YAAY,CAAC,CAAC6D,MAAM,CAAC,qBAAqB,CAAC;;MAExF;MACAc,WAAW,CAAC9C,MAAM,GAAG,KAAK;;MAE1B;MACA,MAAM+C,cAAc,GAAGtE,WAAW,CAACoC,KAAK,CAACnC,KAAK,CAAC8C,GAAG,CAACS,IAAI,KAAK;QAC1DY,GAAG,EAAEZ,IAAI,CAACY,GAAG;QACbG,aAAa,EAAEC,QAAQ,CAAChB,IAAI,CAAC7B,cAAc,EAAE,EAAE;MACjD,CAAC,CAAC,CAAC;MAEH,IAAI;QACF;QACAI,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEqC,WAAW,CAAC;QACjC,MAAMrF,KAAK,CAACyF,IAAI,CAAC,qBAAqB,EAAEJ,WAAW,CAAC;;QAEpD;QACAtC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEsC,cAAc,CAAC;QACzC,MAAMtF,KAAK,CAACyF,IAAI,CAAC,qBAAqB,EAAEH,cAAc,CAAC;QAEvDvC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;QACzB5B,cAAc,CAACgC,KAAK,GAAG,IAAI,CAAC,CAAC;MAC/B,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdX,OAAO,CAACW,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;QAClCrC,cAAc,CAAC+B,KAAK,GAAG,IAAI,CAAC,CAAC;MAC/B;IACF,CAAC;IAED,MAAMsC,SAAS,GAAGA,CAAA,KAAM;MACtB;MACA,MAAMC,OAAO,GAAG3E,WAAW,CAACoC,KAAK,CAACnC,KAAK,CAAC2E,KAAK,CAACpB,IAAI,IAAIA,IAAI,CAAC7B,cAAc,IAAI6B,IAAI,CAACqB,MAAM,CAAC;MACzF,IAAI,CAACF,OAAO,EAAE;QACZtE,cAAc,CAAC+B,KAAK,GAAG,IAAI,CAAC,CAAC;QAC7B;MACF;MAEAL,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEzC,YAAY,CAAC;MACpCY,OAAO,CAACiC,KAAK,GAAG,KAAK;MACrB,MAAM0C,KAAK,GAAGzF,IAAI,CAAC+C,KAAK,CAAC2C,SAAS,CAACvB,IAAI,IAAIA,IAAI,CAACpE,GAAG,KAAKG,YAAY,CAACH,GAAG,CAAC;MACzE,IAAI0F,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBzF,IAAI,CAAC+C,KAAK,CAAC0C,KAAK,CAAC,GAAG;UAAE,GAAGzF,IAAI,CAAC+C,KAAK,CAAC0C,KAAK,CAAC;UAAE,GAAGvF;QAAa,CAAC,CAAC,CAAC;MACjE;MACAa,cAAc,CAACgC,KAAK,GAAG,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED,MAAM4C,cAAc,GAAGA,CAAA,KAAM;MAC3B5E,cAAc,CAACgC,KAAK,GAAG,KAAK;IAC9B,CAAC;IAED,MAAM6C,cAAc,GAAGA,CAAA,KAAM;MAC3B5E,cAAc,CAAC+B,KAAK,GAAG,KAAK;IAC9B,CAAC;IAED,MAAMS,eAAe,GAAGrE,GAAG,CAAC,EAAE,CAAC;IAC/B,MAAMsE,qBAAqB,GAAGtE,GAAG,CAAC,EAAE,CAAC;IACrC,MAAM0E,mBAAmB,GAAG1E,GAAG,CAAC,EAAE,CAAC;IAEnC,MAAM0G,sBAAsB,GAAI9C,KAAK,IAAK;MACxC,MAAM+C,gBAAgB,GAAGtC,eAAe,CAACT,KAAK,CAAC8B,IAAI,CAAClB,GAAG,IAAIA,GAAG,CAACrD,GAAG,KAAKyC,KAAK,CAAC;MAC7E,IAAI+C,gBAAgB,EAAE;QACpB5F,YAAY,CAACK,KAAK,GAAGuF,gBAAgB,CAACvF,KAAK;MAC7C;IACF,CAAC;IAED,MAAMwF,oBAAoB,GAAIhD,KAAK,IAAK;MACtC,MAAM+C,gBAAgB,GAAGtC,eAAe,CAACT,KAAK,CAAC8B,IAAI,CAAClB,GAAG,IAAIA,GAAG,CAACpD,KAAK,KAAKwC,KAAK,CAAC;MAC/E,IAAI+C,gBAAgB,EAAE;QACpB5F,YAAY,CAACI,GAAG,GAAGwF,gBAAgB,CAACxF,GAAG;MACzC;IACF,CAAC;IAED,MAAM0F,KAAK,GAAIC,OAAO,IAAK;MACzBvD,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEsD,OAAO,CAAC;IACnD,CAAC;IAED,MAAMC,QAAQ,GAAID,OAAO,IAAK;MAC5BvD,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEsD,OAAO,CAAC;IACjC,CAAC;IAED,MAAME,YAAY,GAAIF,OAAO,IAAK;MAChCvD,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEsD,OAAO,CAAC;IAChC,CAAC;IAED,MAAMG,eAAe,GAAIH,OAAO,IAAK;MACnCvD,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEsD,OAAO,CAAC;IACjC,CAAC;IAED,MAAMI,cAAc,GAAIJ,OAAO,IAAK;MAClCvD,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEsD,OAAO,CAAC;IAC/B,CAAC;;IAED;IACA,MAAMK,eAAe,GAAGA,CAAA,KAAM;MAC5BpG,YAAY,CAACQ,MAAM,GAAG,CAAC6F,UAAU,CAACrG,YAAY,CAACO,WAAW,CAAC,IAAI,CAAC,KAAK8F,UAAU,CAACrG,YAAY,CAACM,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1G,CAAC;IAEDpB,SAAS,CAAC,MAAM;MACd4D,SAAS,CAAC,CAAC;IACb,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}