{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _typeof } from '../_chunks/dep-4659d73b.mjs';\nimport { getCurrentInstance, Comment, Fragment } from 'vue';\nimport { i as isArray_1 } from '../_chunks/dep-eae2a67e.mjs';\nimport { getChildren } from '../utils/render-tnode.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nfunction useChildComponentSlots() {\n  var instance = getCurrentInstance();\n  return function (childComponentName, slots) {\n    var _slots, _slots$default;\n    if (!slots) {\n      slots = instance.slots;\n    }\n    var content = ((_slots = slots) === null || _slots === void 0 || (_slots$default = _slots[\"default\"]) === null || _slots$default === void 0 ? void 0 : _slots$default.call(_slots)) || [];\n    return getChildren(content).filter(function (item) {\n      var _item$type$name;\n      return (_item$type$name = item.type.name) === null || _item$type$name === void 0 ? void 0 : _item$type$name.endsWith(childComponentName);\n    });\n  };\n}\nfunction useChildSlots() {\n  var instance = getCurrentInstance();\n  return function () {\n    var _slots$default2;\n    var slots = instance.slots;\n    var content = (slots === null || slots === void 0 || (_slots$default2 = slots[\"default\"]) === null || _slots$default2 === void 0 ? void 0 : _slots$default2.call(slots)) || [];\n    return content.filter(function (item) {\n      if (_typeof(item.type) === \"symbol\" && !item.children) {\n        return false;\n      }\n      return item.type !== Comment;\n    }).map(function (item) {\n      if (item.children && isArray_1(item.children) && item.type === Fragment) return item.children;\n      return item;\n    }).flat();\n  };\n}\nexport { useChildComponentSlots, useChildSlots };","map":{"version":3,"names":["useChildComponentSlots","instance","getCurrentInstance","childComponentName","slots","_slots","_slots$default","content","call","getChildren","filter","item","_item$type$name","type","name","endsWith","useChildSlots","_slots$default2","_typeof","children","Comment","map","isArray_1","Fragment","flat"],"sources":["../../src/hooks/slot.ts"],"sourcesContent":["import {\n  Slots,\n  VNode,\n  Component,\n  getCurrentInstance,\n  Fragment,\n  Comment,\n  RendererNode,\n  VNodeArrayChildren,\n  RendererElement,\n  VNodeChild,\n} from 'vue';\nimport isArray from 'lodash/isArray';\nimport { getChildren } from '../utils/render-tnode';\n\n/**\n * 渲染default slot，获取子组件VNode。处理多种子组件创建场景\n * 使用场景：<t-steps> <t-steps-item /> </t-steps>, <t-steps> <t-steps-item v-for=\"(item, index)\" :key=\"index\" /> </t-steps>\n * @returns {function(childComponentName: string, slots: Slots): VNode[]}\n * @param childComponentName\n * @param slots\n * @example const getChildByName = useChildComponentSlots()\n * @example getChildComponentByName('TStepItem')\n */\nexport function useChildComponentSlots() {\n  const instance = getCurrentInstance();\n  return (childComponentName: string, slots?: Slots): VNode[] => {\n    if (!slots) {\n      slots = instance.slots;\n    }\n    const content = slots?.default?.() || [];\n\n    return getChildren(content).filter((item: VNode) =>\n      (item.type as Component).name?.endsWith(childComponentName),\n    ) as VNode[];\n  };\n}\n\n/**\n * 渲染default slot，获取slot child\n * @param childComponentName\n * @param slots\n * @example const getChildSlots = useChildSlots()\n * @example getChildSlots()\n */\nexport function useChildSlots(): () => (\n  | VNode<\n      RendererNode,\n      RendererElement,\n      {\n        [key: string]: any;\n      }\n    >\n  | VNodeArrayChildren\n  | VNodeChild\n)[] {\n  const instance = getCurrentInstance();\n  return () => {\n    const { slots } = instance;\n    const content = slots?.default?.() || [];\n\n    return content\n      .filter((item) => {\n        if (typeof item.type === 'symbol' && !item.children) {\n          return false;\n        }\n        return item.type !== Comment;\n      })\n      .map((item) => {\n        if (item.children && isArray(item.children) && item.type === Fragment) return item.children;\n        return item;\n      })\n      .flat();\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBO,SAASA,sBAAyBA,CAAA;EACvC,IAAMC,QAAA,GAAWC,kBAAmB;EAC7B,iBAACC,kBAAA,EAA4BC,KAA2B;IAAA,IAAAC,MAAA,EAAAC,cAAA;IAC7D,IAAI,CAACF,KAAO;MACVA,KAAA,GAAQH,QAAS,CAAAG,KAAA;IACnB;IACA,IAAMG,OAAU,KAAAF,MAAA,GAAAD,KAAA,cAAAC,MAAA,gBAAAC,cAAA,GAAAD,MAAA,CAAiB,wBAAAC,cAAA,uBAAjBA,cAAA,CAAAE,IAAA,CAAAH,MAAiB,MAAK,EAAC;IAEhC,OAAAI,WAAA,CAAYF,OAAO,CAAE,CAAAG,MAAA,CAAO,UAACC,IACjC;MAAA,IAAAC,eAAA;MAAA,QAAAA,eAAA,GAAAD,IAAA,CAAKE,IAAmB,CAAAC,IAAA,cAAAF,eAAA,uBAAxBA,eAAA,CAA8BG,QAAA,CAASZ,kBAAkB;IAAA,CAC5D;GACF;AACF;AASO,SAASa,aAUZA,CAAA;EACF,IAAMf,QAAA,GAAWC,kBAAmB;EACpC,OAAO,YAAM;IAAA,IAAAe,eAAA;IACL,IAAEb,KAAA,GAAUH,QAAA,CAAVG,KAAA;IACR,IAAMG,OAAU,IAAAH,KAAA,aAAAA,KAAA,gBAAAa,eAAA,GAAAb,KAAA,WAAiB,cAAAa,eAAA,uBAAjBA,eAAA,CAAAT,IAAA,CAAAJ,KAAiB,MAAK,EAAC;IAEhC,OAAAG,OAAA,CACJG,MAAO,WAACC,IAAS;MAChB,IAAIO,OAAA,CAAOP,IAAK,CAAAE,IAAA,MAAS,QAAY,KAACF,IAAA,CAAKQ,QAAU;QAC5C;MACT;MACA,OAAOR,IAAA,CAAKE,IAAS,KAAAO,OAAA;IACvB,CAAC,EACAC,GAAI,WAACV,IAAS;MACb,IAAIA,IAAA,CAAKQ,QAAY,IAAAG,SAAA,CAAQX,IAAA,CAAKQ,QAAQ,KAAKR,IAAA,CAAKE,IAAS,KAAAU,QAAA,EAAU,OAAOZ,IAAK,CAAAQ,QAAA;MAC5E,OAAAR,IAAA;IACT,CAAC,EACAa,IAAK;GACV;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}