{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-fa52aa21.mjs';\nimport { defineComponent, computed, createVNode, mergeProps } from 'vue';\nimport stickyItemProps from './sticky-item-props.mjs';\nimport props from './props.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport { Popup } from '../popup/index.mjs';\nimport '../hooks/index.mjs';\nimport { useTNodeJSX } from '../hooks/tnode.mjs';\nimport '../_chunks/dep-4659d73b.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-06dcbf4c.mjs';\nimport '../_chunks/dep-eca422c3.mjs';\nimport '../_chunks/dep-bf7257e7.mjs';\nimport '../_chunks/dep-2b09875b.mjs';\nimport '../_chunks/dep-cda4f568.mjs';\nimport '../_chunks/dep-bb899bfd.mjs';\nimport '../_chunks/dep-5922c8f3.mjs';\nimport '../_chunks/dep-92f86d1d.mjs';\nimport '../_chunks/dep-6ab5363f.mjs';\nimport '../_chunks/dep-6dc3d0e1.mjs';\nimport '../_chunks/dep-76958824.mjs';\nimport '../_chunks/dep-e9841b9e.mjs';\nimport '../_chunks/dep-1a4bb2f2.mjs';\nimport '../_chunks/dep-cc8ebcde.mjs';\nimport '../_chunks/dep-29ef8419.mjs';\nimport '../_chunks/dep-f5579c03.mjs';\nimport '../_chunks/dep-49aeee3c.mjs';\nimport '../_chunks/dep-b5bf85f5.mjs';\nimport '../_chunks/dep-3c65fae8.mjs';\nimport '../_chunks/dep-eae2a67e.mjs';\nimport '../_chunks/dep-626c497d.mjs';\nimport '../_chunks/dep-ec0bbd9f.mjs';\nimport '../_chunks/dep-1b78414a.mjs';\nimport '../_chunks/dep-d84f19b3.mjs';\nimport '../_chunks/dep-732f0b7d.mjs';\nimport '../_chunks/dep-03a7fb6c.mjs';\nimport '../_chunks/dep-1b9718a2.mjs';\nimport '../_chunks/dep-e065dc25.mjs';\nimport '../_chunks/dep-400ec705.mjs';\nimport '../_chunks/dep-02f9394e.mjs';\nimport '../_chunks/dep-1725b1c7.mjs';\nimport '../_chunks/dep-532409c5.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-9ed7da3e.mjs';\nimport '../_chunks/dep-7f65fc46.mjs';\nimport '../_chunks/dep-4f2cabb0.mjs';\nimport '../config-provider/type.mjs';\nimport '../popup/popup.mjs';\nimport '../_chunks/dep-5efe53d1.mjs';\nimport '../_chunks/dep-593f2b67.mjs';\nimport '@popperjs/core';\nimport '../_chunks/dep-5993931e.mjs';\nimport '../_chunks/dep-8dfc9324.mjs';\nimport '../_chunks/dep-ab4bb9b8.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../_chunks/dep-bad871d5.mjs';\nimport '../_chunks/dep-5a17bf21.mjs';\nimport '../_chunks/dep-7932c2e8.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../popup/container.mjs';\nimport '../_chunks/dep-4a990ea3.mjs';\nimport '../popup/props.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../popup/type.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-b91a8171.mjs';\nimport '../_chunks/dep-03ad9cda.mjs';\nimport '../_chunks/dep-d8a34055.mjs';\nimport '../_chunks/dep-2f6e28a0.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar _StickyItem = defineComponent({\n  name: \"TStickyItem\",\n  props: _objectSpread(_objectSpread({}, stickyItemProps), {}, {\n    type: props.type,\n    shape: props.shape,\n    placement: props.placement,\n    basePopupProps: Object,\n    baseWidth: props.width,\n    onClick: props.onClick,\n    onHover: props.onHover\n  }),\n  setup: function setup(props) {\n    var COMPONENT_NAME = usePrefixClass(\"sticky-item\");\n    var baseClass = computed(function () {\n      return [\"\".concat(COMPONENT_NAME.value), \"\".concat(COMPONENT_NAME.value, \"--\").concat(props.type), \"\".concat(COMPONENT_NAME.value, \"--\").concat(props.shape)];\n    });\n    var labelClass = computed(function () {\n      return [\"\".concat(COMPONENT_NAME.value, \"__label\")];\n    });\n    var popupPlacement = computed(function () {\n      return props.placement.indexOf(\"right\") !== -1 ? \"left\" : \"right\";\n    });\n    var styles = computed(function () {\n      var styles2 = {};\n      if (props.baseWidth) {\n        var selfWidth = props.type === \"normal\" ? \"56px\" : \"40px\";\n        styles2.margin = \"calc((\".concat(props.baseWidth, \" - \").concat(selfWidth, \")/2)\");\n      }\n      return styles2;\n    });\n    var handleClickItem = function handleClickItem(e) {\n      var item = {};\n      Object.keys(stickyItemProps).forEach(function (i) {\n        return item[i] = props[i];\n      });\n      props.onClick({\n        e: e,\n        item: item\n      });\n    };\n    var handleHoverItem = function handleHoverItem(e) {\n      var item = {};\n      Object.keys(stickyItemProps).forEach(function (i) {\n        return item[i] = props[i];\n      });\n      props.onHover({\n        e: e,\n        item: item\n      });\n    };\n    var renderTNodeJSX = useTNodeJSX();\n    var popupProps = Object.assign({\n      hideEmptyPopup: true\n    }, props.basePopupProps, props.popupProps);\n    return function () {\n      return createVNode(Popup, mergeProps({\n        \"overlayInnerClassName\": \"\".concat(usePrefixClass(\"sticky-tool\").value, \"-popup-content\"),\n        \"trigger\": props.trigger,\n        \"placement\": popupPlacement.value,\n        \"content\": function content() {\n          return renderTNodeJSX(\"popup\");\n        }\n      }, popupProps), {\n        \"default\": function _default() {\n          return [createVNode(\"div\", {\n            \"class\": baseClass.value,\n            \"style\": styles.value,\n            \"onClick\": handleClickItem,\n            \"onMouseenter\": handleHoverItem\n          }, [renderTNodeJSX(\"icon\"), props.type === \"normal\" ? createVNode(\"div\", {\n            \"class\": labelClass.value\n          }, [renderTNodeJSX(\"label\")]) : null])];\n        }\n      });\n    };\n  }\n});\nexport { _StickyItem as default };","map":{"version":3,"names":["_StickyItem","defineComponent","name","props","_objectSpread","stickyItemProps","type","shape","placement","basePopupProps","Object","baseWidth","width","onClick","onHover","setup","COMPONENT_NAME","usePrefixClass","baseClass","computed","concat","value","labelClass","popupPlacement","indexOf","styles","styles2","selfWidth","margin","handleClickItem","e","item","keys","forEach","i","handleHoverItem","renderTNodeJSX","useTNodeJSX","popupProps","assign","hideEmptyPopup","createVNode","Popup","mergeProps","trigger","content","_default"],"sources":["../../src/sticky-tool/sticky-item.tsx"],"sourcesContent":["import { computed, defineComponent, PropType } from 'vue';\nimport baseProps from './sticky-item-props';\nimport TdStickyToolProps from './props';\nimport { usePrefixClass } from '../hooks/useConfig';\nimport type { Styles } from '../common';\nimport Popup from '../popup';\nimport { useTNodeJSX } from '../hooks';\n\nimport type { TdStickyItemProps } from './type';\nimport type { TdPopupProps } from '../popup/type';\n\nexport default defineComponent({\n  name: 'TStickyItem',\n  props: {\n    ...baseProps,\n    type: TdStickyToolProps.type,\n    shape: TdStickyToolProps.shape,\n    placement: TdStickyToolProps.placement,\n    basePopupProps: Object as PropType<TdPopupProps>,\n    baseWidth: TdStickyToolProps.width,\n    onClick: TdStickyToolProps.onClick,\n    onHover: TdStickyToolProps.onHover,\n  },\n  setup(props) {\n    const COMPONENT_NAME = usePrefixClass('sticky-item');\n    const baseClass = computed(() => {\n      return [\n        `${COMPONENT_NAME.value}`,\n        `${COMPONENT_NAME.value}--${props.type}`,\n        `${COMPONENT_NAME.value}--${props.shape}`,\n      ];\n    });\n    const labelClass = computed(() => {\n      return [`${COMPONENT_NAME.value}__label`];\n    });\n    const popupPlacement = computed(() => {\n      return props.placement.indexOf('right') !== -1 ? 'left' : 'right';\n    });\n    const styles = computed(() => {\n      const styles: Styles = {};\n      if (props.baseWidth) {\n        const selfWidth = props.type === 'normal' ? '56px' : '40px';\n        styles.margin = `calc((${props.baseWidth} - ${selfWidth})/2)`;\n      }\n      return styles;\n    });\n    const handleClickItem = (e: MouseEvent) => {\n      const item: TdStickyItemProps = {};\n      Object.keys(baseProps).forEach((i) => (item[i] = props[i]));\n      props.onClick({ e, item });\n    };\n    const handleHoverItem = (e: MouseEvent) => {\n      const item: TdStickyItemProps = {};\n      Object.keys(baseProps).forEach((i) => (item[i] = props[i]));\n      props.onHover({ e, item });\n    };\n    const renderTNodeJSX = useTNodeJSX();\n    const popupProps = Object.assign({ hideEmptyPopup: true }, props.basePopupProps, props.popupProps);\n    return () => (\n      <Popup\n        overlayInnerClassName={`${usePrefixClass('sticky-tool').value}-popup-content`}\n        trigger={props.trigger}\n        placement={popupPlacement.value}\n        content={() => renderTNodeJSX('popup')}\n        {...popupProps}\n      >\n        <div class={baseClass.value} style={styles.value} onClick={handleClickItem} onMouseenter={handleHoverItem}>\n          {renderTNodeJSX('icon')}\n          {props.type === 'normal' ? <div class={labelClass.value}>{renderTNodeJSX('label')}</div> : null}\n        </div>\n      </Popup>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}