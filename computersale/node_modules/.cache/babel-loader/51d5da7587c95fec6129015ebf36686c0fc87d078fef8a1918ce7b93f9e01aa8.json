{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.every.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\n/**\n * tdesign v1.10.5\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _toConsumableArray } from '../../_chunks/dep-4a990ea3.mjs';\nimport { _ as _defineProperty } from '../../_chunks/dep-fa52aa21.mjs';\nimport { isVNode, defineComponent, toRefs, computed, ref, createVNode, mergeProps } from 'vue';\nimport { BrowseIcon, DeleteIcon, CheckCircleFilledIcon, ErrorCircleFilledIcon, TimeFilledIcon, FileExcelIcon, FilePdfIcon, FileWordIcon, FilePowerpointIcon, FileIcon, VideoIcon } from 'tdesign-icons-vue-next';\nimport { i as isFunction_1 } from '../../_chunks/dep-06dcbf4c.mjs';\nimport { i as isObject_1 } from '../../_chunks/dep-2b09875b.mjs';\nimport { useGlobalIcon } from '../../hooks/useGlobalIcon.mjs';\nimport { ImageViewer } from '../../image-viewer/index.mjs';\nimport { commonProps } from '../constants.mjs';\nimport { Button } from '../../button/index.mjs';\nimport useDrag from '../hooks/useDrag.mjs';\nimport { abridgeName, FILE_PDF_REGEXP, FILE_EXCEL_REGEXP, FILE_WORD_REGEXP, FILE_PPT_REGEXP, VIDEO_REGEXP, IMAGE_REGEXP, returnFileSize } from '../../_common/js/upload/utils.mjs';\nimport { Loading } from '../../loading/index.mjs';\nimport '../../hooks/index.mjs';\nimport { Link } from '../../link/index.mjs';\nimport { Image } from '../../image/index.mjs';\nimport { useTNodeJSX } from '../../hooks/tnode.mjs';\nimport '../../_chunks/dep-593f2b67.mjs';\nimport '../../_chunks/dep-4659d73b.mjs';\nimport '../../_chunks/dep-eca422c3.mjs';\nimport '../../_chunks/dep-bf7257e7.mjs';\nimport '../../_chunks/dep-cda4f568.mjs';\nimport '../../hooks/useConfig.mjs';\nimport '../../config-provider/useConfig.mjs';\nimport '../../_chunks/dep-bb899bfd.mjs';\nimport '../../_chunks/dep-5922c8f3.mjs';\nimport '../../_chunks/dep-92f86d1d.mjs';\nimport '../../_chunks/dep-6ab5363f.mjs';\nimport '../../_chunks/dep-6dc3d0e1.mjs';\nimport '../../_chunks/dep-76958824.mjs';\nimport '../../_chunks/dep-e9841b9e.mjs';\nimport '../../_chunks/dep-1a4bb2f2.mjs';\nimport '../../_chunks/dep-cc8ebcde.mjs';\nimport '../../_chunks/dep-29ef8419.mjs';\nimport '../../_chunks/dep-f5579c03.mjs';\nimport '../../_chunks/dep-49aeee3c.mjs';\nimport '../../_chunks/dep-b5bf85f5.mjs';\nimport '../../_chunks/dep-3c65fae8.mjs';\nimport '../../_chunks/dep-eae2a67e.mjs';\nimport '../../_chunks/dep-626c497d.mjs';\nimport '../../_chunks/dep-ec0bbd9f.mjs';\nimport '../../_chunks/dep-1b78414a.mjs';\nimport '../../_chunks/dep-d84f19b3.mjs';\nimport '../../_chunks/dep-732f0b7d.mjs';\nimport '../../_chunks/dep-03a7fb6c.mjs';\nimport '../../_chunks/dep-1b9718a2.mjs';\nimport '../../_chunks/dep-e065dc25.mjs';\nimport '../../_chunks/dep-400ec705.mjs';\nimport '../../_chunks/dep-02f9394e.mjs';\nimport '../../_chunks/dep-1725b1c7.mjs';\nimport '../../_chunks/dep-532409c5.mjs';\nimport '../../_common/js/global-config/default-config.mjs';\nimport '../../_common/js/global-config/locale/zh_CN.mjs';\nimport '../../_chunks/dep-9ed7da3e.mjs';\nimport '../../_chunks/dep-7f65fc46.mjs';\nimport '../../_chunks/dep-4f2cabb0.mjs';\nimport '../../config-provider/type.mjs';\nimport '../../image-viewer/image-viewer.mjs';\nimport '../../_chunks/dep-5efe53d1.mjs';\nimport '../../hooks/useDefaultValue.mjs';\nimport '../../_chunks/dep-bad871d5.mjs';\nimport '../../_chunks/dep-5a17bf21.mjs';\nimport '../../_chunks/dep-7932c2e8.mjs';\nimport '../../_chunks/dep-ab4bb9b8.mjs';\nimport '../../hooks/usePopupManager.mjs';\nimport '../../_chunks/dep-f909a041.mjs';\nimport '../../hooks/useTeleport.mjs';\nimport '../../utils/dom.mjs';\nimport '../../utils/easing.mjs';\nimport '../../hooks/useVModel.mjs';\nimport '../../image-viewer/base/ImageItem.mjs';\nimport '../../_chunks/dep-0d047dce.mjs';\nimport '../../hooks/useImagePreviewUrl.mjs';\nimport '../../_common/js/log/log.mjs';\nimport '../../image-viewer/hooks.mjs';\nimport '../../_common/js/input-number/number.mjs';\nimport '../../_chunks/dep-58a62202.mjs';\nimport '../../_chunks/dep-889e457b.mjs';\nimport '../../_common/js/input-number/large-number.mjs';\nimport '../../_common/js/log/index.mjs';\nimport '../../_chunks/dep-525a54df.mjs';\nimport '../../_chunks/dep-5993931e.mjs';\nimport '../../_chunks/dep-8dfc9324.mjs';\nimport '../../image-viewer/base/ImageModalIcon.mjs';\nimport '../../_chunks/dep-03ad9cda.mjs';\nimport '../../_chunks/dep-d8a34055.mjs';\nimport '../../_chunks/dep-2f6e28a0.mjs';\nimport '../../utils/render-tnode.mjs';\nimport '../../_chunks/dep-b91a8171.mjs';\nimport '../../image-viewer/base/ImageViewerModal.mjs';\nimport '../../dialog/index.mjs';\nimport '../../dialog/dialog.mjs';\nimport '../../dialog/props.mjs';\nimport '../../dialog/hooks.mjs';\nimport '../../_chunks/dep-88ae49da.mjs';\nimport '../../_chunks/dep-aeaef131.mjs';\nimport '../../_chunks/dep-88c8d9ed.mjs';\nimport '../../_chunks/dep-4ec29b23.mjs';\nimport '../../button/button.mjs';\nimport '../../button/props.mjs';\nimport '../../hooks/useRipple.mjs';\nimport '../../hooks/useKeepAnimation.mjs';\nimport '../../utils/set-style.mjs';\nimport '../../hooks/useDisabled.mjs';\nimport '../../_chunks/dep-df472119.mjs';\nimport '../../_chunks/dep-bff7e93a.mjs';\nimport '../../_chunks/dep-0b414bea.mjs';\nimport '../../_chunks/dep-4d4e2af1.mjs';\nimport '../../_chunks/dep-fbd4eddb.mjs';\nimport '../../_chunks/dep-ae202bc0.mjs';\nimport '../../_chunks/dep-69e0f6fc.mjs';\nimport '../../_chunks/dep-ea20409b.mjs';\nimport '../../loading/plugin.mjs';\nimport '../../loading/loading.mjs';\nimport '../../loading/icon/gradient.mjs';\nimport '../../_common/js/loading/circle-adapter.mjs';\nimport '../../_common/js/utils/set-style.mjs';\nimport '../../_common/js/utils/helper.mjs';\nimport '../../_chunks/dep-5d3f7c0e.mjs';\nimport '../../_chunks/dep-73384992.mjs';\nimport '../../loading/props.mjs';\nimport '../../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../../loading/type.mjs';\nimport '../../button/type.mjs';\nimport '../../hooks/useDestroyOnClose.mjs';\nimport '../../_common/js/utils/getScrollbarWidth.mjs';\nimport '../../dialog/type.mjs';\nimport '../../dialog/plugin.mjs';\nimport '../../image-viewer/props.mjs';\nimport '../../image-viewer/base/ImageViewerUtils.mjs';\nimport '../../tooltip/index.mjs';\nimport '../../tooltip/tooltip.mjs';\nimport '../../tooltip/props.mjs';\nimport '../../popup/props.mjs';\nimport '../../popup/index.mjs';\nimport '../../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../../popup/container.mjs';\nimport '../../hooks/useResizeObserver.mjs';\nimport '../../hooks/icon.mjs';\nimport '../../hooks/slot.mjs';\nimport '../../hooks/useCommonClassName.mjs';\nimport '../../hooks/useVirtualScroll.mjs';\nimport '../../popup/type.mjs';\nimport '../../tooltip/util.mjs';\nimport '../../tooltip/type.mjs';\nimport '../../image-viewer/utils.mjs';\nimport '../../image-viewer/const.mjs';\nimport '../../image/image.mjs';\nimport '../../_common/js/utils/observe.mjs';\nimport '../../image/props.mjs';\nimport '../../space/index.mjs';\nimport '../../space/space.mjs';\nimport '../../space/props.mjs';\nimport '../../space/type.mjs';\nimport '../../image/type.mjs';\nimport '../../image-viewer/type.mjs';\nimport '../../link/link.mjs';\nimport '../../link/props.mjs';\nimport '../../link/type.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar MultipleFlowList = defineComponent({\n  name: \"UploadMultipleFlowList\",\n  props: _objectSpread(_objectSpread({}, commonProps), {}, {\n    showThumbnail: Boolean,\n    uploadFiles: Function,\n    cancelUpload: Function,\n    dragEvents: Object,\n    disabled: Boolean,\n    isBatchUpload: Boolean,\n    draggable: Boolean,\n    showImageFileName: Boolean,\n    uploadButton: Object,\n    cancelUploadButton: Object,\n    onPreview: Function\n  }),\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var _toRefs = toRefs(props),\n      uploading = _toRefs.uploading,\n      disabled = _toRefs.disabled,\n      displayFiles = _toRefs.displayFiles,\n      classPrefix = _toRefs.classPrefix,\n      accept = _toRefs.accept;\n    var uploadPrefix = computed(function () {\n      return \"\".concat(classPrefix.value, \"-upload\");\n    });\n    var locale = computed(function () {\n      return props.locale;\n    });\n    var renderTNodeJSX = useTNodeJSX();\n    var _useGlobalIcon = useGlobalIcon({\n        BrowseIcon: BrowseIcon,\n        DeleteIcon: DeleteIcon,\n        CheckCircleFilledIcon: CheckCircleFilledIcon,\n        ErrorCircleFilledIcon: ErrorCircleFilledIcon,\n        TimeFilledIcon: TimeFilledIcon,\n        FileExcelIcon: FileExcelIcon,\n        FilePdfIcon: FilePdfIcon,\n        FileWordIcon: FileWordIcon,\n        FilePowerpointIcon: FilePowerpointIcon,\n        FileIcon: FileIcon,\n        VideoIcon: VideoIcon\n      }),\n      BrowseIcon$1 = _useGlobalIcon.BrowseIcon,\n      DeleteIcon$1 = _useGlobalIcon.DeleteIcon,\n      CheckCircleFilledIcon$1 = _useGlobalIcon.CheckCircleFilledIcon,\n      ErrorCircleFilledIcon$1 = _useGlobalIcon.ErrorCircleFilledIcon,\n      TimeFilledIcon$1 = _useGlobalIcon.TimeFilledIcon,\n      FileExcelIcon$1 = _useGlobalIcon.FileExcelIcon,\n      FilePdfIcon$1 = _useGlobalIcon.FilePdfIcon,\n      FileWordIcon$1 = _useGlobalIcon.FileWordIcon,\n      FilePowerpointIcon$1 = _useGlobalIcon.FilePowerpointIcon,\n      FileIcon$1 = _useGlobalIcon.FileIcon,\n      VideoIcon$1 = _useGlobalIcon.VideoIcon;\n    var drag = useDrag(props.dragEvents, accept);\n    var currentPreviewFile = ref([]);\n    var previewIndex = ref(0);\n    var uploadText = computed(function () {\n      if (uploading.value) return \"\".concat(locale.value.progress.uploadingText);\n      return locale.value.triggerUploadText.normal;\n    });\n    var innerDragEvents = computed(function () {\n      var draggable = props.draggable === void 0 ? true : props.draggable;\n      return draggable ? {\n        onDrop: drag.handleDrop,\n        onDragenter: drag.handleDragenter,\n        onDragover: drag.handleDragover,\n        onDragleave: drag.handleDragleave\n      } : {};\n    });\n    var getStatusMap = function getStatusMap() {\n      var iconMap = {\n        success: createVNode(CheckCircleFilledIcon$1, null, null),\n        fail: createVNode(ErrorCircleFilledIcon$1, null, null),\n        progress: createVNode(Loading, null, null),\n        waiting: createVNode(TimeFilledIcon$1, null, null)\n      };\n      var progress = locale.value.progress;\n      var textMap = {\n        success: progress === null || progress === void 0 ? void 0 : progress.successText,\n        fail: progress === null || progress === void 0 ? void 0 : progress.failText,\n        progress: progress === null || progress === void 0 ? void 0 : progress.uploadingText,\n        waiting: progress === null || progress === void 0 ? void 0 : progress.waitingText\n      };\n      return {\n        iconMap: iconMap,\n        textMap: textMap\n      };\n    };\n    var renderEmpty = function renderEmpty() {\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__flow-empty\")\n      }, [drag.dragActive.value ? locale.value.dragger.dragDropText : locale.value.dragger.clickAndDragText]);\n    };\n    var renderImgItem = function renderImgItem(file, index) {\n      var _getStatusMap = getStatusMap(),\n        iconMap = _getStatusMap.iconMap,\n        textMap = _getStatusMap.textMap;\n      var fileName = props.abridgeName && file.name ? abridgeName.apply(void 0, [file.name].concat(_toConsumableArray(props.abridgeName))) : file.name;\n      return createVNode(\"li\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__card-item\"),\n        \"key\": file.name + index + file.percent + file.status || \"0\"\n      }, [createVNode(\"div\", {\n        \"class\": [\"\".concat(uploadPrefix.value, \"__card-content\"), _defineProperty({}, \"\".concat(classPrefix.value, \"-is-bordered\"), file.status !== \"waiting\")]\n      }, [[\"fail\", \"progress\"].includes(file.status) && createVNode(\"div\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__card-status-wrap \").concat(uploadPrefix.value, \"__\").concat(props.theme, \"-\").concat(file.status)\n      }, [iconMap[file.status], createVNode(\"p\", null, [textMap[file.status], props.showUploadProgress && file.status === \"progress\" ? \" \".concat(file.percent, \"%\") : \"\"])]), ([\"waiting\", \"success\"].includes(file.status) || !file.status && file.url) && createVNode(Image, {\n        \"class\": \"\".concat(uploadPrefix.value, \"__card-image\"),\n        \"src\": file.url || file.raw,\n        \"error\": \"\",\n        \"loading\": \"\"\n      }, null), createVNode(\"div\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__card-mask\")\n      }, [(file.url || file.raw) && ![\"progress\", \"fail\"].includes(file.status) && createVNode(\"span\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__card-mask-item\")\n      }, [createVNode(BrowseIcon$1, {\n        \"onClick\": function onClick(_ref3) {\n          var _props$onPreview;\n          var e = _ref3.e;\n          previewIndex.value = index;\n          currentPreviewFile.value = displayFiles.value;\n          (_props$onPreview = props.onPreview) === null || _props$onPreview === void 0 || _props$onPreview.call(props, {\n            file: file,\n            index: index,\n            e: e\n          });\n        }\n      }, null), createVNode(\"span\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__card-mask-item-divider\")\n      }, null)]), !disabled.value && createVNode(\"span\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__card-mask-item \").concat(uploadPrefix.value, \"__delete\"),\n        \"onClick\": function onClick(e) {\n          return props.onRemove({\n            e: e,\n            index: index,\n            file: file\n          });\n        }\n      }, [createVNode(DeleteIcon$1, null, null)])])]), props.showImageFileName && createVNode(\"p\", {\n        \"class\": [\"\".concat(uploadPrefix.value, \"__card-name\"), \"\".concat(uploadPrefix.value, \"__flow-status\")]\n      }, [[\"success\", \"waiting\"].includes(file.status) && iconMap[file.status], fileName])]);\n    };\n    var renderStatus = function renderStatus(file) {\n      var _file$response, _file$response2;\n      var _getStatusMap2 = getStatusMap(),\n        iconMap = _getStatusMap2.iconMap,\n        textMap = _getStatusMap2.textMap;\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__flow-status\")\n      }, [iconMap[file.status], createVNode(\"span\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__\").concat(props.theme, \"-\").concat(file.status)\n      }, [(_file$response = file.response) !== null && _file$response !== void 0 && _file$response.error ? ((_file$response2 = file.response) === null || _file$response2 === void 0 ? void 0 : _file$response2.error) || textMap[file.status] : textMap[file.status], props.showUploadProgress && file.status === \"progress\" ? \" \".concat(file.percent || 0, \"%\") : \"\"])]);\n    };\n    var renderNormalActionCol = function renderNormalActionCol(file, index) {\n      var _locale$value;\n      return createVNode(\"td\", null, [createVNode(Button, {\n        \"theme\": \"primary\",\n        \"variant\": \"text\",\n        \"content\": (_locale$value = locale.value) === null || _locale$value === void 0 || (_locale$value = _locale$value.triggerUploadText) === null || _locale$value === void 0 ? void 0 : _locale$value[\"delete\"],\n        \"class\": \"\".concat(uploadPrefix.value, \"__delete\"),\n        \"onClick\": function onClick(e) {\n          return props.onRemove({\n            e: e,\n            index: index,\n            file: file\n          });\n        }\n      }, null)]);\n    };\n    var renderBatchActionCol = function renderBatchActionCol(index) {\n      var _locale$value2;\n      return index === 0 ? createVNode(\"td\", {\n        \"rowSpan\": displayFiles.value.length,\n        \"class\": \"\".concat(uploadPrefix.value, \"__flow-table__batch-row\")\n      }, [createVNode(Button, {\n        \"theme\": \"primary\",\n        \"variant\": \"text\",\n        \"content\": (_locale$value2 = locale.value) === null || _locale$value2 === void 0 || (_locale$value2 = _locale$value2.triggerUploadText) === null || _locale$value2 === void 0 ? void 0 : _locale$value2[\"delete\"],\n        \"class\": \"\".concat(uploadPrefix.value, \"__delete\"),\n        \"onClick\": function onClick(e) {\n          return props.onRemove({\n            e: e,\n            index: -1,\n            file: void 0\n          });\n        }\n      }, null)]) : null;\n    };\n    var getFileThumbnailIcon = function getFileThumbnailIcon(fileType) {\n      if (FILE_PDF_REGEXP.test(fileType)) {\n        return createVNode(FilePdfIcon$1, null, null);\n      }\n      if (FILE_EXCEL_REGEXP.test(fileType)) {\n        return createVNode(FileExcelIcon$1, null, null);\n      }\n      if (FILE_WORD_REGEXP.test(fileType)) {\n        return createVNode(FileWordIcon$1, null, null);\n      }\n      if (FILE_PPT_REGEXP.test(fileType)) {\n        return createVNode(FilePowerpointIcon$1, null, null);\n      }\n      if (VIDEO_REGEXP.test(fileType)) {\n        return createVNode(VideoIcon$1, null, null);\n      }\n      return createVNode(FileIcon$1, null, null);\n    };\n    var renderFileThumbnail = function renderFileThumbnail(file) {\n      if (!file || !file.raw && file.url) return null;\n      var fileType = file.raw.type;\n      var className = \"\".concat(uploadPrefix.value, \"__file-thumbnail\");\n      if (IMAGE_REGEXP.test(fileType)) {\n        return createVNode(Image, {\n          \"class\": className,\n          \"src\": file.url || file.raw,\n          \"fit\": \"scale-down\",\n          \"error\": \"\",\n          \"loading\": \"\",\n          \"onClick\": function onClick(e) {\n            var _props$onPreview2;\n            e.preventDefault();\n            currentPreviewFile.value = [file];\n            previewIndex.value = 0;\n            (_props$onPreview2 = props.onPreview) === null || _props$onPreview2 === void 0 || _props$onPreview2.call(props, {\n              file: file,\n              index: 0,\n              e: e\n            });\n          }\n        }, null);\n      }\n      return createVNode(\"div\", {\n        \"class\": className\n      }, [getFileThumbnailIcon(fileType)]);\n    };\n    var renderFileList = function renderFileList() {\n      var _locale$value$file, _locale$value$file2, _locale$value$file3, _locale$value$file4;\n      var customList = renderTNodeJSX(\"fileListDisplay\", {\n        params: {\n          cancelUpload: props.cancelUpload,\n          uploadFiles: props.uploadFiles,\n          onPreview: props.onPreview,\n          onRemove: props.onRemove,\n          toUploadFiles: props.toUploadFiles,\n          sizeOverLimitMessage: props.sizeOverLimitMessage,\n          locale: props.locale,\n          files: props.displayFiles,\n          dragEvents: innerDragEvents.value\n        }\n      });\n      if (customList || props.fileListDisplay) return customList;\n      return createVNode(\"table\", mergeProps({\n        \"class\": \"\".concat(uploadPrefix.value, \"__flow-table\")\n      }, innerDragEvents.value), [createVNode(\"thead\", null, [createVNode(\"tr\", null, [createVNode(\"th\", null, [(_locale$value$file = locale.value.file) === null || _locale$value$file === void 0 ? void 0 : _locale$value$file.fileNameText]), createVNode(\"th\", {\n        \"style\": {\n          minWidth: \"120px\"\n        }\n      }, [(_locale$value$file2 = locale.value.file) === null || _locale$value$file2 === void 0 ? void 0 : _locale$value$file2.fileSizeText]), createVNode(\"th\", {\n        \"style\": {\n          minWidth: \"120px\"\n        }\n      }, [(_locale$value$file3 = locale.value.file) === null || _locale$value$file3 === void 0 ? void 0 : _locale$value$file3.fileStatusText]), disabled.value ? null : createVNode(\"th\", null, [(_locale$value$file4 = locale.value.file) === null || _locale$value$file4 === void 0 ? void 0 : _locale$value$file4.fileOperationText])])]), createVNode(\"tbody\", null, [!displayFiles.value.length && createVNode(\"tr\", null, [createVNode(\"td\", {\n        \"colSpan\": 4\n      }, [renderEmpty()])]), displayFiles.value.map(function (file, index) {\n        var _props$abridgeName;\n        var showBatchUploadAction = props.isBatchUpload;\n        var deleteNode = showBatchUploadAction && displayFiles.value.every(function (item) {\n          return item.status === \"success\" || !item.status;\n        }) ? renderBatchActionCol(index) : renderNormalActionCol(file, index);\n        var fileName = (_props$abridgeName = props.abridgeName) !== null && _props$abridgeName !== void 0 && _props$abridgeName.length ? abridgeName.apply(void 0, [file.name].concat(_toConsumableArray(props.abridgeName))) : file.name;\n        var thumbnailNode = props.showThumbnail ? createVNode(\"div\", {\n          \"class\": \"\".concat(uploadPrefix.value, \"__file-info\")\n        }, [renderFileThumbnail(file), fileName]) : fileName;\n        var fileNameNode = file.url ? createVNode(Link, {\n          \"href\": file.url,\n          \"target\": \"_blank\",\n          \"hover\": \"color\",\n          \"disabled\": false\n        }, _isSlot(thumbnailNode) ? thumbnailNode : {\n          \"default\": function _default() {\n            return [thumbnailNode];\n          }\n        }) : thumbnailNode;\n        return createVNode(\"tr\", {\n          \"key\": file.name + index + file.size\n        }, [createVNode(\"td\", {\n          \"class\": \"\".concat(uploadPrefix.value, \"__file-name\"),\n          \"key\": file.name + file.url\n        }, [fileNameNode]), createVNode(\"td\", null, [returnFileSize(file.size)]), createVNode(\"td\", null, [renderStatus(file)]), disabled.value ? null : deleteNode]);\n      })])]);\n    };\n    var renderImageList = function renderImageList() {\n      var customList = renderTNodeJSX(\"fileListDisplay\", {\n        params: {\n          cancelUpload: props.cancelUpload,\n          uploadFiles: props.uploadFiles,\n          onRemove: props.onRemove,\n          onPreview: props.onPreview,\n          toUploadFiles: props.toUploadFiles,\n          sizeOverLimitMessage: props.sizeOverLimitMessage,\n          locale: props.locale,\n          files: props.displayFiles,\n          dragEvents: innerDragEvents.value\n        }\n      });\n      if (customList || props.fileListDisplay) return customList;\n      return createVNode(\"ul\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__card clearfix\")\n      }, [props.displayFiles.map(function (file, index) {\n        return renderImgItem(file, index);\n      })]);\n    };\n    return function () {\n      var _slots$default, _locale$value3, _locale$value4;\n      var cardClassName = \"\".concat(uploadPrefix.value, \"__flow-card-area\");\n      var cancelUploadDisabled = disabled.value || !uploading.value;\n      var hasCancelUploadTNode = slots.uploadButton || isFunction_1(props.uploadButton);\n      var uploadButtonDisabled = Boolean(disabled.value || uploading.value || !displayFiles.value.length);\n      var hasUploadButtonTNode = slots.cancelUploadButton || isFunction_1(props.cancelUploadButton);\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__flow \").concat(uploadPrefix.value, \"__flow-\").concat(props.theme)\n      }, [createVNode(\"div\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__flow-op\")\n      }, [(_slots$default = slots[\"default\"]) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots), props.placeholder && createVNode(\"small\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__flow-placeholder \").concat(uploadPrefix.value, \"__placeholder\")\n      }, [props.placeholder])]), props.theme === \"image-flow\" && createVNode(\"div\", mergeProps({\n        \"class\": cardClassName\n      }, innerDragEvents.value), [displayFiles.value.length ? renderImageList() : renderEmpty()]), props.theme === \"file-flow\" && (displayFiles.value.length ? renderFileList() : createVNode(\"div\", mergeProps({\n        \"class\": cardClassName\n      }, innerDragEvents.value), [renderEmpty()])), !props.autoUpload && (props.uploadButton !== null || props.cancelUploadButton !== null) && createVNode(\"div\", {\n        \"class\": \"\".concat(uploadPrefix.value, \"__flow-bottom\")\n      }, [props.cancelUploadButton !== null && (hasCancelUploadTNode ? renderTNodeJSX(\"cancelUploadButton\", {\n        params: {\n          disabled: cancelUploadDisabled,\n          cancelUploadText: (_locale$value3 = locale.value) === null || _locale$value3 === void 0 ? void 0 : _locale$value3.cancelUploadText,\n          cancelUpload: props.cancelUpload\n        }\n      }) : createVNode(Button, mergeProps({\n        \"theme\": \"default\",\n        \"disabled\": cancelUploadDisabled,\n        \"content\": (_locale$value4 = locale.value) === null || _locale$value4 === void 0 ? void 0 : _locale$value4.cancelUploadText,\n        \"class\": \"\".concat(uploadPrefix.value, \"__cancel\"),\n        \"onClick\": function onClick(e) {\n          var _props$cancelUpload;\n          return (_props$cancelUpload = props.cancelUpload) === null || _props$cancelUpload === void 0 ? void 0 : _props$cancelUpload.call(props, {\n            e: e\n          });\n        }\n      }, isObject_1(props.cancelUploadButton) ? props.cancelUploadButton : {}), null)), props.uploadButton !== null && (hasUploadButtonTNode ? renderTNodeJSX(\"uploadButton\", {\n        params: {\n          disabled: uploadButtonDisabled,\n          uploading: uploading.value,\n          uploadText: uploadText.value,\n          uploadFiles: props.uploadFiles\n        }\n      }) : createVNode(Button, mergeProps({\n        \"disabled\": uploadButtonDisabled,\n        \"theme\": \"primary\",\n        \"loading\": uploading.value,\n        \"class\": \"\".concat(uploadPrefix.value, \"__continue\"),\n        \"content\": uploadText.value,\n        \"onClick\": function onClick() {\n          var _props$uploadFiles;\n          return (_props$uploadFiles = props.uploadFiles) === null || _props$uploadFiles === void 0 ? void 0 : _props$uploadFiles.call(props);\n        }\n      }, isObject_1(props.uploadButton) ? props.uploadButton : {}), null))]), createVNode(ImageViewer, mergeProps({\n        \"images\": currentPreviewFile.value.map(function (t) {\n          return t.url || t.raw;\n        }),\n        \"visible\": !!currentPreviewFile.value.length,\n        \"onClose\": function onClose() {\n          currentPreviewFile.value = [];\n        },\n        \"index\": previewIndex.value,\n        \"onIndexChange\": function onIndexChange(val) {\n          return previewIndex.value = val;\n        }\n      }, props.imageViewerProps), null)]);\n    };\n  }\n});\nexport { MultipleFlowList as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","MultipleFlowList","defineComponent","name","props","_objectSpread","commonProps","showThumbnail","Boolean","uploadFiles","Function","cancelUpload","dragEvents","disabled","isBatchUpload","draggable","showImageFileName","uploadButton","cancelUploadButton","onPreview","setup","_ref","slots","_toRefs","toRefs","uploading","displayFiles","classPrefix","accept","uploadPrefix","computed","concat","value","locale","renderTNodeJSX","useTNodeJSX","_useGlobalIcon","useGlobalIcon","BrowseIcon","DeleteIcon","CheckCircleFilledIcon","ErrorCircleFilledIcon","TimeFilledIcon","FileExcelIcon","FilePdfIcon","FileWordIcon","FilePowerpointIcon","FileIcon","VideoIcon","BrowseIcon$1","DeleteIcon$1","CheckCircleFilledIcon$1","ErrorCircleFilledIcon$1","TimeFilledIcon$1","FileExcelIcon$1","FilePdfIcon$1","FileWordIcon$1","FilePowerpointIcon$1","FileIcon$1","VideoIcon$1","drag","useDrag","currentPreviewFile","ref","previewIndex","uploadText","progress","uploadingText","triggerUploadText","normal","innerDragEvents","onDrop","handleDrop","onDragenter","handleDragenter","onDragover","handleDragover","onDragleave","handleDragleave","getStatusMap","iconMap","success","createVNode","fail","Loading","waiting","textMap","successText","failText","waitingText","renderEmpty","dragActive","dragger","dragDropText","clickAndDragText","renderImgItem","file","index","_getStatusMap","fileName","abridgeName","apply","_toConsumableArray","percent","status","_defineProperty","includes","theme","showUploadProgress","url","Image","raw","onClick","_ref3","_props$onPreview","e","onRemove","renderStatus","_file$response","_file$response2","_getStatusMap2","response","error","renderNormalActionCol","_locale$value","Button","renderBatchActionCol","_locale$value2","length","getFileThumbnailIcon","fileType","FILE_PDF_REGEXP","test","FILE_EXCEL_REGEXP","FILE_WORD_REGEXP","FILE_PPT_REGEXP","VIDEO_REGEXP","renderFileThumbnail","type","className","IMAGE_REGEXP","_props$onPreview2","preventDefault","renderFileList","_locale$value$file","_locale$value$file2","_locale$value$file3","_locale$value$file4","customList","params","toUploadFiles","sizeOverLimitMessage","files","fileListDisplay","mergeProps","fileNameText","minWidth","fileSizeText","fileStatusText","fileOperationText","map","_props$abridgeName","showBatchUploadAction","deleteNode","every","item","thumbnailNode","fileNameNode","Link","_default","size","returnFileSize","renderImageList","_slots$default","_locale$value3","_locale$value4","cardClassName","cancelUploadDisabled","hasCancelUploadTNode","isFunction_1","uploadButtonDisabled","hasUploadButtonTNode","placeholder","autoUpload","cancelUploadText","_props$cancelUpload","isObject_1","_props$uploadFiles","ImageViewer","t","onClose","onIndexChange","val","imageViewerProps"],"sources":["../../../src/upload/themes/multiple-flow-list.tsx"],"sourcesContent":["import { computed, defineComponent, toRefs, PropType, ref } from 'vue';\nimport {\n  BrowseIcon as TdBrowseIcon,\n  DeleteIcon as TdDeleteIcon,\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n  TimeFilledIcon as TdTimeFilledIcon,\n  FileExcelIcon as TdFileExcelIcon,\n  FilePdfIcon as TdFilePdfIcon,\n  FileWordIcon as TdFileWordIcon,\n  FilePowerpointIcon as TdFilePowerpointIcon,\n  FileIcon as TdFileIcon,\n  VideoIcon as TdVideoIcon,\n} from 'tdesign-icons-vue-next';\nimport isFunction from 'lodash/isFunction';\nimport isObject from 'lodash/isObject';\nimport useGlobalIcon from '../../hooks/useGlobalIcon';\nimport ImageViewer, { ImageViewerProps } from '../../image-viewer';\nimport { CommonDisplayFileProps } from '../interface';\nimport { commonProps } from '../constants';\nimport TButton from '../../button';\nimport { UploadFile, TdUploadProps } from '../type';\nimport useDrag, { UploadDragEvents } from '../hooks/useDrag';\nimport {\n  abridgeName,\n  returnFileSize,\n  IMAGE_REGEXP,\n  FILE_PDF_REGEXP,\n  FILE_EXCEL_REGEXP,\n  FILE_WORD_REGEXP,\n  FILE_PPT_REGEXP,\n  VIDEO_REGEXP,\n} from '../../_common/js/upload/utils';\nimport TLoading from '../../loading';\nimport { useTNodeJSX } from '../../hooks';\nimport Link from '../../link';\nimport { UploadConfig } from '../../config-provider';\nimport Image from '../../image';\n\nexport interface ImageFlowListProps extends CommonDisplayFileProps {\n  uploadFiles?: (toFiles?: UploadFile[]) => void;\n  cancelUpload?: (context: { e: MouseEvent; file?: UploadFile }) => void;\n  dragEvents: UploadDragEvents;\n  disabled?: boolean;\n  isBatchUpload?: boolean;\n  draggable?: boolean;\n  onPreview?: TdUploadProps['onPreview'];\n  uploadButton?: TdUploadProps['uploadButton'];\n  cancelUploadButton?: TdUploadProps['cancelUploadButton'];\n}\n\nexport default defineComponent({\n  name: 'UploadMultipleFlowList',\n\n  props: {\n    ...commonProps,\n    showThumbnail: Boolean,\n    uploadFiles: Function as PropType<ImageFlowListProps['uploadFiles']>,\n    cancelUpload: Function as PropType<ImageFlowListProps['cancelUpload']>,\n    dragEvents: Object as PropType<ImageFlowListProps['dragEvents']>,\n    disabled: Boolean,\n    isBatchUpload: Boolean,\n    draggable: Boolean,\n    showImageFileName: Boolean,\n    uploadButton: Object as PropType<ImageFlowListProps['uploadButton']>,\n    cancelUploadButton: Object as PropType<ImageFlowListProps['cancelUploadButton']>,\n    onPreview: Function as PropType<ImageFlowListProps['onPreview']>,\n  },\n\n  setup(props, { slots }) {\n    // locale 已经在 useUpload 中统一处理优先级\n    const { uploading, disabled, displayFiles, classPrefix, accept } = toRefs(props);\n    const uploadPrefix = computed(() => `${classPrefix.value}-upload`);\n\n    const locale = computed(() => props.locale as UploadConfig);\n\n    const renderTNodeJSX = useTNodeJSX();\n\n    const {\n      BrowseIcon,\n      DeleteIcon,\n      CheckCircleFilledIcon,\n      ErrorCircleFilledIcon,\n      TimeFilledIcon,\n      FileExcelIcon,\n      FilePdfIcon,\n      FileWordIcon,\n      FilePowerpointIcon,\n      FileIcon,\n      VideoIcon,\n    } = useGlobalIcon({\n      BrowseIcon: TdBrowseIcon,\n      DeleteIcon: TdDeleteIcon,\n      CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n      ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n      TimeFilledIcon: TdTimeFilledIcon,\n      FileExcelIcon: TdFileExcelIcon,\n      FilePdfIcon: TdFilePdfIcon,\n      FileWordIcon: TdFileWordIcon,\n      FilePowerpointIcon: TdFilePowerpointIcon,\n      FileIcon: TdFileIcon,\n      VideoIcon: TdVideoIcon,\n    });\n\n    const drag = useDrag(props.dragEvents, accept);\n\n    const currentPreviewFile = ref<UploadFile[]>([]);\n    const previewIndex = ref(0);\n\n    const uploadText = computed(() => {\n      if (uploading.value) return `${locale.value.progress.uploadingText}`;\n      return locale.value.triggerUploadText.normal;\n    });\n\n    const innerDragEvents = computed(() => {\n      const draggable = props.draggable === undefined ? true : props.draggable;\n      return draggable\n        ? {\n            onDrop: drag.handleDrop,\n            onDragenter: drag.handleDragenter,\n            onDragover: drag.handleDragover,\n            onDragleave: drag.handleDragleave,\n          }\n        : {};\n    });\n\n    const getStatusMap = () => {\n      const iconMap = {\n        success: <CheckCircleFilledIcon />,\n        fail: <ErrorCircleFilledIcon />,\n        progress: <TLoading />,\n        waiting: <TimeFilledIcon />,\n      };\n      const { progress } = locale.value;\n      const textMap = {\n        success: progress?.successText,\n        fail: progress?.failText,\n        progress: progress?.uploadingText,\n        waiting: progress?.waitingText,\n      };\n      return {\n        iconMap,\n        textMap,\n      };\n    };\n\n    const renderEmpty = () => (\n      <div class={`${uploadPrefix.value}__flow-empty`}>\n        {drag.dragActive.value ? locale.value.dragger.dragDropText : locale.value.dragger.clickAndDragText}\n      </div>\n    );\n\n    const renderImgItem = (file: UploadFile, index: number) => {\n      const { iconMap, textMap } = getStatusMap();\n      const fileName = props.abridgeName && file.name ? abridgeName(file.name, ...props.abridgeName) : file.name;\n      return (\n        <li class={`${uploadPrefix.value}__card-item`} key={file.name + index + file.percent + file.status || '0'}>\n          <div\n            class={[\n              `${uploadPrefix.value}__card-content`,\n              { [`${classPrefix.value}-is-bordered`]: file.status !== 'waiting' },\n            ]}\n          >\n            {['fail', 'progress'].includes(file.status) && (\n              <div\n                class={`${uploadPrefix.value}__card-status-wrap ${uploadPrefix.value}__${props.theme}-${file.status}`}\n              >\n                {iconMap[file.status as 'fail' | 'progress']}\n                <p>\n                  {textMap[file.status as 'fail' | 'progress']}\n                  {props.showUploadProgress && file.status === 'progress' ? ` ${file.percent}%` : ''}\n                </p>\n              </div>\n            )}\n            {(['waiting', 'success'].includes(file.status) || (!file.status && file.url)) && (\n              <Image class={`${uploadPrefix.value}__card-image`} src={file.url || file.raw} error=\"\" loading=\"\" />\n            )}\n            <div class={`${uploadPrefix.value}__card-mask`}>\n              {(file.url || file.raw) && !['progress', 'fail'].includes(file.status) && (\n                <span class={`${uploadPrefix.value}__card-mask-item`}>\n                  <BrowseIcon\n                    onClick={({ e }: { e: MouseEvent }) => {\n                      previewIndex.value = index;\n                      currentPreviewFile.value = displayFiles.value;\n                      props.onPreview?.({ file, index, e });\n                    }}\n                  />\n                  <span class={`${uploadPrefix.value}__card-mask-item-divider`}></span>\n                </span>\n              )}\n              {!disabled.value && (\n                <span\n                  class={`${uploadPrefix.value}__card-mask-item ${uploadPrefix.value}__delete`}\n                  onClick={(e: MouseEvent) => props.onRemove({ e, index, file })}\n                >\n                  <DeleteIcon />\n                </span>\n              )}\n            </div>\n          </div>\n          {props.showImageFileName && (\n            <p class={[`${uploadPrefix.value}__card-name`, `${uploadPrefix.value}__flow-status`]}>\n              {['success', 'waiting'].includes(file.status) && iconMap[file.status]}\n              {fileName}\n            </p>\n          )}\n        </li>\n      );\n    };\n\n    const renderStatus = (file: UploadFile) => {\n      const { iconMap, textMap } = getStatusMap();\n      return (\n        <div class={`${uploadPrefix.value}__flow-status`}>\n          {iconMap[file.status]}\n          <span class={`${uploadPrefix.value}__${props.theme}-${file.status}`}>\n            {file.response?.error ? file.response?.error || textMap[file.status] : textMap[file.status]}\n            {props.showUploadProgress && file.status === 'progress' ? ` ${file.percent || 0}%` : ''}\n          </span>\n        </div>\n      );\n    };\n\n    const renderNormalActionCol = (file: UploadFile, index: number) => (\n      <td>\n        <TButton\n          theme=\"primary\"\n          variant=\"text\"\n          content={locale.value?.triggerUploadText?.delete}\n          class={`${uploadPrefix.value}__delete`}\n          onClick={(e: MouseEvent) => props.onRemove({ e, index, file })}\n        ></TButton>\n      </td>\n    );\n\n    // batchUpload action col\n    const renderBatchActionCol = (index: number) =>\n      // 第一行数据才需要合并单元格\n      index === 0 ? (\n        <td rowSpan={displayFiles.value.length} class={`${uploadPrefix.value}__flow-table__batch-row`}>\n          <TButton\n            theme=\"primary\"\n            variant=\"text\"\n            content={locale.value?.triggerUploadText?.delete}\n            class={`${uploadPrefix.value}__delete`}\n            onClick={(e: MouseEvent) => props.onRemove({ e, index: -1, file: undefined })}\n          ></TButton>\n        </td>\n      ) : null;\n\n    const getFileThumbnailIcon = (fileType: string) => {\n      if (FILE_PDF_REGEXP.test(fileType)) {\n        return <FilePdfIcon />;\n      }\n      if (FILE_EXCEL_REGEXP.test(fileType)) {\n        return <FileExcelIcon />;\n      }\n      if (FILE_WORD_REGEXP.test(fileType)) {\n        return <FileWordIcon />;\n      }\n      if (FILE_PPT_REGEXP.test(fileType)) {\n        return <FilePowerpointIcon />;\n      }\n      if (VIDEO_REGEXP.test(fileType)) {\n        return <VideoIcon />;\n      }\n      return <FileIcon />;\n    };\n\n    const renderFileThumbnail = (file: UploadFile) => {\n      if (!file || (!file.raw && file.url)) return null;\n      const fileType = file.raw.type;\n      const className = `${uploadPrefix.value}__file-thumbnail`;\n      if (IMAGE_REGEXP.test(fileType)) {\n        return (\n          <Image\n            class={className}\n            src={file.url || file.raw}\n            fit=\"scale-down\"\n            error=\"\"\n            loading=\"\"\n            onClick={(e: MouseEvent) => {\n              e.preventDefault();\n              currentPreviewFile.value = [file];\n              previewIndex.value = 0;\n              props.onPreview?.({ file, index: 0, e });\n            }}\n          />\n        );\n      }\n      return <div class={className}>{getFileThumbnailIcon(fileType)}</div>;\n    };\n\n    const renderFileList = () => {\n      const customList = renderTNodeJSX('fileListDisplay', {\n        params: {\n          cancelUpload: props.cancelUpload,\n          uploadFiles: props.uploadFiles,\n          onPreview: props.onPreview,\n          onRemove: props.onRemove,\n          toUploadFiles: props.toUploadFiles,\n          sizeOverLimitMessage: props.sizeOverLimitMessage,\n          locale: props.locale,\n          files: props.displayFiles,\n          dragEvents: innerDragEvents.value,\n        },\n      });\n      if (customList || props.fileListDisplay) return customList;\n      return (\n        <table class={`${uploadPrefix.value}__flow-table`} {...innerDragEvents.value}>\n          <thead>\n            <tr>\n              <th>{locale.value.file?.fileNameText}</th>\n              <th style={{ minWidth: '120px' }}>{locale.value.file?.fileSizeText}</th>\n              <th style={{ minWidth: '120px' }}>{locale.value.file?.fileStatusText}</th>\n              {disabled.value ? null : <th>{locale.value.file?.fileOperationText}</th>}\n            </tr>\n          </thead>\n          <tbody>\n            {!displayFiles.value.length && (\n              <tr>\n                <td colSpan={4}>{renderEmpty()}</td>\n              </tr>\n            )}\n            {displayFiles.value.map((file, index) => {\n              // 合并操作出现条件为：当前为合并上传模式且列表内没有待上传文件\n              const showBatchUploadAction = props.isBatchUpload;\n              const deleteNode =\n                showBatchUploadAction && displayFiles.value.every((item) => item.status === 'success' || !item.status)\n                  ? renderBatchActionCol(index)\n                  : renderNormalActionCol(file, index);\n              const fileName = props.abridgeName?.length ? abridgeName(file.name, ...props.abridgeName) : file.name;\n              const thumbnailNode = props.showThumbnail ? (\n                <div class={`${uploadPrefix.value}__file-info`}>\n                  {renderFileThumbnail(file)}\n                  {fileName}\n                </div>\n              ) : (\n                fileName\n              );\n              const fileNameNode = file.url ? (\n                // 此次需要设置disabled为false 否则链接会跟随表单不可点击\n                <Link href={file.url} target=\"_blank\" hover=\"color\" disabled={false}>\n                  {thumbnailNode}\n                </Link>\n              ) : (\n                thumbnailNode\n              );\n              return (\n                <tr key={file.name + index + file.size}>\n                  <td class={`${uploadPrefix.value}__file-name`} key={file.name + file.url}>\n                    {fileNameNode}\n                  </td>\n                  <td>{returnFileSize(file.size)}</td>\n                  <td>{renderStatus(file)}</td>\n                  {disabled.value ? null : deleteNode}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      );\n    };\n\n    const renderImageList = () => {\n      const customList = renderTNodeJSX('fileListDisplay', {\n        params: {\n          cancelUpload: props.cancelUpload,\n          uploadFiles: props.uploadFiles,\n          onRemove: props.onRemove,\n          onPreview: props.onPreview,\n          toUploadFiles: props.toUploadFiles,\n          sizeOverLimitMessage: props.sizeOverLimitMessage,\n          locale: props.locale,\n          files: props.displayFiles,\n          dragEvents: innerDragEvents.value,\n        },\n      });\n      if (customList || props.fileListDisplay) return customList;\n      return (\n        <ul class={`${uploadPrefix.value}__card clearfix`}>\n          {props.displayFiles.map((file, index) => renderImgItem(file, index))}\n        </ul>\n      );\n    };\n\n    return () => {\n      const cardClassName = `${uploadPrefix.value}__flow-card-area`;\n      const cancelUploadDisabled = disabled.value || !uploading.value;\n      const hasCancelUploadTNode = slots.uploadButton || isFunction(props.uploadButton);\n      const uploadButtonDisabled = Boolean(disabled.value || uploading.value || !displayFiles.value.length);\n      const hasUploadButtonTNode = slots.cancelUploadButton || isFunction(props.cancelUploadButton);\n      return (\n        <div class={`${uploadPrefix.value}__flow ${uploadPrefix.value}__flow-${props.theme}`}>\n          <div class={`${uploadPrefix.value}__flow-op`}>\n            {slots.default?.()}\n            {props.placeholder && (\n              <small class={`${uploadPrefix.value}__flow-placeholder ${uploadPrefix.value}__placeholder`}>\n                {props.placeholder}\n              </small>\n            )}\n          </div>\n\n          {props.theme === 'image-flow' && (\n            <div class={cardClassName} {...innerDragEvents.value}>\n              {displayFiles.value.length ? renderImageList() : renderEmpty()}\n            </div>\n          )}\n\n          {props.theme === 'file-flow' &&\n            (displayFiles.value.length ? (\n              renderFileList()\n            ) : (\n              <div class={cardClassName} {...innerDragEvents.value}>\n                {renderEmpty()}\n              </div>\n            ))}\n\n          {!props.autoUpload && (props.uploadButton !== null || props.cancelUploadButton !== null) && (\n            <div class={`${uploadPrefix.value}__flow-bottom`}>\n              {props.cancelUploadButton !== null &&\n                (hasCancelUploadTNode ? (\n                  renderTNodeJSX('cancelUploadButton', {\n                    params: {\n                      disabled: cancelUploadDisabled,\n                      cancelUploadText: locale.value?.cancelUploadText,\n                      cancelUpload: props.cancelUpload,\n                    },\n                  })\n                ) : (\n                  <TButton\n                    theme=\"default\"\n                    disabled={cancelUploadDisabled}\n                    content={locale.value?.cancelUploadText}\n                    class={`${uploadPrefix.value}__cancel`}\n                    onClick={(e) => props.cancelUpload?.({ e })}\n                    {...(isObject(props.cancelUploadButton) ? props.cancelUploadButton : {})}\n                  ></TButton>\n                ))}\n              {props.uploadButton !== null &&\n                (hasUploadButtonTNode ? (\n                  renderTNodeJSX('uploadButton', {\n                    params: {\n                      disabled: uploadButtonDisabled,\n                      uploading: uploading.value,\n                      uploadText: uploadText.value,\n                      uploadFiles: props.uploadFiles,\n                    },\n                  })\n                ) : (\n                  <TButton\n                    disabled={uploadButtonDisabled}\n                    theme=\"primary\"\n                    loading={uploading.value}\n                    class={`${uploadPrefix.value}__continue`}\n                    content={uploadText.value}\n                    onClick={() => props.uploadFiles?.()}\n                    {...(isObject(props.uploadButton) ? props.uploadButton : {})}\n                  ></TButton>\n                ))}\n            </div>\n          )}\n\n          <ImageViewer\n            images={currentPreviewFile.value.map((t) => t.url || t.raw)}\n            visible={!!currentPreviewFile.value.length}\n            onClose={() => {\n              currentPreviewFile.value = [];\n            }}\n            index={previewIndex.value}\n            onIndexChange={(val) => (previewIndex.value = val)}\n            {...(props.imageViewerProps as ImageViewerProps)}\n          ></ImageViewer>\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}